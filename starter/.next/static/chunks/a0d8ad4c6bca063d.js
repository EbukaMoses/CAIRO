(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82757,t=>{"use strict";var e={id:BigInt("0x534e5f5345504f4c4941"),network:"devnet",name:"Starknet Devnet",nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},testnet:!0,rpcUrls:{default:{http:[]},public:{http:["http://localhost:5050/rpc"]}},paymasterRpcUrls:{avnu:{http:["http://localhost:5050"]}}};function r(t){return{id:BigInt(t),network:`slot-${t}`,name:`${t}`,nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},testnet:!0,rpcUrls:{default:{http:[]},public:{http:[`https://api.cartridge.gg/x/${t}/katana`]}},paymasterRpcUrls:{avnu:{http:["https://sepolia.paymaster.avnu.fi/"]}}}}var n={id:BigInt("0x534e5f4d41494e"),network:"mainnet",name:"Starknet",nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://starknet-mainnet.g.alchemy.com/v2"]},blast:{http:["https://starknet-mainnet.blastapi.io"]},infura:{http:["https://starknet-mainnet.infura.io/v3"]},lava:{http:["https://g.w.lavanet.xyz:443/gateway/strk/rpc-http"]},cartridge:{http:["https://api.cartridge.gg/x/starknet/mainnet"]},default:{http:[]},public:{http:["https://starknet-mainnet.public.blastapi.io/rpc/v0_8","https://rpc.starknet.lava.build"]}},paymasterRpcUrls:{avnu:{http:["https://starknet.paymaster.avnu.fi/"]}},explorers:{starkCompass:["https://www.starkcompass.com"],cartridge:["https://explorer.cartridge.gg"],starkscan:["https://starkscan.co"],viewblock:["https://viewblock.io/starknet"],voyager:["https://voyager.online"]}},i={id:BigInt("0x534e5f5345504f4c4941"),network:"sepolia",name:"Starknet Sepolia Testnet",nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},testnet:!0,rpcUrls:{blast:{http:["https://starknet-sepolia.blastapi.io"]},infura:{http:["https://starknet-sepolia.infura.io/v3"]},cartridge:{http:["https://api.cartridge.gg/x/starknet/sepolia"]},default:{http:[]},public:{http:["https://starknet-sepolia.public.blastapi.io"]}},paymasterRpcUrls:{avnu:{http:["https://sepolia.paymaster.avnu.fi/"]}},explorers:{cartridge:["https://starknet-sepolia.explorer.cartridge.gg"],starkscan:["https://sepolia.starkscan.co"],voyager:["https://sepolia.voyager.online"]}};t.s(["devnet",()=>e,"getSlotChain",()=>r,"mainnet",()=>n,"sepolia",()=>i])},78492,(t,e,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,r,n,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new s(r,n||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],o]:t._events[c].push(o):(t._events[c]=o,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new a:delete t._events[e]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},l.prototype.listeners=function(t){var e=i?i+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,s=Array(a);n<a;n++)s[n]=r[n].fn;return s},l.prototype.listenerCount=function(t){var e=i?i+t:t,r=this._events[e];return r?r.fn?1:r.length:0},l.prototype.emit=function(t,e,r,n,a,s){var o=i?i+t:t;if(!this._events[o])return!1;var c,l,u=this._events[o],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,a),!0;case 6:return u.fn.call(u.context,e,r,n,a,s),!0}for(l=1,c=Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;case 4:u[l].fn.call(u[l].context,e,r,n);break;default:if(!c)for(d=1,c=Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},l.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},l.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},l.prototype.removeListener=function(t,e,r,n){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return c(this,a),this;var s=this._events[a];if(s.fn)s.fn!==e||n&&!s.once||r&&s.context!==r||c(this,a);else{for(var o=0,l=[],u=s.length;o<u;o++)(s[o].fn!==e||n&&!s[o].once||r&&s[o].context!==r)&&l.push(s[o]);l.length?this._events[a]=1===l.length?l[0]:l:c(this,a)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&c(this,e)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},67034,(t,e,r)=>{var n={675:function(t,e){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return(r+n)*3/4-n},e.toByteArray=function(t){var e,r,a=c(t),s=a[0],o=a[1],l=new i((s+o)*3/4-o),u=0,h=o>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===o&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,l[u++]=255&e),1===o&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,a=[],s=0,o=n-i;s<o;s+=16383)a.push(function(t,e,n){for(var i,a=[],s=e;s<n;s+=3)i=(t[s]<<16&0xff0000)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}(t,s,s+16383>o?o:s+16383));return 1===i?a.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&a.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),a.join("")};for(var r=[],n=[],i="u">typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(t,e,r){"use strict";var n=r(675),i=r(783),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>0x7fffffff)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t){var n=t,i=e;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);var a=0|f(n,i),c=s(a),l=c.write(n,i);return l!==a&&(c=c.slice(0,l)),c}if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(C(t,ArrayBuffer)||t&&C(t.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(C(t,SharedArrayBuffer)||t&&C(t.buffer,SharedArrayBuffer)))return function(t,e,r){var n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),o.prototype),n}(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var u=t.valueOf&&t.valueOf();if(null!=u&&u!==t)return o.from(u,e,r);var p=function(t){if(o.isBuffer(t)){var e=0|d(t.length),r=s(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||function(t){return t!=t}(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(p)return p;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return l(t),s(t<0?0:0|d(t))}function h(t){for(var e=t.length<0?0:0|d(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,e,r){return(l(t),t<=0)?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)},o.allocUnsafe=function(t){return u(t)},o.allocUnsafeSlow=function(t){return u(t)};function d(t){if(t>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function f(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||C(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return N(t).length;default:if(i)return n?-1:T(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,r){var i,a,s,o=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=D[t[a]];return i}(this,e,r);case"utf8":case"utf-8":return b(this,e,r);case"ascii":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}(this,e,r);case"base64":return i=this,a=e,s=r,0===a&&s===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}(this,e,r);default:if(o)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){var a;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length)if(i)return -1;else r=t.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e){if(e&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(t,e,r);else return Uint8Array.prototype.lastIndexOf.call(t,e,r);return m(t,[e],r,n,i)}throw TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var a,s=1,o=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;s=2,o/=2,c/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(a=r;a<o;a++)if(l(t,a)===l(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*s}else -1!==u&&(a-=a-u),u=-1}else for(r+c>o&&(r=o-c),a=r;a>=0;a--){for(var h=!0,d=0;d<c;d++)if(l(t,a+d)!==l(e,d)){h=!1;break}if(h)return a}return -1}o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(C(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),C(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:+(n<r)},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;var r,n=o.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(C(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?b(this,0,t):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},a&&(o.prototype[a]=o.prototype.inspect),o.prototype.compare=function(t,e,r,n,i){if(C(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,s=r-e,c=Math.min(a,s),l=this.slice(n,i),u=t.slice(e,r),h=0;h<c;++h)if(l[h]!==u[h]){a=l[h],s=u[h];break}return a<s?-1:+(s<a)},o.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},o.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)};function b(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,s,o,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(u=l);break;case 2:(192&(a=t[i+1]))==128&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=t[i+1],s=t[i+2],(192&a)==128&&(192&s)==128&&(c=(15&l)<<12|(63&a)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=t[i+1],s=t[i+2],o=t[i+3],(192&a)==128&&(192&s)==128&&(192&o)==128&&(c=(15&l)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}var d=n,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",g=0;g<f;)p+=String.fromCharCode.apply(String,d.slice(g,g+=4096));return p}function _(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function w(t,e,r,n,i,a){if(!o.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function E(t,e,r,n,i,a){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function v(t,e,r,n,a){return e*=1,r>>>=0,a||E(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function I(t,e,r,n,a){return e*=1,r>>>=0,a||E(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,a,s,o,c,l,u,h,d=this.length-e;if((void 0===r||r>d)&&(r=d),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o,c=parseInt(e.substr(2*s,2),16);if((o=c)!=o)break;t[r+s]=c}return s}(this,t,e,r);case"utf8":case"utf-8":return i=e,a=r,x(T(t,this.length-i),this,i,a);case"ascii":return s=e,o=r,x(S(t),this,s,o);case"latin1":case"binary":return function(t,e,r,n){return x(S(e),t,r,n)}(this,t,e,r);case"base64":return c=e,l=r,x(N(t),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=e,h=r,x(function(t,e){for(var r,n,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=(r=t.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(t,this.length-u),this,u,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||_(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},o.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||_(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return t>>>=0,e||_(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||_(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||_(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||_(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},o.prototype.readInt8=function(t,e){return(t>>>=0,e||_(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||_(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt16BE=function(t,e){t>>>=0,e||_(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?0xffff0000|r:r},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||_(t,4,this.length),i.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||_(t,4,this.length),i.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||_(t,8,this.length),i.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||_(t,8,this.length),i.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){if(t*=1,e>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,t,e,r,i,0)}var a=1,s=0;for(this[e]=255&t;++s<r&&(a*=256);)this[e+s]=t/a&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){if(t*=1,e>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,t,e,r,i,0)}var a=r-1,s=1;for(this[e+a]=255&t;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUInt16BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUInt32LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0xffffffff,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUInt32BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0xffffffff,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t*=1,e>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,t,e,r,i-1,-i)}var a=0,s=1,o=0;for(this[e]=255&t;++a<r&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s|0)-o&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t*=1,e>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,t,e,r,i-1,-i)}var a=r-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s|0)-o&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0x7fffffff,-0x80000000),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,r){return v(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return v(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return I(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return I(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(!o.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var a=i-1;a>=0;--a)t[a+e]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},o.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){var i,a=t.charCodeAt(0);("utf8"===n&&a<128||"latin1"===n)&&(t=a)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=o.isBuffer(t)?t:o.from(t,n),c=s.length;if(0===c)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%c]}return this};var A=/[^+/0-9A-Za-z-_]/g;function T(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function S(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function N(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function x(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length)&&!(i>=t.length);++i)e[i+r]=t[i];return i}function C(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var D=function(){for(var t="0123456789abcdef",e=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},783:function(t,e){e.read=function(t,e,r,n,i){var a,s,o=8*i-n-1,c=(1<<o)-1,l=c>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=o;u>0;a=256*a+t[e+h],h+=d,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===a)a=1-l;else{if(a===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),a-=l}return(f?-1:1)*s*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var s,o,c,l=8*a-i-1,u=(1<<l)-1,h=u>>1,d=5960464477539062e-23*(23===i),f=n?0:a-1,p=n?1:-1,g=+(e<0||0===e&&1/e<0);for(isNaN(e=Math.abs(e))||e===1/0?(o=+!!isNaN(e),s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?e+=d/c:e+=d*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=u?(o=0,s=u):s+h>=1?(o=(e*c-1)*Math.pow(2,i),s+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+f]=255&o,f+=p,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;t[r+f]=255&s,f+=p,s/=256,l-=8);t[r+f-p]|=128*g}}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}},s=!0;try{n[t](r,r.exports,a),s=!1}finally{s&&delete i[t]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/buffer/",e.exports=a(72)},95932,46140,53443,t=>{"use strict";let e,r,n,i,a,s,o,c,l,u=t.i(78492).default;t.s(["default",0,u],95932),t.s(["Permission",0,{ACCOUNTS:"accounts"}],46140);var h,d,f,p=t.i(67034);t.s([],19520);var g=t.i(19520);t.s([],68569),t.i(68569),t.s([],20349),t.i(20349),t.s([],70679),t.i(70679),t.s([],12430),t.i(12430),t.s([],78744),t.i(78744);let y="ACCEPTED_ON_L2",m="ACCEPTED_ON_L1",b="SUCCEEDED",_="REVERTED",w="PENDING",E="REJECTED",v="RECEIVED",I="DECLARE",A="DEPLOY",T="DEPLOY_ACCOUNT",S="INVOKE",N="L1_HANDLER",x="struct",C="event",D="function",M="constructor",k="l1_handler",O="enum",R="view",B="external",L={BLOB:"BLOB",CALLDATA:"CALLDATA"},P={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},j={DECLARE:I,DEPLOY:A,DEPLOY_ACCOUNT:T,INVOKE:S,L1_HANDLER:N},U={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},z={RECEIVED:v,REJECTED:E,ACCEPTED_ON_L2:y,ACCEPTED_ON_L1:m},F={ACCEPTED_ON_L2:y,ACCEPTED_ON_L1:m},V={SUCCEEDED:b,REVERTED:_},H={LATEST:"latest",PENDING:"pending"},$={L1:"L1",L2:"L2"},Y={L1:0,L2:1},q={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},Q={V0:q.V0,V1:q.V1,V2:q.V2,F0:q.F0,F1:q.F1,F2:q.F2},W={V3:q.V3,F3:q.F3};t.s(["ABI_TYPE_CONSTRUCTOR",0,M,"ABI_TYPE_ENUM",0,O,"ABI_TYPE_FUNCTION",0,D,"ABI_TYPE_L1_HANDLER",0,k,"CALL_TYPE",0,P,"EBlockTag",0,H,"EDAMode",0,Y,"EDataAvailabilityMode",0,$,"ESimulationFlag",0,U,"ETransactionExecutionStatus",0,V,"ETransactionFinalityStatus",0,F,"ETransactionStatus",0,z,"ETransactionType",0,j,"ETransactionVersion",0,q,"ETransactionVersion2",0,Q,"ETransactionVersion3",0,W,"EVENT_ABI_TYPE",0,C,"L1_DA_MODE",0,L,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,B,"STATE_MUTABILITY_VIEW",0,R,"STATUS_ACCEPTED_ON_L1",0,m,"STATUS_ACCEPTED_ON_L2",0,y,"STATUS_PENDING",0,w,"STATUS_RECEIVED",0,v,"STATUS_REJECTED",0,E,"STATUS_REVERTED",0,_,"STATUS_SUCCEEDED",0,b,"STRUCT_ABI_TYPE",0,x,"TXN_TYPE_DECLARE",0,I,"TXN_TYPE_DEPLOY",0,A,"TXN_TYPE_DEPLOY_ACCOUNT",0,T,"TXN_TYPE_INVOKE",0,S,"TXN_TYPE_L1_HANDLER",0,N],72026),t.i(72026),t.s([],736),t.i(736),t.s([],76616),t.i(76616),t.s(["ABI_TYPE_CONSTRUCTOR",0,M,"ABI_TYPE_ENUM",0,O,"ABI_TYPE_FUNCTION",0,D,"ABI_TYPE_L1_HANDLER",0,k,"CALL_TYPE",0,P,"CONTRACT",0,g,"EBlockTag",0,H,"EDAMode",0,Y,"EDataAvailabilityMode",0,$,"ESimulationFlag",0,U,"ETransactionExecutionStatus",0,V,"ETransactionFinalityStatus",0,F,"ETransactionStatus",0,z,"ETransactionType",0,j,"ETransactionVersion",0,q,"ETransactionVersion2",0,Q,"ETransactionVersion3",0,W,"EVENT_ABI_TYPE",0,C,"L1_DA_MODE",0,L,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,B,"STATE_MUTABILITY_VIEW",0,R,"STATUS_ACCEPTED_ON_L1",0,m,"STATUS_ACCEPTED_ON_L2",0,y,"STATUS_PENDING",0,w,"STATUS_RECEIVED",0,v,"STATUS_REJECTED",0,E,"STATUS_REVERTED",0,_,"STATUS_SUCCEEDED",0,b,"STRUCT_ABI_TYPE",0,x,"TXN_TYPE_DECLARE",0,I,"TXN_TYPE_DEPLOY",0,A,"TXN_TYPE_DEPLOY_ACCOUNT",0,T,"TXN_TYPE_INVOKE",0,S,"TXN_TYPE_L1_HANDLER",0,N],35365);var Z=t.i(35365);t.s([],80928),t.i(80928);let G={ACCOUNTS:"accounts"};t.s(["Permission",0,G],58072),t.i(58072);let K={ACTIVE:"1",LEGACY:"0"};t.s(["TypedDataRevision",0,K],12452),t.i(12452),t.s([],17344),t.i(17344),t.s([],41203),t.i(41203),t.s([],13863),t.i(13863),t.s([],83041),t.i(83041),t.s([],87795),t.i(87795),t.s(["Permission",0,G,"TypedDataRevision",0,K],72574);var X=t.i(72574);t.s([],27607),t.i(27607),t.s([],99400),t.i(99400),t.s([],94902),t.i(94902),t.s([],4959),t.i(4959),t.s([],72744),t.i(72744),t.s([],23018);var J=t.i(23018);t.s([],94751),t.i(94751),t.s(["ABI_TYPE_CONSTRUCTOR",0,M,"ABI_TYPE_ENUM",0,O,"ABI_TYPE_FUNCTION",0,D,"ABI_TYPE_L1_HANDLER",0,k,"API",0,Z,"CALL_TYPE",0,P,"CONTRACT",()=>g,"EBlockTag",0,H,"EDAMode",0,Y,"EDataAvailabilityMode",0,$,"ESimulationFlag",0,U,"ETransactionExecutionStatus",0,V,"ETransactionFinalityStatus",0,F,"ETransactionStatus",0,z,"ETransactionType",0,j,"ETransactionVersion",0,q,"ETransactionVersion2",0,Q,"ETransactionVersion3",0,W,"EVENT_ABI_TYPE",0,C,"L1_DA_MODE",0,L,"PAYMASTER_API",0,J,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","Permission",0,G,"STATE_MUTABILITY_EXTERNAL",0,B,"STATE_MUTABILITY_VIEW",0,R,"STATUS_ACCEPTED_ON_L1",0,m,"STATUS_ACCEPTED_ON_L2",0,y,"STATUS_PENDING",0,w,"STATUS_RECEIVED",0,v,"STATUS_REJECTED",0,E,"STATUS_REVERTED",0,_,"STATUS_SUCCEEDED",0,b,"STRUCT_ABI_TYPE",0,x,"TXN_TYPE_DECLARE",0,I,"TXN_TYPE_DEPLOY",0,A,"TXN_TYPE_DEPLOY_ACCOUNT",0,T,"TXN_TYPE_INVOKE",0,S,"TXN_TYPE_L1_HANDLER",0,N,"TypedDataRevision",0,K,"WALLET_API",0,X],31200);var tt=t.i(31200);t.s([],42030);var te=t.i(42030);t.s([],97867),t.i(97867),t.s([],76004),t.i(76004),t.s([],18135),t.i(18135),t.s([],28763),t.i(28763),t.s([],1180),t.i(1180);let tr="ACCEPTED_ON_L2",tn="ACCEPTED_ON_L1",ti="SUCCEEDED",ta="REVERTED",ts="RECEIVED",to="CANDIDATE",tc="PRE_CONFIRMED",tl=tc.toLowerCase(),tu="DECLARE",th="DEPLOY",td="DEPLOY_ACCOUNT",tf="INVOKE",tp="L1_HANDLER",tg="struct",ty="event",tm="function",tb="constructor",t_="l1_handler",tw="enum",tE="view",tv="external",tI={BLOB:"BLOB",CALLDATA:"CALLDATA"},tA={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},tT={DECLARE:tu,DEPLOY:th,DEPLOY_ACCOUNT:td,INVOKE:tf,L1_HANDLER:tp},tS={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},tN={RECEIVED:ts,CANDIDATE:to,PRE_CONFIRMED:tc,ACCEPTED_ON_L2:tr,ACCEPTED_ON_L1:tn},tx={PRE_CONFIRMED:tc,ACCEPTED_ON_L2:tr,ACCEPTED_ON_L1:tn},tC={SUCCEEDED:ti,REVERTED:ta},tD={LATEST:"latest",PRE_CONFIRMED:tl,L1_ACCEPTED:"l1_accepted"},tM={PRE_CONFIRMED:tc,ACCEPTED_ON_L2:tr,ACCEPTED_ON_L1:tn},tk={L1:"L1",L2:"L2"},tO={L1:0,L2:1},tR={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},tB={V0:tR.V0,V1:tR.V1,V2:tR.V2,F0:tR.F0,F1:tR.F1,F2:tR.F2},tL={V3:tR.V3,F3:tR.F3};t.s(["ABI_TYPE_CONSTRUCTOR",0,tb,"ABI_TYPE_ENUM",0,tw,"ABI_TYPE_FUNCTION",0,tm,"ABI_TYPE_L1_HANDLER",0,t_,"CALL_TYPE",0,tA,"EBlockStatus",0,tM,"EBlockTag",0,tD,"EDAMode",0,tO,"EDataAvailabilityMode",0,tk,"ESimulationFlag",0,tS,"ETransactionExecutionStatus",0,tC,"ETransactionFinalityStatus",0,tx,"ETransactionStatus",0,tN,"ETransactionType",0,tT,"ETransactionVersion",0,tR,"ETransactionVersion2",0,tB,"ETransactionVersion3",0,tL,"EVENT_ABI_TYPE",0,ty,"L1_DA_MODE",0,tI,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,tv,"STATE_MUTABILITY_VIEW",0,tE,"STATUS_ACCEPTED_ON_L1",0,tn,"STATUS_ACCEPTED_ON_L2",0,tr,"STATUS_CANDIDATE",0,to,"STATUS_PRE_CONFIRMED",0,tc,"STATUS_PRE_CONFIRMED_LOWERCASE",0,tl,"STATUS_RECEIVED",0,ts,"STATUS_REVERTED",0,ta,"STATUS_SUCCEEDED",0,ti,"STRUCT_ABI_TYPE",0,tg,"TXN_TYPE_DECLARE",0,tu,"TXN_TYPE_DEPLOY",0,th,"TXN_TYPE_DEPLOY_ACCOUNT",0,td,"TXN_TYPE_INVOKE",0,tf,"TXN_TYPE_L1_HANDLER",0,tp],12092),t.i(12092),t.s([],81555),t.i(81555),t.s([],86665),t.i(86665),t.s(["ABI_TYPE_CONSTRUCTOR",0,tb,"ABI_TYPE_ENUM",0,tw,"ABI_TYPE_FUNCTION",0,tm,"ABI_TYPE_L1_HANDLER",0,t_,"CALL_TYPE",0,tA,"CONTRACT",0,te,"EBlockStatus",0,tM,"EBlockTag",0,tD,"EDAMode",0,tO,"EDataAvailabilityMode",0,tk,"ESimulationFlag",0,tS,"ETransactionExecutionStatus",0,tC,"ETransactionFinalityStatus",0,tx,"ETransactionStatus",0,tN,"ETransactionType",0,tT,"ETransactionVersion",0,tR,"ETransactionVersion2",0,tB,"ETransactionVersion3",0,tL,"EVENT_ABI_TYPE",0,ty,"L1_DA_MODE",0,tI,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,tv,"STATE_MUTABILITY_VIEW",0,tE,"STATUS_ACCEPTED_ON_L1",0,tn,"STATUS_ACCEPTED_ON_L2",0,tr,"STATUS_CANDIDATE",0,to,"STATUS_PRE_CONFIRMED",0,tc,"STATUS_PRE_CONFIRMED_LOWERCASE",0,tl,"STATUS_RECEIVED",0,ts,"STATUS_REVERTED",0,ta,"STATUS_SUCCEEDED",0,ti,"STRUCT_ABI_TYPE",0,tg,"TXN_TYPE_DECLARE",0,tu,"TXN_TYPE_DEPLOY",0,th,"TXN_TYPE_DEPLOY_ACCOUNT",0,td,"TXN_TYPE_INVOKE",0,tf,"TXN_TYPE_L1_HANDLER",0,tp],46250);var tP=t.i(46250);t.s([],89037),t.i(89037);let tj={ACCOUNTS:"accounts"};t.s(["Permission",0,tj],29708),t.i(29708);let tU={ACTIVE:"1",LEGACY:"0"};t.s(["TypedDataRevision",0,tU],61071),t.i(61071),t.s([],10585),t.i(10585),t.s([],56824),t.i(56824),t.s([],36399),t.i(36399),t.s([],56732),t.i(56732),t.s([],15072),t.i(15072),t.s(["Permission",0,tj,"TypedDataRevision",0,tU],36415);var tz=t.i(36415);t.s([],20231),t.i(20231),t.s([],81747),t.i(81747),t.s([],85087),t.i(85087),t.s([],1830),t.i(1830),t.s([],50129),t.i(50129),t.s([],80879);var tF=t.i(80879);t.s([],62444),t.i(62444),t.s(["ABI_TYPE_CONSTRUCTOR",0,tb,"ABI_TYPE_ENUM",0,tw,"ABI_TYPE_FUNCTION",0,tm,"ABI_TYPE_L1_HANDLER",0,t_,"API",0,tP,"CALL_TYPE",0,tA,"CONTRACT",()=>te,"EBlockStatus",0,tM,"EBlockTag",0,tD,"EDAMode",0,tO,"EDataAvailabilityMode",0,tk,"ESimulationFlag",0,tS,"ETransactionExecutionStatus",0,tC,"ETransactionFinalityStatus",0,tx,"ETransactionStatus",0,tN,"ETransactionType",0,tT,"ETransactionVersion",0,tR,"ETransactionVersion2",0,tB,"ETransactionVersion3",0,tL,"EVENT_ABI_TYPE",0,ty,"L1_DA_MODE",0,tI,"PAYMASTER_API",0,tF,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","Permission",0,tj,"STATE_MUTABILITY_EXTERNAL",0,tv,"STATE_MUTABILITY_VIEW",0,tE,"STATUS_ACCEPTED_ON_L1",0,tn,"STATUS_ACCEPTED_ON_L2",0,tr,"STATUS_CANDIDATE",0,to,"STATUS_PRE_CONFIRMED",0,tc,"STATUS_PRE_CONFIRMED_LOWERCASE",0,tl,"STATUS_RECEIVED",0,ts,"STATUS_REVERTED",0,ta,"STATUS_SUCCEEDED",0,ti,"STRUCT_ABI_TYPE",0,tg,"TXN_TYPE_DECLARE",0,tu,"TXN_TYPE_DEPLOY",0,th,"TXN_TYPE_DEPLOY_ACCOUNT",0,td,"TXN_TYPE_INVOKE",0,tf,"TXN_TYPE_L1_HANDLER",0,tp,"TypedDataRevision",0,tU,"WALLET_API",0,tz],64901);var tV=t.i(64901);function tH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function t$(t,e){return!!Array.isArray(e)&&(0===e.length||(t?e.every(t=>"string"==typeof t):e.every(t=>Number.isSafeInteger(t))))}function tY(t){if("function"!=typeof t)throw Error("function expected");return!0}function tq(t,e){if("string"!=typeof e)throw Error(`${t}: string expected`);return!0}function tQ(t){if(!Number.isSafeInteger(t))throw Error(`invalid integer: ${t}`)}function tW(t){if(!Array.isArray(t))throw Error("array expected")}function tZ(t,e){if(!t$(!0,e))throw Error(`${t}: array of strings expected`)}function tG(t,e){if(!t$(!1,e))throw Error(`${t}: array of numbers expected`)}function tK(...t){let e=t=>t,r=(t,e)=>r=>t(e(r));return{encode:t.map(t=>t.encode).reduceRight(r,e),decode:t.map(t=>t.decode).reduce(r,e)}}function tX(t){let e="string"==typeof t?t.split(""):t,r=e.length;tZ("alphabet",e);let n=new Map(e.map((t,e)=>[t,e]));return{encode:n=>(tW(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${t}`);return e[n]})),decode:e=>(tW(e),e.map(e=>{tq("alphabet.decode",e);let r=n.get(e);if(void 0===r)throw Error(`Unknown letter: "${e}". Allowed: ${t}`);return r}))}}function tJ(t=""){return tq("join",t),{encode:e=>(tZ("join.decode",e),e.join(t)),decode:e=>(tq("join.decode",e),e.split(t))}}function t0(t,e,r){if(e<2)throw Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(tW(t),!t.length)return[];let n=0,i=[],a=Array.from(t,t=>{if(tQ(t),t<0||t>=e)throw Error(`invalid integer: ${t}`);return t}),s=a.length;for(;;){let t=0,o=!0;for(let i=n;i<s;i++){let s=a[i],c=e*t,l=c+s;if(!Number.isSafeInteger(l)||c/e!==t||l-s!==c)throw Error("convertRadix: carry overflow");let u=l/r;t=l%r;let h=Math.floor(u);if(a[i]=h,!Number.isSafeInteger(h)||h*r+t!==l)throw Error("convertRadix: carry overflow");o&&(h?o=!1:n=i)}if(i.push(t),o)break}for(let e=0;e<t.length-1&&0===t[e];e++)i.push(0);return i.reverse()}let t1=(t,e)=>0===e?t:t1(e,t%e),t2=(t,e)=>t+(e-t1(t,e)),t5=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function t4(t,e,r,n){if(tW(t),e<=0||e>32)throw Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(t2(e,r)>32)throw Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${t2(e,r)}`);let i=0,a=0,s=t5[e],o=t5[r]-1,c=[];for(let n of t){if(tQ(n),n>=s)throw Error(`convertRadix2: invalid data word=${n} from=${e}`);if(i=i<<e|n,a+e>32)throw Error(`convertRadix2: carry overflow pos=${a} from=${e}`);for(a+=e;a>=r;a-=r)c.push((i>>a-r&o)>>>0);let t=t5[a];if(void 0===t)throw Error("invalid carry");i&=t-1}if(i=i<<r-a&o,!n&&a>=e)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&a>0&&c.push(i>>>0),c}let t3=tK(function(t,e=!1){tQ(6),!1;if(t2(8,6)>32||t2(6,8)>32)throw Error("radix2: carry overflow");return{encode:t=>{if(!tH(t))throw Error("radix2.encode input should be Uint8Array");return t4(Array.from(t),8,6,!e)},decode:t=>(tG("radix2.decode",t),Uint8Array.from(t4(t,6,8,e)))}}(6),tX("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),function(t,e="="){return tQ(6),tq("padding",e),{encode(t){for(tZ("padding.encode",t);6*t.length%8;)t.push(e);return t},decode(t){tZ("padding.decode",t);let r=t.length;if(6*r%8)throw Error("padding: invalid, string should have whole number of bytes");for(;r>0&&t[r-1]===e;r--)if((r-1)*6%8==0)throw Error("padding: invalid, string has too much padding");return t.slice(0,r)}}}(6),tJ("")),t6=(tQ(58),tK(tX("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),tJ("")));function t8(t){throw Error("config is deprecated, support for circularRefs is removed from the library. If you encounter circular references in your data structures, please rethink your datastructures: better prevent circular references in the first place.")}function t9(t){return t7.test(t)}tY(t=>{if("string"!=typeof t||t.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()});let t7=/^-?[0-9]+$/;function et(t){return ee.test(t)}let ee=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function er(t,e){if(t9(t))return Number.isSafeInteger(Number.parseInt(t,10));let r=String(Number.parseFloat(t));if(t===r)return!0;let n=ec(t),i=ec(r);return!!(n===i||e?.approx===!0&&!t9(t)&&i.length>=14&&n.startsWith(i.substring(0,14)))||!1}let en=((h={}).underflow="underflow",h.overflow="overflow",h.truncate_integer="truncate_integer",h.truncate_float="truncate_float",h);function ei(t){if(er(t,{approx:!1}))return;if(t9(t))return en.truncate_integer;let e=Number.parseFloat(t);return Number.isFinite(e)?0===e?en.underflow:en.truncate_float:en.overflow}function ea(t,e){let r=Number.parseFloat(t),n=ei(t);if(e?.approx===!0?n&&n!==en.truncate_float:n){let e=n?.replace(/_\w+$/,"");throw Error(`Cannot safely convert to number: the value '${t}' would ${e} and become ${r}`)}return r}function es(t){let e=t.match(/^(-?)(\d+\.?\d*)([eE]([+-]?\d+))?$/);if(!e)throw SyntaxError(`Invalid number: ${t}`);let r=e[1],n=e[2],i=void 0!==e[4]?Number.parseInt(e[4],10):0,a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;let s=n.replace(".","").replace(/^0*/,t=>(i-=t.length,"")).replace(/0*$/,"");return s.length>0?{sign:r,digits:s,exponent:i}:{sign:r,digits:"0",exponent:i+1}}function eo(t,e){if(t===e)return 0;let r=es(t),n=es(e),i="-"===r.sign?-1:1;return r.sign!==n.sign?"0"===r.digits&&"0"===n.digits?0:i:r.exponent!==n.exponent?r.exponent>n.exponent?i:r.exponent<n.exponent?-i:0:r.digits>n.digits?i:r.digits<n.digits?-i:0}function ec(t){let{start:e,end:r}=el(t),n=t.substring(e,r),i=n.indexOf(".");return -1===i?n:n.substring(0,i)+n.substring(i+1)}function el(t){let e=0;for("-"===t[0]&&e++;"0"===t[e]||"."===t[e];)e++;let r=t.lastIndexOf("e");for(-1===r&&(r=t.lastIndexOf("E")),-1===r&&(r=t.length);("0"===t[r-1]||"."===t[r-1])&&r>e;)r--;return{start:e,end:r}}class eu{isLosslessNumber=!0;constructor(t){if(!et(t))throw Error(`Invalid number (value: "${t}")`);this.value=t}valueOf(){let t=ei(this.value);if(void 0===t||t===en.truncate_float)return Number.parseFloat(this.value);if(t9(this.value))return BigInt(this.value);throw Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function eh(t){return t&&"object"==typeof t&&t.isLosslessNumber||!1}function ed(t){if(function(t){let{start:e,end:r}=el(t),n=t.indexOf(".");return -1===n||n<e||n>r?r-e:r-e-1}(String(t))>15)throw Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${t})`);if(Number.isNaN(t))throw Error("Invalid number: NaN");if(!Number.isFinite(t))throw Error(`Invalid number: ${t}`);return new eu(String(t))}function ef(t,e){return eo(t.value,e.value)}function ep(t){return new eu(t)}function eg(t){return t9(t)?BigInt(t):Number.parseFloat(t)}function ey(t,e,r){let n="function"==typeof r?{parseNumber:r}:r,i=n?.parseNumber??ep,a=n?.onDuplicateKey??function(t){let{key:e,position:r}=t;throw SyntaxError(`Duplicate key '${e}' encountered at position ${r}`)},s=0,o=function e(){l();let r=u()??function(){let e=s;if(t.charCodeAt(s)===ek&&(s++,d(e)),t.charCodeAt(s)===eO)s++;else{var r;if((r=t.charCodeAt(s))>=eR&&r<=eB)for(s++;eb(t.charCodeAt(s));)s++}if(t.charCodeAt(s)===eP)for(s++,d(e);eb(t.charCodeAt(s));)s++;if(t.charCodeAt(s)===eV||t.charCodeAt(s)===eF)for(s++,(t.charCodeAt(s)===ek||t.charCodeAt(s)===eM)&&s++,d(e);eb(t.charCodeAt(s));)s++;if(s>e)return i(t.slice(e,s))}()??function(){if(t.charCodeAt(s)===ev){s++,l();let r={},n=!0;for(;s<t.length&&t.charCodeAt(s)!==eI;){n?n=!1:(h(),l());let i=s,o=u();if(void 0===o)return void function(){throw SyntaxError(`Quoted object key expected ${p()}`)}();l(),function(){if(t.charCodeAt(s)!==ej)throw SyntaxError(`Colon ':' expected after property name ${p()}`);s++}();let c=e();if(void 0===c)return void function(){throw SyntaxError(`Object value expected after ':' ${f()}`)}();if(Object.prototype.hasOwnProperty.call(r,o)&&!function t(e,r){return e===r||(Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every((e,n)=>t(e,r[n])):!!(e_(e)&&e_(r))&&[...new Set([...Object.keys(e),...Object.keys(r)])].every(n=>t(e[n],r[n])))}(c,r[o])){let t=a({key:o,position:i+1,oldValue:r[o],newValue:c});void 0!==t&&(r[o]=t)}else r[o]=c}return t.charCodeAt(s)!==eI&&function(){throw SyntaxError(`Quoted object key or end of object '}' expected ${p()}`)}(),s++,r}}()??function(){if(t.charCodeAt(s)===eA){s++,l();let r=[],n=!0;for(;s<t.length&&t.charCodeAt(s)!==eT;){n?n=!1:h();let t=e();(function(t){if(void 0===t)throw SyntaxError(`Array item expected ${p()}`)})(t),r.push(t)}return t.charCodeAt(s)!==eT&&function(){throw SyntaxError(`Array item or end of array ']' expected ${p()}`)}(),s++,r}}()??c("true",!0)??c("false",!1)??c("null",null);return l(),r}();return function(t){if(void 0===t)throw SyntaxError(`JSON value expected ${p()}`)}(o),function(){if(s<t.length)throw SyntaxError(`Expected end of input ${p()}`)}(),e?function t(e,r,n,i){return Array.isArray(n)?i.call(e,r,function(e,r){for(let n=0;n<e.length;n++)e[n]=t(e,String(n),e[n],r);return e}(n,i)):n&&"object"==typeof n&&!eh(n)?i.call(e,r,function(e,r){for(let n of Object.keys(e)){let i=t(e,n,e[n],r);void 0!==i?e[n]=i:delete e[n]}return e}(n,i)):i.call(e,r,n)}({"":o},"",o,e):o;function c(e,r){if(t.slice(s,s+e.length)===e)return s+=e.length,r}function l(){for(var e;(e=t.charCodeAt(s))===eS||e===eN||e===ex||e===eC;)s++}function u(){if(t.charCodeAt(s)===eD){s++;let r="";for(;s<t.length&&t.charCodeAt(s)!==eD;){if(t.charCodeAt(s)===eE){let e=t[s+1],n=ew[e];void 0!==n?(r+=n,s++):"u"===e?em(t.charCodeAt(s+2))&&em(t.charCodeAt(s+3))&&em(t.charCodeAt(s+4))&&em(t.charCodeAt(s+5))?(r+=String.fromCharCode(Number.parseInt(t.slice(s+2,s+6),16)),s+=5):function(e){let r=t.slice(e,e+6);throw SyntaxError(`Invalid unicode character '${r}' ${f()}`)}(s):function(e){let r=t.slice(e,e+2);throw SyntaxError(`Invalid escape character '${r}' ${f()}`)}(s)}else{var e;(e=t.charCodeAt(s))>=32&&e<=1114111?r+=t[s]:function(t){throw SyntaxError(`Invalid character '${t}' ${f()}`)}(t[s])}s++}return function(){if(t.charCodeAt(s)!==eD)throw SyntaxError(`End of string '"' expected ${p()}`)}(),s++,r}}function h(){if(t.charCodeAt(s)!==eL)throw SyntaxError(`Comma ',' expected after value ${p()}`);s++}function d(e){if(!eb(t.charCodeAt(s))){let r=t.slice(e,s);throw SyntaxError(`Invalid number '${r}', expecting a digit ${p()}`)}}function f(){return`at position ${s}`}function p(){return`${s<t.length?`but got '${t[s]}'`:"but reached end of input"} ${f()}`}}function em(t){return t>=eO&&t<=eB||t>=eU&&t<=eH||t>=ez&&t<=e$}function eb(t){return t>=eO&&t<=eB}function e_(t){return"object"==typeof t&&null!==t}let ew={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},eE=92,ev=123,eI=125,eA=91,eT=93,eS=32,eN=10,ex=9,eC=13,eD=34,eM=43,ek=45,eO=48,eR=49,eB=57,eL=44,eP=46,ej=58,eU=65,ez=97,eF=69,eV=101,eH=70,e$=102;function eY(t,e){return"string"==typeof e&&eq.test(e)?new Date(e):e}let eq=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/;function eQ(t,e,r,n){var i;let a="number"==typeof(i=r)?" ".repeat(i):"string"==typeof i&&""!==i?i:void 0;return function t(i,s){if(Array.isArray(n)){let t=n.find(t=>t.test(i));if(t){let e=t.stringify(i);if("string"!=typeof e||!et(e))throw Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${e})`);return e}}return"boolean"==typeof i||"number"==typeof i||"string"==typeof i||null===i||i instanceof Date||i instanceof Boolean||i instanceof Number||i instanceof String?JSON.stringify(i):i?.isLosslessNumber||"bigint"==typeof i?i.toString():Array.isArray(i)?function(r,n){if(0===r.length)return"[]";let i=a?n+a:void 0,s=a?"[\n":"[";for(let n=0;n<r.length;n++){let o="function"==typeof e?e.call(r,String(n),r[n]):r[n];a&&(s+=i),void 0!==o&&"function"!=typeof o?s+=t(o,i):s+="null",n<r.length-1&&(s+=a?",\n":",")}return s+(a?`
${n}]`:"]")}(i,s):i&&"object"==typeof i?function(n,i){if("function"==typeof n.toJSON)return eQ(n.toJSON(),e,r,void 0);let s=Array.isArray(e)?e.map(String):Object.keys(n);if(0===s.length)return"{}";let o=a?i+a:void 0,c=!0,l=a?"{\n":"{";for(let r of s){var u;let i="function"==typeof e?e.call(n,r,n[r]):n[r];if(void 0!==(u=i)&&"function"!=typeof u&&"symbol"!=typeof u){c?c=!1:l+=a?",\n":",";let e=JSON.stringify(r);l+=a?`${o+e}: `:`${e}:`,l+=t(i,o)}}return l+(a?`
${i}}`:"}")}(i,s):void 0}("function"==typeof e?e.call({"":t},"",t):t,"")}t.s([],53856),t.s([],37778),t.i(37778),t.i(53856),t.s(["LosslessNumber",()=>eu,"UnsafeNumberReason",()=>en,"compareLosslessNumber",()=>ef,"compareNumber",()=>eo,"config",()=>t8,"getUnsafeNumberReason",()=>ei,"isInteger",()=>t9,"isLosslessNumber",()=>eh,"isNumber",()=>et,"isSafeNumber",()=>er,"parse",()=>ey,"parseLosslessNumber",()=>ep,"parseNumberAndBigInt",()=>eg,"reviveDate",()=>eY,"splitNumber",()=>es,"stringify",()=>eQ,"toLosslessNumber",()=>ed,"toSafeNumberOrThrow",()=>ea],4458),t.i(4458);let eW=BigInt(0),eZ=BigInt(1),eG=BigInt(2);function eK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function eX(t){if(!eK(t))throw Error("Uint8Array expected")}function eJ(t,e){if("boolean"!=typeof e)throw Error(t+" boolean expected, got "+e)}let e0=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e1(t){eX(t);let e="";for(let r=0;r<t.length;r++)e+=e0[t[r]];return e}function e2(t){let e=t.toString(16);return 1&e.length?"0"+e:e}function e5(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return""===t?eW:BigInt("0x"+t)}function e4(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:void 0}function e3(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let e=0,i=0;e<r;e++,i+=2){let r=e4(t.charCodeAt(i)),a=e4(t.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(t[i]+t[i+1])+'" at index '+i);n[e]=16*r+a}return n}function e6(t){return e5(e1(t))}function e8(t){return eX(t),e5(e1(Uint8Array.from(t).reverse()))}function e9(t,e){return e3(t.toString(16).padStart(2*e,"0"))}function e7(t,e){return e9(t,e).reverse()}function rt(t){return e3(e2(t))}function re(t,e,r){let n;if("string"==typeof e)try{n=e3(e)}catch(e){throw Error(t+" must be hex string or Uint8Array, cause: "+e)}else if(eK(e))n=Uint8Array.from(e);else throw Error(t+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(t+" of length "+r+" expected, got "+i);return n}function rr(...t){let e=0;for(let r=0;r<t.length;r++){let n=t[r];eX(n),e+=n.length}let r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){let i=t[e];r.set(i,n),n+=i.length}return r}function rn(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r}function ri(t){if("string"!=typeof t)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}let ra=t=>"bigint"==typeof t&&eW<=t;function rs(t,e,r){return ra(t)&&ra(e)&&ra(r)&&e<=t&&t<r}function ro(t,e,r,n){if(!rs(e,r,n))throw Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function rc(t){let e;for(e=0;t>eW;t>>=eZ,e+=1);return e}function rl(t,e){return t>>BigInt(e)&eZ}function ru(t,e,r){return t|(r?eZ:eW)<<BigInt(e)}let rh=t=>(eG<<BigInt(t-1))-eZ,rd=t=>new Uint8Array(t);function rf(t,e,r){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=rd(t),i=rd(t),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...t)=>r(i,n,...t),c=(t=rd())=>{let e;if(i=o((e=[0],Uint8Array.from(e)),t),n=o(),0!==t.length){let e;i=o((e=[1],Uint8Array.from(e)),t),n=o()}},l=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let t=0,r=[];for(;t<e;){let e=(n=o()).slice();r.push(e),t+=n.length}return rr(...r)};return(t,e)=>{let r;for(s(),c(t);!(r=e(l()));)c();return s(),r}}let rp={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||eK(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function rg(t,e,r={}){let n=(e,r,n)=>{let i=rp[r];if("function"!=typeof i)throw Error("invalid validator function");let a=t[e];if((!n||void 0!==a)&&!i(a,t))throw Error("param "+String(e)+" is invalid. Expected "+r+", got "+a)};for(let[t,r]of Object.entries(e))n(t,r,!1);for(let[t,e]of Object.entries(r))n(t,e,!0);return t}function ry(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(void 0!==i)return i;let a=t(r,...n);return e.set(r,a),a}}function rm(t){if(!Number.isSafeInteger(t)||t<0)throw Error("positive integer expected, got "+t)}function rb(t,...e){if(!(t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw Error("Uint8Array expected of length "+e+", got length="+t.length)}function r_(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")}function rw(t,e){rb(t);let r=e.outputLen;if(t.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}t.s(["aInRange",()=>ro,"abool",()=>eJ,"abytes",()=>eX,"bitGet",()=>rl,"bitLen",()=>rc,"bitMask",0,rh,"bitSet",()=>ru,"bytesToHex",()=>e1,"bytesToNumberBE",()=>e6,"bytesToNumberLE",()=>e8,"concatBytes",()=>rr,"createHmacDrbg",()=>rf,"ensureBytes",()=>re,"equalBytes",()=>rn,"hexToBytes",()=>e3,"hexToNumber",()=>e5,"inRange",()=>rs,"isBytes",()=>eK,"memoized",()=>ry,"notImplemented",0,()=>{throw Error("not implemented")},"numberToBytesBE",()=>e9,"numberToBytesLE",()=>e7,"numberToHexUnpadded",()=>e2,"numberToVarBytesBE",()=>rt,"utf8ToBytes",()=>ri,"validateObject",()=>rg],5450);let rE="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,rv=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),rI=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rA=(t,e)=>t<<32-e|t>>>e,rT=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],rS=t=>t<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255,rN=rT?t=>t:t=>rS(t);function rx(t){for(let e=0;e<t.length;e++)t[e]=rS(t[e])}function rC(t){if("string"!=typeof t)throw Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function rD(t){return"string"==typeof t&&(t=rC(t)),rb(t),t}class rM{clone(){return this._cloneInto()}}function rk(t){let e=e=>t().update(rD(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function rO(t=32){if(rE&&"function"==typeof rE.getRandomValues)return rE.getRandomValues(new Uint8Array(t));if(rE&&"function"==typeof rE.randomBytes)return rE.randomBytes(t);throw Error("crypto.getRandomValues must be defined")}let rR=(t,e,r)=>t&e^~t&r,rB=(t,e,r)=>t&e^t&r^e&r;class rL extends rM{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=rI(this.buffer)}update(t){r_(this);let{view:e,buffer:r,blockLen:n}=this,i=(t=rD(t)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let e=rI(t);for(;n<=i-a;a+=n)this.process(e,a);continue}r.set(t.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){r_(this),rw(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let t=a;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),c=4*!!n,l=4*!n;t.setUint32(e+c,s,n),t.setUint32(e+l,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=rI(t),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=o/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<c;t++)s.setUint32(4*t,l[t],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return t.length=n,t.pos=s,t.finished=i,t.destroyed=a,n%e&&t.buffer.set(r),t}}let rP=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rj=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),rU=new Uint32Array(64);class rz extends rL{constructor(){super(64,32,8,!1),this.A=0|rj[0],this.B=0|rj[1],this.C=0|rj[2],this.D=0|rj[3],this.E=0|rj[4],this.F=0|rj[5],this.G=0|rj[6],this.H=0|rj[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[t,e,r,n,i,a,s,o]}set(t,e,r,n,i,a,s,o){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(t,e){for(let r=0;r<16;r++,e+=4)rU[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=rU[t-15],r=rU[t-2],n=rA(e,7)^rA(e,18)^e>>>3,i=rA(r,17)^rA(r,19)^r>>>10;rU[t]=i+rU[t-7]+n+rU[t-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:c,H:l}=this;for(let t=0;t<64;t++){let e=l+(rA(s,6)^rA(s,11)^rA(s,25))+rR(s,o,c)+rP[t]+rU[t]|0,u=(rA(r,2)^rA(r,13)^rA(r,22))+rB(r,n,i)|0;l=c,c=o,o=s,s=a+e|0,a=i,i=n,n=r,r=e+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,a,s,o,c,l)}roundClean(){rU.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let rF=rk(()=>new rz),rV=BigInt(0x100000000-1),rH=BigInt(32);function r$(t,e=!1){return e?{h:Number(t&rV),l:Number(t>>rH&rV)}:{h:0|Number(t>>rH&rV),l:0|Number(t&rV)}}let rY=[],rq=[],rQ=[],rW=BigInt(0),rZ=BigInt(1),rG=BigInt(2),rK=BigInt(7),rX=BigInt(256),rJ=BigInt(113);for(let t=0,e=rZ,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],rY.push(2*(5*n+r)),rq.push((t+1)*(t+2)/2%64);let i=rW;for(let t=0;t<7;t++)(e=(e<<rZ^(e>>rK)*rJ)%rX)&rG&&(i^=rZ<<(rZ<<BigInt(t))-rZ);rQ.push(i)}let[r0,r1]=function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:s}=r$(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}(rQ,!0),r2=(t,e,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r,r5=(t,e,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r;class r4 extends rM{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,rm(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rv(this.state)}keccak(){rT||rx(this.state32),function(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){let n=(e+8)%10,i=(e+2)%10,a=r[i],s=r[i+1],o=r2(a,s,1)^r[n],c=r5(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=o,t[e+r+1]^=c}let e=t[2],i=t[3];for(let r=0;r<24;r++){let n=rq[r],a=r2(e,i,n),s=r5(e,i,n),o=rY[r];e=t[o],i=t[o+1],t[o]=a,t[o+1]=s}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=r0[n],t[1]^=r1[n]}r.fill(0)}(this.state32,this.rounds),rT||rx(this.state32),this.posOut=0,this.pos=0}update(t){r_(this);let{blockLen:e,state:r}=this,n=(t=rD(t)).length;for(let i=0;i<n;){let a=Math.min(e-this.pos,n-i);for(let e=0;e<a;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,(128&e)!=0&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){r_(this,!1),rb(t),this.finish();let e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return t}xofInto(t){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return rm(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(rw(t,this),this.finished)throw Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return t||(t=new r4(e,r,n,a,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=a,t.destroyed=this.destroyed,t}}let r3=rk(()=>new r4(136,1,32)),r6=BigInt(0),r8=BigInt(1),r9=BigInt(2),r7=BigInt(3),nt=BigInt(4),ne=BigInt(5),nr=BigInt(8);function nn(t,e){let r=t%e;return r>=r6?r:e+r}function ni(t,e,r){let n=t;for(;e-- >r6;)n*=n,n%=r;return n}function na(t,e){if(t===r6)throw Error("invert: expected non-zero number");if(e<=r6)throw Error("invert: expected positive modulus, got "+e);let r=nn(t,e),n=e,i=r6,a=r8,s=r8,o=r6;for(;r!==r6;){let t=n/r,e=n%r,c=i-s*t,l=a-o*t;n=r,r=e,i=s,a=o,s=c,o=l}if(n!==r8)throw Error("invert: does not exist");return nn(i,e)}let ns=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function no(t){return rg(t,ns.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function nc(t,e,r){if(r<r6)throw Error("invalid exponent, negatives unsupported");if(r===r6)return t.ONE;if(r===r8)return e;let n=t.ONE,i=e;for(;r>r6;)r&r8&&(n=t.mul(n,i)),i=t.sqr(i),r>>=r8;return n}function nl(t,e){let r=void 0!==e?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function nu(t,e,r=!1,n={}){let i;if(t<=r6)throw Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:a,nByteLength:s}=nl(t,e);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let o=Object.freeze({ORDER:t,BITS:a,BYTES:s,MASK:rh(a),ZERO:r6,ONE:r8,create:e=>nn(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return r6<=e&&e<t},is0:t=>t===r6,isOdd:t=>(t&r8)===r8,neg:e=>nn(-e,t),eql:(t,e)=>t===e,sqr:e=>nn(e*e,t),add:(e,r)=>nn(e+r,t),sub:(e,r)=>nn(e-r,t),mul:(e,r)=>nn(e*r,t),pow:(t,e)=>nc(o,t,e),div:(e,r)=>nn(e*na(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>na(e,t),sqrt:n.sqrt||(e=>(i||(i=function(t){if(t%nt===r7){let e=(t+r8)/nt;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}if(t%nr===ne){let e=(t-ne)/nr;return function(t,r){let n=t.mul(r,r9),i=t.pow(n,e),a=t.mul(r,i),s=t.mul(t.mul(a,r9),i),o=t.mul(a,t.sub(s,t.ONE));if(!t.eql(t.sqr(o),r))throw Error("Cannot find square root");return o}}return function(t){let e,r,n,i=(t-r8)/r9;for(e=t-r8,r=0;e%r9===r6;e/=r9,r++);for(n=r9;n<t&&function(t,e,r){if(e<r6)throw Error("invalid exponent, negatives unsupported");if(r<=r6)throw Error("invalid modulus");if(r===r8)return r6;let n=r8;for(;e>r6;)e&r8&&(n=n*t%r),t=t*t%r,e>>=r8;return n}(n,i,t)!==t-r8;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let e=(t+r8)/nt;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(e+r8)/r9;return function(t,s){if(t.pow(s,i)===t.neg(t.ONE))throw Error("Cannot find square root");let o=r,c=t.pow(t.mul(t.ONE,n),e),l=t.pow(s,a),u=t.pow(s,e);for(;!t.eql(u,t.ONE);){if(t.eql(u,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(u);e<o&&!t.eql(r,t.ONE);e++)r=t.sqr(r);let r=t.pow(c,r8<<BigInt(o-e-1));c=t.sqr(r),l=t.mul(l,r),u=t.mul(u,c),o=e}return l}}(t)}(t)),i(o,e))),invertBatch:t=>{let e,r,n;return e=Array(t.length),r=t.reduce((t,r,n)=>o.is0(r)?t:(e[n]=t,o.mul(t,r)),o.ONE),n=o.inv(r),t.reduceRight((t,r,n)=>o.is0(r)?t:(e[n]=o.mul(t,e[n]),o.mul(t,r)),n),e},cmov:(t,e,r)=>r?e:t,toBytes:t=>r?e7(t,s):e9(t,s),fromBytes:t=>{if(t.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+t.length);return r?e8(t):e6(t)}});return Object.freeze(o)}function nh(t){if("bigint"!=typeof t)throw Error("field order must be bigint");return Math.ceil(t.toString(2).length/8)}function nd(t){let e=nh(t);return e+Math.ceil(e/2)}function nf(t){let{Fp:e,mds:r,reversePartialPowIdx:n,roundConstants:i}=t,{roundsFull:a,roundsPartial:s,sboxPower:o,t:c}=t;for(let r of(no(e),["t","roundsFull","roundsPartial"]))if("number"!=typeof t[r]||!Number.isSafeInteger(t[r]))throw Error("invalid number "+r);if(!Array.isArray(r)||r.length!==c)throw Error("Poseidon: invalid MDS matrix");let l=r.map(t=>{if(!Array.isArray(t)||t.length!==c)throw Error("invalid MDS matrix row: "+t);return t.map(t=>{if("bigint"!=typeof t)throw Error("invalid MDS matrix bigint: "+t);return e.create(t)})});if(void 0!==n&&"boolean"!=typeof n)throw Error("invalid param reversePartialPowIdx="+n);if(1&a)throw Error("roundsFull is not even"+a);let u=a+s;if(!Array.isArray(i)||i.length!==u)throw Error("Poseidon: invalid round constants");let h=i.map(t=>{if(!Array.isArray(t)||t.length!==c)throw Error("invalid round constants");return t.map(t=>{if("bigint"!=typeof t||!e.isValid(t))throw Error("invalid round constant");return e.create(t)})});if(!o||![3,5,7].includes(o))throw Error("invalid sboxPower");let d=BigInt(o),f=t=>nc(e,t,d);return 3===o?f=t=>e.mul(e.sqrN(t),t):5===o&&(f=t=>e.mul(e.sqrN(e.sqrN(t)),t)),Object.freeze({...t,rounds:u,sboxFn:f,roundConstants:h,mds:l})}function np(t,e){if("number"!=typeof e)throw Error("poseidonSplitConstants: invalid t");if(!Array.isArray(t)||t.length%e)throw Error("poseidonSplitConstants: invalid rc");let r=[],n=[];for(let i=0;i<t.length;i++)n.push(t[i]),n.length===e&&(r.push(n),n=[]);return r}function ng(t){let e=nf(t),{Fp:r,mds:n,roundConstants:i,rounds:a,roundsPartial:s,sboxFn:o,t:c}=e,l=e.roundsFull/2,u=e.reversePartialPowIdx?c-1:0,h=(t,e,a)=>(t=t.map((t,e)=>r.add(t,i[a][e])),e?t=t.map(t=>o(t)):t[u]=o(t[u]),t=n.map(e=>e.reduce((e,n,i)=>r.add(e,r.mulN(n,t[i])),r.ZERO))),d=function(t){if(!Array.isArray(t)||t.length!==c)throw Error("invalid values, expected array of bigints with length "+c);t=t.map(t=>{if("bigint"!=typeof t)throw Error("invalid bigint="+t);return r.create(t)});let e=0;for(let r=0;r<l;r++)t=h(t,!0,e++);for(let r=0;r<s;r++)t=h(t,!1,e++);for(let r=0;r<l;r++)t=h(t,!0,e++);if(e!==a)throw Error("invalid number of rounds");return t};return d.roundConstants=i,d}t.s(["poseidon",()=>ng,"splitConstants",()=>np,"validateOpts",()=>nf],77817);let ny=BigInt(0),nm=BigInt(1);function nb(t,e){let r=e.negate();return t?r:e}function n_(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw Error("invalid window size, expected [1.."+e+"], got W="+t)}function nw(t,e){return n_(t,e),{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}}let nE=new WeakMap,nv=new WeakMap;function nI(t){return nv.get(t)||1}function nA(t){return no(t.Fp),rg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nl(t.n,t.nBitLength),...t,...{p:t.Fp.ORDER}})}var nT=t.i(5450);function nS(t){void 0!==t.lowS&&eJ("lowS",t.lowS),void 0!==t.prehash&&eJ("prehash",t.prehash)}let{bytesToNumberBE:nN,hexToBytes:nx}=nT,nC={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(t,e)=>{let{Err:r}=nC;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(1&e.length)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=nT.numberToHexUnpadded(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?nT.numberToHexUnpadded(i.length/2|128):"";return nT.numberToHexUnpadded(t)+a+i+e},decode(t,e){let{Err:r}=nC,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],a=0;if(128&i){let t=127&i;if(!t)throw new r("tlv.decode(long): indefinite length not supported");if(t>4)throw new r("tlv.decode(long): byte length is too big");let s=e.subarray(n,n+t);if(s.length!==t)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let t of s)a=a<<8|t;if(n+=t,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let s=e.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:e.subarray(n+a)}}},_int:{encode(t){let{Err:e}=nC;if(t<nD)throw new e("integer: negative integers are not allowed");let r=nT.numberToHexUnpadded(t);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=nC;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return nN(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=nC,i="string"==typeof t?nx(t):t;nT.abytes(i);let{v:a,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:o,l:c}=n.decode(2,a),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=nC,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s));return e.encode(48,n+i)}},nD=BigInt(0),nM=BigInt(1),nk=BigInt(2),nO=BigInt(3),nR=BigInt(4);function nB(t){var e;let r=function(t){let e=nA(t);nT.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:n}=r,i=nu(r.n,r.nBitLength),a=r.toBytes||((t,e,r)=>{let i=e.toAffine();return nT.concatBytes(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=r.fromBytes||(t=>{let e=t.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}});function o(t){let{a:e,b:i}=r,a=n.sqr(t),s=n.mul(a,t);return n.add(n.add(s,n.mul(t,e)),i)}if(!n.eql(n.sqr(r.Gy),o(r.Gx)))throw Error("bad generator point: equation left != right");function c(t){let e,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:a,n:s}=r;if(n&&"bigint"!=typeof t){if(nT.isBytes(t)&&(t=nT.bytesToHex(t)),"string"!=typeof t||!n.includes(t.length))throw Error("invalid private key");t=t.padStart(2*i,"0")}try{e="bigint"==typeof t?t:nT.bytesToNumberBE(re("private key",t,i))}catch(e){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof t)}return a&&(e=nn(e,s)),nT.aInRange("private key",e,nM,s),e}function l(t){if(!(t instanceof d))throw Error("ProjectivePoint expected")}let u=ry((t,e)=>{let{px:r,py:i,pz:a}=t;if(n.eql(a,n.ONE))return{x:r,y:i};let s=t.is0();null==e&&(e=s?n.ONE:n.inv(a));let o=n.mul(r,e),c=n.mul(i,e),l=n.mul(a,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:o,y:c}}),h=ry(t=>{if(t.is0()){if(r.allowInfinityPoint&&!n.is0(t.py))return;throw Error("bad point: ZERO")}let{x:e,y:i}=t.toAffine();if(!n.isValid(e)||!n.isValid(i))throw Error("bad point: x or y not FE");let a=n.sqr(i),s=o(e);if(!n.eql(a,s))throw Error("bad point: equation left != right");if(!t.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class d{constructor(t,e,r){if(this.px=t,this.py=e,this.pz=r,null==t||!n.isValid(t))throw Error("x required");if(null==e||!n.isValid(e))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");Object.freeze(this)}static fromAffine(t){let{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw Error("invalid affine point");if(t instanceof d)throw Error("projective point not allowed");let i=t=>n.eql(t,n.ZERO);return i(e)&&i(r)?d.ZERO:new d(e,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=n.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(d.fromAffine)}static fromHex(t){let e=d.fromAffine(s(re("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return d.BASE.multiply(c(t))}static msm(t,e){return function(t,e,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");if(n.forEach((t,r)=>{if(!e.isValid(t))throw Error("invalid scalar at index "+r)}),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=t.ZERO,a=rc(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,c=Array(o+1).fill(i),l=Math.floor((e.BITS-1)/s)*s,u=i;for(let t=l;t>=0;t-=s){c.fill(i);for(let e=0;e<n.length;e++){let i=Number(n[e]>>BigInt(t)&BigInt(o));c[i]=c[i].add(r[e])}let e=i;for(let t=c.length-1,r=i;t>0;t--)r=r.add(c[t]),e=e.add(r);if(u=u.add(e),0!==t)for(let t=0;t<s;t++)u=u.double()}return u}(d,i,t,e)}_setWindowSize(t){p.setWindowSize(this,t)}assertValidity(){h(this)}hasEvenY(){let{y:t}=this.toAffine();if(n.isOdd)return!n.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){l(t);let{px:e,py:r,pz:i}=this,{px:a,py:s,pz:o}=t,c=n.eql(n.mul(e,o),n.mul(a,i)),u=n.eql(n.mul(r,o),n.mul(s,i));return c&&u}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){let{a:t,b:e}=r,i=n.mul(e,nO),{px:a,py:s,pz:o}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,h=n.mul(a,a),f=n.mul(s,s),p=n.mul(o,o),g=n.mul(a,s);return g=n.add(g,g),u=n.mul(a,o),u=n.add(u,u),c=n.mul(t,u),l=n.mul(i,p),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(g,c),u=n.mul(i,u),p=n.mul(t,p),g=n.sub(h,p),g=n.mul(t,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,p),h=n.mul(h,g),l=n.add(l,h),p=n.mul(s,o),p=n.add(p,p),h=n.mul(p,g),c=n.sub(c,h),u=n.mul(p,f),u=n.add(u,u),new d(c,l,u=n.add(u,u))}add(t){l(t);let{px:e,py:i,pz:a}=this,{px:s,py:o,pz:c}=t,u=n.ZERO,h=n.ZERO,f=n.ZERO,p=r.a,g=n.mul(r.b,nO),y=n.mul(e,s),m=n.mul(i,o),b=n.mul(a,c),_=n.add(e,i),w=n.add(s,o);_=n.mul(_,w),w=n.add(y,m),_=n.sub(_,w),w=n.add(e,a);let E=n.add(s,c);return w=n.mul(w,E),E=n.add(y,b),w=n.sub(w,E),E=n.add(i,a),u=n.add(o,c),E=n.mul(E,u),u=n.add(m,b),E=n.sub(E,u),f=n.mul(p,w),u=n.mul(g,b),f=n.add(u,f),u=n.sub(m,f),f=n.add(m,f),h=n.mul(u,f),m=n.add(y,y),m=n.add(m,y),b=n.mul(p,b),w=n.mul(g,w),m=n.add(m,b),b=n.sub(y,b),b=n.mul(p,b),w=n.add(w,b),y=n.mul(m,w),h=n.add(h,y),y=n.mul(E,w),u=n.mul(_,u),u=n.sub(u,y),y=n.mul(_,m),f=n.mul(E,f),new d(u,h,f=n.add(f,y))}subtract(t){return this.add(t.negate())}is0(){return this.equals(d.ZERO)}wNAF(t){return p.wNAFCached(this,t,d.normalizeZ)}multiplyUnsafe(t){let{endo:e,n:i}=r;nT.aInRange("scalar",t,nD,i);let a=d.ZERO;if(t===nD)return a;if(this.is0()||t===nM)return this;if(!e||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,t,d.normalizeZ);let{k1neg:s,k1:o,k2neg:c,k2:l}=e.splitScalar(t),u=a,h=a,f=this;for(;o>nD||l>nD;)o&nM&&(u=u.add(f)),l&nM&&(h=h.add(f)),f=f.double(),o>>=nM,l>>=nM;return s&&(u=u.negate()),c&&(h=h.negate()),h=new d(n.mul(h.px,e.beta),h.py,h.pz),u.add(h)}multiply(t){let e,i,{endo:a,n:s}=r;if(nT.aInRange("scalar",t,nM,s),a){let{k1neg:r,k1:s,k2neg:o,k2:c}=a.splitScalar(t),{p:l,f:u}=this.wNAF(s),{p:h,f:f}=this.wNAF(c);l=p.constTimeNegate(r,l),h=p.constTimeNegate(o,h),h=new d(n.mul(h.px,a.beta),h.py,h.pz),e=l.add(h),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(t);e=r,i=n}return d.normalizeZ([e,i])[0]}multiplyAndAddUnsafe(t,e,r){let n=d.BASE,i=(t,e)=>e!==nD&&e!==nM&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),a=i(this,e).add(i(t,r));return a.is0()?void 0:a}toAffine(t){return u(this,t)}isTorsionFree(){let{h:t,isTorsionFree:e}=r;if(t===nM)return!0;if(e)return e(d,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:e}=r;return t===nM?this:e?e(d,this):this.multiplyUnsafe(r.h)}toRawBytes(t=!0){return eJ("isCompressed",t),this.assertValidity(),a(d,this,t)}toHex(t=!0){return eJ("isCompressed",t),nT.bytesToHex(this.toRawBytes(t))}}d.BASE=new d(r.Gx,r.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let f=r.nBitLength,p=(e=r.endo?Math.ceil(f/2):f,{constTimeNegate:nb,hasPrecomputes:t=>1!==nI(t),unsafeLadder(t,e,r=d.ZERO){let n=t;for(;e>ny;)e&nm&&(r=r.add(n)),n=n.double(),e>>=nm;return r},precomputeWindow(t,r){let{windows:n,windowSize:i}=nw(r,e),a=[],s=t,o=s;for(let t=0;t<n;t++){o=s,a.push(o);for(let t=1;t<i;t++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(t,r,n){let{windows:i,windowSize:a}=nw(t,e),s=d.ZERO,o=d.BASE,c=BigInt(2**t-1),l=2**t,u=BigInt(t);for(let t=0;t<i;t++){let e=t*a,i=Number(n&c);n>>=u,i>a&&(i-=l,n+=nm);let h=e+Math.abs(i)-1,d=t%2!=0,f=i<0;0===i?o=o.add(nb(d,r[e])):s=s.add(nb(f,r[h]))}return{p:s,f:o}},wNAFUnsafe(t,r,n,i=d.ZERO){let{windows:a,windowSize:s}=nw(t,e),o=BigInt(2**t-1),c=2**t,l=BigInt(t);for(let t=0;t<a;t++){let e=t*s;if(n===ny)break;let a=Number(n&o);if(n>>=l,a>s&&(a-=c,n+=nm),0===a)continue;let u=r[e+Math.abs(a)-1];a<0&&(u=u.negate()),i=i.add(u)}return i},getPrecomputes(t,e,r){let n=nE.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&nE.set(e,r(n))),n},wNAFCached(t,e,r){let n=nI(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)},wNAFCachedUnsafe(t,e,r,n){let i=nI(t);return 1===i?this.unsafeLadder(t,e,n):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),e,n)},setWindowSize(t,r){n_(r,e),nv.set(t,r),nE.delete(t)}});return{CURVE:r,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:function(t){return nT.inRange(t,nM,r.n)}}}function nL(t){let e,r=(e=nA(t),nT.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})),{Fp:n,n:i}=r,a=n.BYTES+1,s=2*n.BYTES+1;function o(t){return nn(t,i)}let{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=nB({...r,toBytes(t,e,r){let i=e.toAffine(),a=n.toBytes(i.x),s=nT.concatBytes;return(eJ("isCompressed",r),r)?s(Uint8Array.from([e.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(t){let e=t.length,r=t[0],i=t.subarray(1);if(e===a&&(2===r||3===r)){let t,e=nT.bytesToNumberBE(i);if(!nT.inRange(e,nM,n.ORDER))throw Error("Point is not on curve");let a=u(e);try{t=n.sqrt(a)}catch(t){throw Error("Point is not on curve"+(t instanceof Error?": "+t.message:""))}return(1&r)==1!=((t&nM)===nM)&&(t=n.neg(t)),{x:e,y:t}}if(e===s&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw Error("invalid Point, expected length of "+a+", or uncompressed "+s+", got "+e)}}),d=t=>nT.bytesToHex(nT.numberToBytesBE(t,r.nByteLength)),f=(t,e,r)=>nT.bytesToNumberBE(t.slice(e,r));class p{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){let e=r.nByteLength;return new p(f(t=re("compactSignature",t,2*e),0,e),f(t,e,2*e))}static fromDER(t){let{r:e,s:r}=nC.toSig(re("DER",t));return new p(e,r)}assertValidity(){nT.aInRange("r",this.r,nM,i),nT.aInRange("s",this.s,nM,i)}addRecoveryBit(t){return new p(this.r,this.s,t)}recoverPublicKey(t){let{r:e,s:a,recovery:s}=this,l=m(re("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let u=2===s||3===s?e+r.n:e;if(u>=n.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&s)==0?"02":"03",f=c.fromHex(h+d(u)),p=na(u,i),g=o(-l*p),y=o(a*p),b=c.BASE.multiplyAndAddUnsafe(f,g,y);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>i>>nM}normalizeS(){return this.hasHighS()?new p(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return nT.hexToBytes(this.toDERHex())}toDERHex(){return nC.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nT.hexToBytes(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function g(t){let e=nT.isBytes(t),r="string"==typeof t,n=(e||r)&&t.length;return e?n===a||n===s:r?n===2*a||n===2*s:t instanceof c}let y=r.bits2int||function(t){if(t.length>8192)throw Error("input is too large");let e=nT.bytesToNumberBE(t),n=8*t.length-r.nBitLength;return n>0?e>>BigInt(n):e},m=r.bits2int_modN||function(t){return o(y(t))},b=nT.bitMask(r.nBitLength);function _(t){return nT.aInRange("num < 2^"+r.nBitLength,t,nD,b),nT.numberToBytesBE(t,r.nByteLength)}let w={lowS:r.lowS,prehash:!1},E={lowS:r.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(g(t))throw Error("first arg must be private key");if(!g(e))throw Error("second arg must be public key");return c.fromHex(e).multiply(l(t)).toRawBytes(r)},sign:function(t,e,a=w){let{seed:s,k2sig:u}=function(t,e,a=w){if(["recovered","canonical"].some(t=>t in a))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:u}=r,{lowS:d,prehash:f,extraEntropy:g}=a;null==d&&(d=!0),t=re("msgHash",t),nS(a),f&&(t=re("prehashed msgHash",s(t)));let b=m(t),E=l(e),v=[_(E),_(b)];if(null!=g&&!1!==g){let t=!0===g?u(n.BYTES):g;v.push(re("extraEntropy",t))}return{seed:nT.concatBytes(...v),k2sig:function(t){var e;let r=y(t);if(!h(r))return;let n=na(r,i),a=c.BASE.multiply(r).toAffine(),s=o(a.x);if(s===nD)return;let l=o(n*o(b+s*E));if(l===nD)return;let u=2*(a.x!==s)|Number(a.y&nM),f=l;return d&&l>i>>nM&&(f=(e=l)>i>>nM?o(-e):e,u^=1),new p(s,f,u)}}}(t,e,a);return nT.createHmacDrbg(r.hash.outputLen,r.nByteLength,r.hmac)(s,u)},verify:function(t,e,n,a=E){let s,l;e=re("msgHash",e),n=re("publicKey",n);let{lowS:u,prehash:h,format:d}=a;if(nS(a),"strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw Error("format must be compact or der");let f="string"==typeof t||nT.isBytes(t),g=!f&&!d&&"object"==typeof t&&null!==t&&"bigint"==typeof t.r&&"bigint"==typeof t.s;if(!f&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(l=new p(t.r,t.s)),f){try{"compact"!==d&&(l=p.fromDER(t))}catch(t){if(!(t instanceof nC.Err))throw t}l||"der"===d||(l=p.fromCompact(t))}s=c.fromHex(n)}catch(t){return!1}if(!l||u&&l.hasHighS())return!1;h&&(e=r.hash(e));let{r:y,s:b}=l,_=m(e),w=na(b,i),v=o(_*w),I=o(y*w),A=c.BASE.multiplyAndAddUnsafe(s,v,I)?.toAffine();return!!A&&o(A.x)===y},ProjectivePoint:c,Signature:p,utils:{isValidPrivateKey(t){try{return l(t),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let t=nd(r.n);return function(t,e,r=!1){let n=t.length,i=nh(e),a=nd(e);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let s=nn(r?e6(t):e8(t),e-r8)+r8;return r?e7(s,i):e9(s,i)}(r.randomBytes(t),r.n)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}function nP(t,e){let r=t.ORDER,n=nD;for(let t=r-nM;t%nk===nD;t/=nk)n+=nM;let i=n,a=nk<<i-nM-nM,s=a*nk,o=(r-nM)/s,c=(o-nM)/nk,l=s-nM,u=t.pow(e,o),h=t.pow(e,(o+nM)/nk),d=(e,r)=>{let n=u,s=t.pow(r,l),o=t.sqr(s);o=t.mul(o,r);let d=t.mul(e,o);d=t.pow(d,c),d=t.mul(d,s),s=t.mul(d,r),o=t.mul(d,e);let f=t.mul(o,s);d=t.pow(f,a);let p=t.eql(d,t.ONE);s=t.mul(o,h),d=t.mul(f,n),o=t.cmov(s,o,p),f=t.cmov(d,f,p);for(let e=i;e>nM;e--){let r=e-nk;r=nk<<r-nM;let i=t.pow(f,r),a=t.eql(i,t.ONE);s=t.mul(o,n),n=t.mul(n,n),i=t.mul(f,n),o=t.cmov(s,o,a),f=t.cmov(i,f,a)}return{isValid:p,value:o}};if(t.ORDER%nR===nO){let r=(t.ORDER-nO)/nR,n=t.sqrt(t.neg(e));d=(e,i)=>{let a=t.sqr(i),s=t.mul(e,i);a=t.mul(a,s);let o=t.pow(a,r);o=t.mul(o,s);let c=t.mul(o,n),l=t.mul(t.sqr(o),i),u=t.eql(l,e),h=t.cmov(c,o,u);return{isValid:u,value:h}}}return d}function nj(t,e){if(no(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=nP(t,e.Z);if(!t.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,c,l,u,h;i=t.sqr(n),i=t.mul(i,e.Z),a=t.sqr(i),a=t.add(a,i),s=t.add(a,t.ONE),s=t.mul(s,e.B),o=t.cmov(e.Z,t.neg(a),!t.eql(a,t.ZERO)),o=t.mul(o,e.A),a=t.sqr(s),l=t.sqr(o),c=t.mul(l,e.A),a=t.add(a,c),a=t.mul(a,s),l=t.mul(l,o),c=t.mul(l,e.B),a=t.add(a,c),u=t.mul(i,s);let{isValid:d,value:f}=r(a,l);h=t.mul(i,n),h=t.mul(h,f),u=t.cmov(u,s,d),h=t.cmov(h,f,d);let p=t.isOdd(n)===t.isOdd(h);return h=t.cmov(t.neg(h),h,p),{x:u=t.div(u,o),y:h}}}t.s(["DER",0,nC,"SWUFpSqrtRatio",()=>nP,"mapToCurveSimpleSWU",()=>nj,"weierstrass",()=>nL,"weierstrassPoints",()=>nB],5746);class nU extends rM{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");rm(t.outputLen),rm(t.blockLen)}(t);const r=rD(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return r_(this),this.iHash.update(t),this}digestInto(t){r_(this),rb(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return t.finished=n,t.destroyed=i,t.blockLen=a,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let nz=(t,e,r)=>new nU(t,e).update(r).digest();function nF(t){return{hash:t,hmac:(e,...r)=>nz(t,e,function(...t){let e=0;for(let r=0;r<t.length;r++){let n=t[r];rb(n),e+=n.length}let r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){let i=t[e];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:rO}}nz.create=(t,e)=>new nU(t,e);let nV=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),nH=BigInt("0x800000000000000000000000000000000000000000000000000000000000000");function n$(t){for(;0===t[0];)t=t.subarray(1);let e=8*t.length-252,r=e6(t);return e>0?r>>BigInt(e):r}function nY(t){return"string"==typeof t&&1&(t=n6(t)).length&&(t="0"+t),e3(t)}let nq=nL({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:nu(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:nV,nBitLength:252,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...nF(rF),bits2int:n$,bits2int_modN:t=>{let e=e6(t).toString(16);return 63===e.length&&(t=nY(e+"0")),nn(n$(t),nV)}});function nQ(t){return re("","string"==typeof t?nY(t):t)}function nW(t){return e1(nQ(t)).padStart(64,"0")}function nZ(t,e=!1){return nq.getPublicKey(nW(t),e)}function nG(t,e){return nq.getSharedSecret(nW(t),e)}function nK(t){let{r:e,s:r}=t;if(e<0n||e>=nH)throw Error(`Signature.r should be [1, ${nH})`);let n=na(r,nV);if(n<0n||n>=nH)throw Error(`inv(Signature.s) should be [1, ${nH})`)}function nX(t){let e=nQ(t);if(e6(e)>=nH)throw Error(`msgHash should be [0, ${nH})`);return e}function nJ(t,e,r){let n=nq.sign(nX(t),nW(e),r);return nK(n),n}function n0(t,e,r){if(!(t instanceof n5)){let e=nQ(t);try{t=n5.fromDER(e)}catch(r){if(!(r instanceof nC.Err))throw r;t=n5.fromCompact(e)}}return nK(t),nq.verify(t,nX(e),nQ(r))}let{CURVE:n1,ProjectivePoint:n2,Signature:n5,utils:n4}=nq;function n3(t){let e=e1(t.subarray(1)).replace(/^0+/gm,"");return`0x${e}`}function n6(t){return t.replace(/^0x/i,"")}function n8(t){let e=nQ(t),r=2n**256n,n=r-nn(r,nV);for(let t=0;;t++){let r=ih(rr(e,rt(BigInt(t))));if(r<n)return nn(r,nV).toString(16);if(1e5===t)throw Error("grindKey is broken: tried 100k vals")}}function n9(t){return n3(nZ(t,!0))}function n7(t){if(130!==(t=n6(t)).length)throw Error("Wrong ethereum signature");return n8(t.substring(0,64))}let it=2n**31n-1n;function ie(t,e,r,n){let i=Number(ih(t)&it),a=Number(ih(e)&it),s=e5(n6(r));return`m/2645'/${i}'/${a}'/${Number(s&it)}'/${Number(s>>31n&it)}'/${n}`}let ir=[new n2(0x49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804n,0x3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268an,1n),new n2(0x234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47bn,0x3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615n,1n),new n2(0x4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378n,0x3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54dn,1n),new n2(0x4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997n,0x40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219cn,1n),new n2(0x54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202n,0x1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426n,1n)];function ii(t,e){let r=[],n=t;for(let t=0;t<248;t++)r.push(n),n=n.double();n=e;for(let t=0;t<4;t++)r.push(n),n=n.double();return r}let ia=ii(ir[1],ir[2]),is=ii(ir[3],ir[4]);function io(t,e,r){let n=function(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t){if(!Number.isSafeInteger(t))throw Error(`Invalid pedersenArg: ${t}`);e=BigInt(t)}else e=e6(nQ(t));if(!(0n<=e&&e<nq.CURVE.Fp.ORDER))throw Error(`PedersenArg should be 0 <= value < CURVE.P: ${e}`);return e}(e);for(let e=0;e<252;e++){let i=r[e];if(!i)throw Error("invalid constant index");if(i.equals(t))throw Error("Same point");(1n&n)!==0n&&(t=t.add(i)),n>>=1n}return t}function ic(t,e){let r=ir[0];return r=io(r,t,ia),n3((r=io(r,e,is)).toRawBytes(!0))}let il=rh(250),iu=t=>e6(r3(t))&il,ih=t=>e6(rF(t)),id=nu(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function ip(t,e,r){let n=t.fromBytes(rF(rC(`${e}${r}`)));return t.create(n)}function ig(t,e,r,n=0){let i=[],a=[];for(let s=0;s<r;s++)i.push(ip(t,`${e}x`,n*r+s)),a.push(ip(t,`${e}y`,n*r+s));if(new Set([...i,...a]).size!==2*r)throw Error("X and Y values are not distinct");return i.map(e=>a.map(r=>t.inv(t.sub(e,r))))}function iy(t,e){if(no(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw Error(`Wrong poseidon opts: ${t}`);let r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let e=0;e<n;e++){let n=[];for(let i=0;i<r;i++)n.push(ip(t.Fp,"Hades",r*e+i));i.push(n)}let a=ng({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return a.m=r,a.rate=t.rate,a.capacity=t.capacity,a}function im(t,e=0){let r=t.rate+t.capacity;if(!Number.isSafeInteger(e))throw Error(`Wrong mdsAttempt=${e}`);return iy(t,ig(t.Fp,"HadesMDS",r,e))}let ib=iy({Fp:id,rate:2,capacity:1,roundsFull:8,roundsPartial:83},[[3,1,1],[1,-1,1],[1,1,-2]].map(t=>t.map(BigInt)));function i_(t,e,r=ib){return r([t,e,2n])[0]}function iw(t,e,r=ib){return rt(i_(e6(t),e6(e),r))}function iE(t,e=ib){return e([t,0n,1n])[0]}function iv(t,e=ib){let{m:r,rate:n}=e;if(!Array.isArray(t))throw Error("bigint array expected in values");let i=Array.from(t);for(i.push(1n);i.length%n!=0;)i.push(0n);let a=Array(r).fill(0n);for(let t=0;t<i.length;t+=n){for(let e=0;e<n;e++){let r=i[t+e];if(void 0===r)throw Error("invalid index");if(void 0===a[e])throw Error("state[j] is undefined");a[e]=a[e]+r}a=e(a)}return a[0]}t.s(["CURVE",()=>n1,"Fp251",0,id,"MAX_VALUE",0,nH,"ProjectivePoint",()=>n2,"Signature",()=>n5,"_poseidonMDS",()=>ig,"_starkCurve",0,nq,"computeHashOnElements",0,(t,e=ic)=>[0,...t,t.length].reduce((t,r)=>e(t,r)),"ethSigToPrivate",()=>n7,"getAccountPath",()=>ie,"getPublicKey",()=>nZ,"getSharedSecret",()=>nG,"getStarkKey",()=>n9,"grindKey",()=>n8,"keccak",0,iu,"normalizePrivateKey",()=>nW,"pedersen",()=>ic,"poseidonBasic",()=>iy,"poseidonCreate",()=>im,"poseidonHash",()=>i_,"poseidonHashFunc",()=>iw,"poseidonHashMany",()=>iv,"poseidonHashSingle",()=>iE,"poseidonSmall",0,ib,"sign",()=>nJ,"utils",()=>n4,"verify",()=>n0],97546);var iI=t.i(77817),iA=t.i(97546),iT=t.i(5746);let iS=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class iN extends rM{constructor(t,e,r={},n,i,a){if(super(),this.blockLen=t,this.outputLen=e,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,rm(t),rm(e),rm(n),e<0||e>n)throw Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>n))throw Error("key length must be undefined or 1.."+n);if(void 0!==r.salt&&r.salt.length!==i)throw Error("salt must be undefined or "+i);if(void 0!==r.personalization&&r.personalization.length!==a)throw Error("personalization must be undefined or "+a);this.buffer=new Uint8Array(t),this.buffer32=rv(this.buffer)}update(t){r_(this);let{blockLen:e,buffer:r,buffer32:n}=this,i=(t=rD(t)).length,a=t.byteOffset,s=t.buffer;for(let o=0;o<i;){this.pos===e&&(rT||rx(n),this.compress(n,0,!1),rT||rx(n),this.pos=0);let c=Math.min(e-this.pos,i-o),l=a+o;if(c===e&&!(l%4)&&o+c<i){let t=new Uint32Array(s,l,Math.floor((i-o)/4));rT||rx(t);for(let r=0;o+e<i;r+=n.length,o+=e)this.length+=e,this.compress(t,r,!1);rT||rx(t);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,this.length+=c,o+=c}return this}digestInto(t){r_(this),rw(t,this);let{pos:e,buffer32:r}=this;this.finished=!0,this.buffer.subarray(e).fill(0),rT||rx(r),this.compress(r,0,!0),rT||rx(r);let n=rv(t);this.get().forEach((t,e)=>n[e]=rN(t))}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){let{buffer:e,length:r,finished:n,destroyed:i,outputLen:a,pos:s}=this;return t||(t=new this.constructor({dkLen:a})),t.set(...this.get()),t.length=r,t.finished=n,t.destroyed=i,t.outputLen=a,t.buffer.set(e),t.pos=s,t}}let ix=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]);function iC(t,e,r,n,i){return r=r+(n=rA(n^(t=t+e+i|0),16))|0,{a:t,b:e=rA(e^r,12),c:r,d:n}}function iD(t,e,r,n,i){return r=r+(n=rA(n^(t=t+e+i|0),8))|0,{a:t,b:e=rA(e^r,7),c:r,d:n}}class iM extends iN{constructor(t={}){super(64,void 0===t.dkLen?32:t.dkLen,t,32,8,8),this.v0=0|ix[0],this.v1=0|ix[1],this.v2=0|ix[2],this.v3=0|ix[3],this.v4=0|ix[4],this.v5=0|ix[5],this.v6=0|ix[6],this.v7=0|ix[7];const e=t.key?t.key.length:0;if(this.v0^=this.outputLen|e<<8|0x1010000,t.salt){const e=rv(rD(t.salt));this.v4^=rN(e[0]),this.v5^=rN(e[1])}if(t.personalization){const e=rv(rD(t.personalization));this.v6^=rN(e[0]),this.v7^=rN(e[1])}if(t.key){const e=new Uint8Array(this.blockLen);e.set(rD(t.key)),this.update(e)}}get(){let{v0:t,v1:e,v2:r,v3:n,v4:i,v5:a,v6:s,v7:o}=this;return[t,e,r,n,i,a,s,o]}set(t,e,r,n,i,a,s,o){this.v0=0|t,this.v1=0|e,this.v2=0|r,this.v3=0|n,this.v4=0|i,this.v5=0|a,this.v6=0|s,this.v7=0|o}compress(t,e,r){let{h:n,l:i}=r$(BigInt(this.length)),{v0:a,v1:s,v2:o,v3:c,v4:l,v5:u,v6:h,v7:d,v8:f,v9:p,v10:g,v11:y,v12:m,v13:b,v14:_,v15:w}=function(t,e,r,n,i,a,s,o,c,l,u,h,d,f,p,g,y,m,b,_){let w=0;for(let n=0;n<10;n++)({a:i,b:c,c:d,d:y}=iC(i,c,d,y,r[e+t[w++]])),({a:i,b:c,c:d,d:y}=iD(i,c,d,y,r[e+t[w++]])),({a:a,b:l,c:f,d:m}=iC(a,l,f,m,r[e+t[w++]])),({a:a,b:l,c:f,d:m}=iD(a,l,f,m,r[e+t[w++]])),({a:s,b:u,c:p,d:b}=iC(s,u,p,b,r[e+t[w++]])),({a:s,b:u,c:p,d:b}=iD(s,u,p,b,r[e+t[w++]])),({a:o,b:h,c:g,d:_}=iC(o,h,g,_,r[e+t[w++]])),({a:o,b:h,c:g,d:_}=iD(o,h,g,_,r[e+t[w++]])),({a:i,b:l,c:p,d:_}=iC(i,l,p,_,r[e+t[w++]])),({a:i,b:l,c:p,d:_}=iD(i,l,p,_,r[e+t[w++]])),({a:a,b:u,c:g,d:y}=iC(a,u,g,y,r[e+t[w++]])),({a:a,b:u,c:g,d:y}=iD(a,u,g,y,r[e+t[w++]])),({a:s,b:h,c:d,d:m}=iC(s,h,d,m,r[e+t[w++]])),({a:s,b:h,c:d,d:m}=iD(s,h,d,m,r[e+t[w++]])),({a:o,b:c,c:f,d:b}=iC(o,c,f,b,r[e+t[w++]])),{a:o,b:c,c:f,d:b}=iD(o,c,f,b,r[e+t[w++]]);return{v0:i,v1:a,v2:s,v3:o,v4:c,v5:l,v6:u,v7:h,v8:d,v9:f,v10:p,v11:g,v12:y,v13:m,v14:b,v15:_}}(iS,e,t,0,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,ix[0],ix[1],ix[2],ix[3],i^ix[4],n^ix[5],r?~ix[6]:ix[6],ix[7]);this.v0^=a^f,this.v1^=s^p,this.v2^=o^g,this.v3^=c^y,this.v4^=l^m,this.v5^=u^b,this.v6^=h^_,this.v7^=d^w}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}}let ik=(d=t=>new iM(t),(s=(t,e)=>d(e).update(rD(t)).digest()).outputLen=(o=d({})).outputLen,s.blockLen=o.blockLen,s.create=t=>d(t),s);function iO(t){let e=t.length;for(;--e>=0;)t[e]=0}let iR=573,iB=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),iL=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),iP=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ij=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iU=Array(576);iO(iU);let iz=Array(60);iO(iz);let iF=Array(512);iO(iF);let iV=Array(256);iO(iV);let iH=Array(29);iO(iH);let i$=Array(30);function iY(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function iq(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}iO(i$);let iQ=t=>t<256?iF[t]:iF[256+(t>>>7)],iW=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},iZ=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,iW(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},iG=(t,e,r)=>{iZ(t,r[2*e],r[2*e+1])},iK=(t,e)=>{let r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0)return r>>>1},iX=(t,e,r)=>{let n,i,a=Array(16),s=0;for(n=1;n<=15;n++)s=s+r[n-1]<<1,a[n]=s;for(i=0;i<=e;i++){let e=t[2*i+1];0!==e&&(t[2*i]=iK(a[e]++,e))}},iJ=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},i0=t=>{t.bi_valid>8?iW(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},i1=(t,e,r,n)=>{let i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},i2=(t,e,r)=>{let n=t.heap[r],i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&i1(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!i1(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},i5=(t,e,r)=>{let n,i,a,s,o=0;if(0!==t.sym_next)do n=(255&t.pending_buf[t.sym_buf+o++])+((255&t.pending_buf[t.sym_buf+o++])<<8),i=t.pending_buf[t.sym_buf+o++],0===n?iG(t,i,e):(iG(t,(a=iV[i])+256+1,e),0!==(s=iB[a])&&iZ(t,i-=iH[a],s),iG(t,a=iQ(--n),r),0!==(s=iL[a])&&iZ(t,n-=i$[a],s));while(o<t.sym_next)iG(t,256,e)},i4=(t,e)=>{let r,n,i,a=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(r=0,t.heap_len=0,t.heap_max=iR;r<c;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,o&&(t.static_len-=s[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)i2(t,a,r);i=c;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],i2(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,i2(t,a,1);while(t.heap_len>=2)t.heap[--t.heap_max]=t.heap[1],((t,e)=>{let r,n,i,a,s,o,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(c[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<iR;r++)(a=c[2*c[2*(n=t.heap[r])+1]+1]+1)>p&&(a=p,g++),c[2*n+1]=a,!(n>l)&&(t.bl_count[a]++,s=0,n>=f&&(s=d[n-f]),o=c[2*n],t.opt_len+=o*(a+s),h&&(t.static_len+=o*(u[2*n+1]+s)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(g>0)for(a=p;0!==a;a--)for(n=t.bl_count[a];0!==n;)!((i=t.heap[--r])>l)&&(c[2*i+1]!==a&&(t.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),n--)}})(t,e),iX(a,l,t.bl_count)},i3=(t,e,r)=>{let n,i,a=-1,s=e[1],o=0,c=7,l=4;for(0===s&&(c=138,l=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=e[(n+1)*2+1],++o<c&&i===s||(o<l?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))},i6=(t,e,r)=>{let n,i,a=-1,s=e[1],o=0,c=7,l=4;for(0===s&&(c=138,l=3),n=0;n<=r;n++)if(i=s,s=e[(n+1)*2+1],!(++o<c)||i!==s){if(o<l)do iG(t,i,t.bl_tree);while(0!=--o)else 0!==i?(i!==a&&(iG(t,i,t.bl_tree),o--),iG(t,16,t.bl_tree),iZ(t,o-3,2)):o<=10?(iG(t,17,t.bl_tree),iZ(t,o-3,3)):(iG(t,18,t.bl_tree),iZ(t,o-11,7));o=0,a=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}},i8=!1,i9=(t,e,r,n)=>{iZ(t,0+ +!!n,3),i0(t),iW(t,r),iW(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var i7={_tr_init:t=>{i8||((()=>{let t,i,a,s,o,c=Array(16);for(s=0,a=0;s<28;s++)for(t=0,iH[s]=a;t<1<<iB[s];t++)iV[a++]=s;for(iV[a-1]=s,o=0,s=0;s<16;s++)for(t=0,i$[s]=o;t<1<<iL[s];t++)iF[o++]=s;for(o>>=7;s<30;s++)for(t=0,i$[s]=o<<7;t<1<<iL[s]-7;t++)iF[256+o++]=s;for(i=0;i<=15;i++)c[i]=0;for(t=0;t<=143;)iU[2*t+1]=8,t++,c[8]++;for(;t<=255;)iU[2*t+1]=9,t++,c[9]++;for(;t<=279;)iU[2*t+1]=7,t++,c[7]++;for(;t<=287;)iU[2*t+1]=8,t++,c[8]++;for(iX(iU,287,c),t=0;t<30;t++)iz[2*t+1]=5,iz[2*t]=iK(t,5);e=new iY(iU,iB,257,286,15),r=new iY(iz,iL,0,30,15),n=new iY([],iP,0,19,7)})(),i8=!0),t.l_desc=new iq(t.dyn_ltree,e),t.d_desc=new iq(t.dyn_dtree,r),t.bl_desc=new iq(t.bl_tree,n),t.bi_buf=0,t.bi_valid=0,iJ(t)},_tr_stored_block:i9,_tr_flush_block:(t,e,r,n)=>{let i,a,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=0xf3ffc07f;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),i4(t,t.l_desc),i4(t,t.d_desc),s=(t=>{let e;for(i3(t,t.dyn_ltree,t.l_desc.max_code),i3(t,t.dyn_dtree,t.d_desc.max_code),i4(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*ij[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?i9(t,e,r,n):4===t.strategy||a===i?(iZ(t,2+ +!!n,3),i5(t,iU,iz)):(iZ(t,4+ +!!n,3),((t,e,r,n)=>{let i;for(iZ(t,e-257,5),iZ(t,r-1,5),iZ(t,n-4,4),i=0;i<n;i++)iZ(t,t.bl_tree[2*ij[i]+1],3);i6(t,t.dyn_ltree,e-1),i6(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),i5(t,t.dyn_ltree,t.dyn_dtree)),iJ(t),n&&i0(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[(iV[r]+256+1)*2]++,t.dyn_dtree[2*iQ(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{iZ(t,2,3),iG(t,256,iU),16===t.bi_valid?(iW(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},at=(t,e,r,n)=>{let i=65535&t,a=t>>>16&65535,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do a=a+(i=i+e[n++]|0)|0;while(--s)i%=65521,a%=65521}return i|a<<16};let ae=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?0xedb88320^t>>>1:t>>>1;e[r]=t}return e})());var ar=(t,e,r,n)=>{let i=n+r;t^=-1;for(let r=n;r<i;r++)t=t>>>8^ae[(t^e[r])&255];return -1^t},an={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ai={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:aa,_tr_stored_block:as,_tr_flush_block:ao,_tr_tally:ac,_tr_align:al}=i7,{Z_NO_FLUSH:au,Z_PARTIAL_FLUSH:ah,Z_FULL_FLUSH:ad,Z_FINISH:af,Z_BLOCK:ap,Z_OK:ag,Z_STREAM_END:ay,Z_STREAM_ERROR:am,Z_DATA_ERROR:ab,Z_BUF_ERROR:a_,Z_DEFAULT_COMPRESSION:aw,Z_FILTERED:aE,Z_HUFFMAN_ONLY:av,Z_RLE:aI,Z_FIXED:aA,Z_DEFAULT_STRATEGY:aT,Z_UNKNOWN:aS,Z_DEFLATED:aN}=ai,ax=573,aC=(t,e)=>(t.msg=an[e],e),aD=t=>2*t-9*(t>4),aM=t=>{let e=t.length;for(;--e>=0;)t[e]=0},ak=t=>{let e,r,n,i=t.w_size;n=e=t.hash_size;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e)n=e=i;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)},aO=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,aR=t=>{let e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},aB=(t,e)=>{ao(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,aR(t.strm)},aL=(t,e)=>{t.pending_buf[t.pending++]=e},aP=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},aj=(t,e,r,n)=>{let i=t.avail_in;return(i>n&&(i=n),0===i)?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=at(t.adler,e,i,r):2===t.state.wrap&&(t.adler=ar(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},aU=(t,e)=>{let r,n,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,u=t.w_mask,h=t.prev,d=t.strstart+258,f=l[a+s-1],p=l[a+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(l[(r=e)+s]!==p||l[r+s-1]!==f||l[r]!==l[a]||l[++r]!==l[a+1])continue;a+=2,r++;do;while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<d)if(n=258-(d-a),a=d-258,n>s){if(t.match_start=e,s=n,n>=o)break;f=l[a+s-1],p=l[a+s]}}while((e=h[e&u])>c&&0!=--i)return s<=t.lookahead?s:t.lookahead},az=t=>{let e,r,n,i=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-262)&&(t.window.set(t.window.subarray(i,i+i-r),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),ak(t),r+=i),0===t.strm.avail_in)break;if(e=aj(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=e,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=aO(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=aO(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},aF=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,n>(i=t.strstart-t.block_start)+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(0===n&&e!==af||e===au||n!==i+t.strm.avail_in)))break;s=+(e===af&&n===i+t.strm.avail_in),as(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,aR(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(aj(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s)return((o-=t.strm.avail_in)&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s)?4:e!==au&&e!==af&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(aj(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,r=(a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a)>t.w_size?t.w_size:a,((i=t.strstart-t.block_start)>=r||(i||e===af)&&e!==au&&0===t.strm.avail_in&&i<=a)&&(n=i>a?a:i,s=+(e===af&&0===t.strm.avail_in&&n===i),as(t,t.block_start,n,s),t.block_start+=n,aR(t.strm)),s?3:1)},aV=(t,e)=>{let r,n;for(;;){if(t.lookahead<262){if(az(t),t.lookahead<262&&e===au)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=aO(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=aU(t,r)),t.match_length>=3)if(n=ac(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=aO(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length)t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=aO(t,t.ins_h,t.window[t.strstart+1]);else n=ac(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(aB(t,!1),0===t.strm.avail_out))return 1}return(t.insert=t.strstart<2?t.strstart:2,e===af)?(aB(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aB(t,!1),0===t.strm.avail_out)?1:2},aH=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<262){if(az(t),t.lookahead<262&&e===au)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=aO(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=aU(t,r),t.match_length<=5&&(t.strategy===aE||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=ac(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=aO(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length)if(t.match_available=0,t.match_length=2,t.strstart++,n&&(aB(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=ac(t,0,t.window[t.strstart-1]))&&aB(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(n=ac(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===af)?(aB(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aB(t,!1),0===t.strm.avail_out)?1:2};function a$(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}let aY=[new a$(0,0,0,0,aF),new a$(4,4,8,4,aV),new a$(4,5,16,8,aV),new a$(4,6,32,32,aV),new a$(4,4,16,16,aH),new a$(8,16,32,32,aH),new a$(8,16,128,128,aH),new a$(8,32,128,256,aH),new a$(32,128,258,1024,aH),new a$(32,258,258,4096,aH)];function aq(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=aN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*ax),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),aM(this.dyn_ltree),aM(this.dyn_dtree),aM(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),aM(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),aM(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let aQ=t=>{if(!t)return 1;let e=t.state;return e&&e.strm===t&&(42===e.status||57===e.status||69===e.status||73===e.status||91===e.status||103===e.status||113===e.status||666===e.status)?0:1};var aW=(t,e)=>{if(aQ(t)||e>ap||e<0)return t?aC(t,am):am;let r=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===r.status&&e!==af)return aC(t,0===t.avail_out?a_:am);let n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(aR(t),0===t.avail_out)return r.last_flush=-1,ag}else if(0===t.avail_in&&aD(e)<=aD(n)&&e!==af)return aC(t,a_);if(666===r.status&&0!==t.avail_in)return aC(t,a_);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let e=aN+(r.w_bits-8<<4)<<8;if(e|=(r.strategy>=av||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(e|=32),aP(r,e+=31-e%31),0!==r.strstart&&(aP(r,t.adler>>>16),aP(r,65535&t.adler)),t.adler=1,r.status=113,aR(t),0!==r.pending)return r.last_flush=-1,ag}if(57===r.status){if(t.adler=0,aL(r,31),aL(r,139),aL(r,8),r.gzhead)aL(r,+!!r.gzhead.text+2*!!r.gzhead.hcrc+4*!!r.gzhead.extra+8*!!r.gzhead.name+16*!!r.gzhead.comment),aL(r,255&r.gzhead.time),aL(r,r.gzhead.time>>8&255),aL(r,r.gzhead.time>>16&255),aL(r,r.gzhead.time>>24&255),aL(r,9===r.level?2:4*(r.strategy>=av||r.level<2)),aL(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(aL(r,255&r.gzhead.extra.length),aL(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=ar(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(aL(r,0),aL(r,0),aL(r,0),aL(r,0),aL(r,0),aL(r,9===r.level?2:4*(r.strategy>=av||r.level<2)),aL(r,3),r.status=113,aR(t),0!==r.pending)return r.last_flush=-1,ag}if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=ar(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,aR(t),0!==r.pending)return r.last_flush=-1,ag;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=ar(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=ar(t.adler,r.pending_buf,r.pending-n,n)),aR(t),0!==r.pending)return r.last_flush=-1,ag;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,aL(r,e)}while(0!==e)r.gzhead.hcrc&&r.pending>n&&(t.adler=ar(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=ar(t.adler,r.pending_buf,r.pending-n,n)),aR(t),0!==r.pending)return r.last_flush=-1,ag;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,aL(r,e)}while(0!==e)r.gzhead.hcrc&&r.pending>n&&(t.adler=ar(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(aR(t),0!==r.pending))return r.last_flush=-1,ag;aL(r,255&t.adler),aL(r,t.adler>>8&255),t.adler=0}if(r.status=113,aR(t),0!==r.pending)return r.last_flush=-1,ag}if(0!==t.avail_in||0!==r.lookahead||e!==au&&666!==r.status){let n=0===r.level?aF(r,e):r.strategy===av?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(az(t),0===t.lookahead)){if(e===au)return 1;break}if(t.match_length=0,r=ac(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(aB(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===af)?(aB(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aB(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===aI?((t,e)=>{let r,n,i,a,s=t.window;for(;;){if(t.lookahead<=258){if(az(t),t.lookahead<=258&&e===au)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a)t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=ac(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=ac(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(aB(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===af)?(aB(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(aB(t,!1),0===t.strm.avail_out)?1:2})(r,e):aY[r.level].func(r,e);if((3===n||4===n)&&(r.status=666),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),ag;if(2===n&&(e===ah?al(r):e!==ap&&(as(r,0,0,!1),e===ad&&(aM(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),aR(t),0===t.avail_out))return r.last_flush=-1,ag}return e!==af?ag:r.wrap<=0?ay:(2===r.wrap?(aL(r,255&t.adler),aL(r,t.adler>>8&255),aL(r,t.adler>>16&255),aL(r,t.adler>>24&255),aL(r,255&t.total_in),aL(r,t.total_in>>8&255),aL(r,t.total_in>>16&255),aL(r,t.total_in>>24&255)):(aP(r,t.adler>>>16),aP(r,65535&t.adler)),aR(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ag:ay)},aZ=t=>{if(aQ(t))return am;let e=t.state.status;return t.state=null,113===e?aC(t,ab):ag};let aG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var aK=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let r=e.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let e in r)aG(r,e)&&(t[e]=r[e])}}return t},aX=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;let r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let aJ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){aJ=!1}let a0=new Uint8Array(256);for(let t=0;t<256;t++)a0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;a0[254]=a0[254]=1;var a1=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)(64512&(r=t.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=t.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(a=0,e=new Uint8Array(o),i=0;a<o;i++)(64512&(r=t.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=t.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?e[a++]=r:(r<2048?e[a++]=192|r>>>6:(r<65536?e[a++]=224|r>>>12:(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63),e[a++]=128|r>>>6&63),e[a++]=128|63&r);return e},a2=(t,e)=>{let r,n,i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a=Array(2*i);for(n=0,r=0;r<i;){let e=t[r++];if(e<128){a[n++]=e;continue}let s=a0[e];if(s>4){a[n++]=65533,r+=s-1;continue}for(e&=2===s?31:3===s?15:7;s>1&&r<i;)e=e<<6|63&t[r++],s--;if(s>1){a[n++]=65533;continue}e<65536?a[n++]=e:(e-=65536,a[n++]=55296|e>>10&1023,a[n++]=56320|1023&e)}var s=n;if(s<65534&&a.subarray&&aJ)return String.fromCharCode.apply(null,a.length===s?a:a.subarray(0,s));let o="";for(let t=0;t<s;t++)o+=String.fromCharCode(a[t]);return o},a5=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(192&t[r])==128;)r--;return r<0||0===r?e:r+a0[t[r]]>e?r:e},a4=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let a3=Object.prototype.toString,{Z_NO_FLUSH:a6,Z_SYNC_FLUSH:a8,Z_FULL_FLUSH:a9,Z_FINISH:a7,Z_OK:st,Z_STREAM_END:se,Z_DEFAULT_COMPRESSION:sr,Z_DEFAULT_STRATEGY:sn,Z_DEFLATED:si}=ai;function sa(t){let e,r;this.options=aK({level:sr,method:si,chunkSize:16384,windowBits:15,memLevel:8,strategy:sn},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a4,this.strm.avail_out=0;let i=((t,e,r,n,i,a)=>{var s,o;let c;if(!t)return am;let l=1;if(e===aw&&(e=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),i<1||i>9||r!==aN||n<8||n>15||e<0||e>9||a<0||a>aA||8===n&&1!==l)return aC(t,am);8===n&&(n=9);let u=new aq;return t.state=u,u.strm=t,u.status=42,u.wrap=l,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=e,u.strategy=a,u.method=r,(c=(t=>{if(aQ(t))return aC(t,am);t.total_in=t.total_out=0,t.data_type=aS;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=+(2!==e.wrap),e.last_flush=-2,aa(e),ag})(s=t))===ag&&((o=s.state).window_size=2*o.w_size,aM(o.head),o.max_lazy_match=aY[o.level].max_lazy,o.good_match=aY[o.level].good_length,o.nice_match=aY[o.level].nice_length,o.max_chain_length=aY[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),c})(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==st)throw Error(an[i]);if(n.header&&(e=this.strm,r=n.header,aQ(e)||2!==e.state.wrap||(e.state.gzhead=r)),n.dictionary){let t;if(t="string"==typeof n.dictionary?a1(n.dictionary):"[object ArrayBuffer]"===a3.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=((t,e)=>{let r=e.length;if(aQ(t))return am;let n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return am;if(1===i&&(t.adler=at(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(aM(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}let a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,az(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do n.ins_h=aO(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++;while(--e)n.strstart=t,n.lookahead=2,az(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=i,ag})(this.strm,t))!==st)throw Error(an[i]);this._dict_set=!0}}function ss(t,e){let r=new sa(e);if(r.push(t,!0),r.err)throw r.msg||an[r.err];return r.result}sa.prototype.push=function(t,e){let r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?a7:a6,"string"==typeof t?i.input=a1(t):"[object ArrayBuffer]"===a3.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(n===a8||n===a9)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((r=aW(i,n))===se)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=aZ(this.strm),this.onEnd(r),this.ended=!0,r===st;if(0===i.avail_out){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},sa.prototype.onData=function(t){this.chunks.push(t)},sa.prototype.onEnd=function(t){t===st&&(this.result=aX(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var so=function(t,e){let r,n,i,a,s,o,c,l,u,h,d,f,p,g,y,m,b,_,w,E,v,I,A,T,S=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,T=t.output,a=i-(e-t.avail_out),s=i+(t.avail_out-257),o=S.dmax,c=S.wsize,l=S.whave,u=S.wnext,h=S.window,d=S.hold,f=S.bits,p=S.lencode,g=S.distcode,y=(1<<S.lenbits)-1,m=(1<<S.distbits)-1;t:do for(f<15&&(d+=A[r++]<<f,f+=8,d+=A[r++]<<f,f+=8),b=p[d&y];;){if(d>>>=_=b>>>24,f-=_,0==(_=b>>>16&255))T[i++]=65535&b;else if(16&_)for(w=65535&b,(_&=15)&&(f<_&&(d+=A[r++]<<f,f+=8),w+=d&(1<<_)-1,d>>>=_,f-=_),f<15&&(d+=A[r++]<<f,f+=8,d+=A[r++]<<f,f+=8),b=g[d&m];;){if(d>>>=_=b>>>24,f-=_,16&(_=b>>>16&255)){if(E=65535&b,f<(_&=15)&&(d+=A[r++]<<f,(f+=8)<_&&(d+=A[r++]<<f,f+=8)),(E+=d&(1<<_)-1)>o){t.msg="invalid distance too far back",S.mode=16209;break t}if(d>>>=_,f-=_,E>(_=i-a)){if((_=E-_)>l&&S.sane){t.msg="invalid distance too far back",S.mode=16209;break t}if(v=0,I=h,0===u){if(v+=c-_,_<w){w-=_;do T[i++]=h[v++];while(--_)v=i-E,I=T}}else if(u<_){if(v+=c+u-_,(_-=u)<w){w-=_;do T[i++]=h[v++];while(--_)if(v=0,u<w){w-=_=u;do T[i++]=h[v++];while(--_)v=i-E,I=T}}}else if(v+=u-_,_<w){w-=_;do T[i++]=h[v++];while(--_)v=i-E,I=T}for(;w>2;)T[i++]=I[v++],T[i++]=I[v++],T[i++]=I[v++],w-=3;w&&(T[i++]=I[v++],w>1&&(T[i++]=I[v++]))}else{v=i-E;do T[i++]=T[v++],T[i++]=T[v++],T[i++]=T[v++],w-=3;while(w>2)w&&(T[i++]=T[v++],w>1&&(T[i++]=T[v++]))}}else if((64&_)==0){b=g[(65535&b)+(d&(1<<_)-1)];continue}else{t.msg="invalid distance code",S.mode=16209;break t}break}else if((64&_)==0){b=p[(65535&b)+(d&(1<<_)-1)];continue}else if(32&_){S.mode=16191;break t}else{t.msg="invalid literal/length code",S.mode=16209;break t}break}while(r<n&&i<s)r-=w=f>>3,f-=w<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=i<s?257+(s-i):257-(i-s),S.hold=d,S.bits=f};let sc=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sl=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),su=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var sd=(t,e,r,n,i,a,s,o)=>{let c,l,u,h,d,f,p,g,y,m=o.bits,b=0,_=0,w=0,E=0,v=0,I=0,A=0,T=0,S=0,N=0,x=null,C=new Uint16Array(16),D=new Uint16Array(16),M=null;for(b=0;b<=15;b++)C[b]=0;for(_=0;_<n;_++)C[e[r+_]]++;for(E=15,v=m;E>=1&&0===C[E];E--);if(v>E&&(v=E),0===E)return i[a++]=0x1400000,i[a++]=0x1400000,o.bits=1,0;for(w=1;w<E&&0===C[w];w++);for(v<w&&(v=w),T=1,b=1;b<=15;b++)if(T<<=1,(T-=C[b])<0)return -1;if(T>0&&(0===t||1!==E))return -1;for(b=1,D[1]=0;b<15;b++)D[b+1]=D[b]+C[b];for(_=0;_<n;_++)0!==e[r+_]&&(s[D[e[r+_]]++]=_);if(0===t?(x=M=s,f=20):1===t?(x=sc,M=sl,f=257):(x=su,M=sh,f=0),N=0,_=0,b=w,d=a,I=v,A=0,u=-1,h=(S=1<<v)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){p=b-A,s[_]+1<f?(g=0,y=s[_]):s[_]>=f?(g=M[s[_]-f],y=x[s[_]-f]):(g=96,y=0),c=1<<b-A,w=l=1<<I;do i[d+(N>>A)+(l-=c)]=p<<24|g<<16|y;while(0!==l)for(c=1<<b-1;N&c;)c>>=1;if(0!==c?(N&=c-1,N+=c):N=0,_++,0==--C[b]){if(b===E)break;b=e[r+s[_]]}if(b>v&&(N&h)!==u){for(0===A&&(A=v),d+=w,T=1<<(I=b-A);I+A<E&&!((T-=C[I+A])<=0);)I++,T<<=1;if(S+=1<<I,1===t&&S>852||2===t&&S>592)return 1;i[u=N&h]=v<<24|I<<16|d-a}}return 0!==N&&(i[d+N]=b-A<<24|4194304),o.bits=v,0};let{Z_FINISH:sf,Z_BLOCK:sp,Z_TREES:sg,Z_OK:sy,Z_STREAM_END:sm,Z_NEED_DICT:sb,Z_STREAM_ERROR:s_,Z_DATA_ERROR:sw,Z_MEM_ERROR:sE,Z_BUF_ERROR:sv,Z_DEFLATED:sI}=ai,sA=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function sT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let sS=t=>{if(!t)return 1;let e=t.state;return+(!e||e.strm!==t||e.mode<16180||e.mode>16211)},sN=t=>{if(sS(t))return s_;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,(t=>{if(sS(t))return s_;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,sy})(t)},sx=!0,sC=t=>{if(sx){i=new Int32Array(512),a=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(sd(1,t.lens,0,288,i,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;sd(2,t.lens,0,32,a,0,t.work,{bits:5}),sx=!1}t.lencode=i,t.lenbits=9,t.distcode=a,t.distbits=5},sD=(t,e,r,n)=>{let i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var sM=(t,e)=>{let r,n,i,a,s,o,c,l,u,h,d,f,p,g,y,m,b,_,w,E,v,I,A,T,S=0,N=new Uint8Array(4),x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sS(t)||!t.output||!t.input&&0!==t.avail_in)return s_;16191===(r=t.state).mode&&(r.mode=16192),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,l=r.hold,u=r.bits,h=o,d=c,I=sy;e:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;u<16;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(2&r.wrap&&35615===l){0===r.wbits&&(r.wbits=15),r.check=0,N[0]=255&l,N[1]=l>>>8&255,r.check=ar(r.check,N,2,0),l=0,u=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=16209;break}if((15&l)!==sI){t.msg="unknown compression method",r.mode=16209;break}if(l>>>=4,u-=4,v=(15&l)+8,0===r.wbits&&(r.wbits=v),v>15||v>r.wbits){t.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&l?16189:16191,l=0,u=0;break;case 16181:for(;u<16;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(r.flags=l,(255&r.flags)!==sI){t.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&4&r.wrap&&(N[0]=255&l,N[1]=l>>>8&255,r.check=ar(r.check,N,2,0)),l=0,u=0,r.mode=16182;case 16182:for(;u<32;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}r.head&&(r.head.time=l),512&r.flags&&4&r.wrap&&(N[0]=255&l,N[1]=l>>>8&255,N[2]=l>>>16&255,N[3]=l>>>24&255,r.check=ar(r.check,N,4,0)),l=0,u=0,r.mode=16183;case 16183:for(;u<16;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&4&r.wrap&&(N[0]=255&l,N[1]=l>>>8&255,r.check=ar(r.check,N,2,0)),l=0,u=0,r.mode=16184;case 16184:if(1024&r.flags){for(;u<16;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&4&r.wrap&&(N[0]=255&l,N[1]=l>>>8&255,r.check=ar(r.check,N,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((f=r.length)>o&&(f=o),f&&(r.head&&(v=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),v)),512&r.flags&&4&r.wrap&&(r.check=ar(r.check,n,f,a)),o-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;f=0;do v=n[a+f++],r.head&&v&&r.length<65536&&(r.head.name+=String.fromCharCode(v));while(v&&f<o)if(512&r.flags&&4&r.wrap&&(r.check=ar(r.check,n,f,a)),o-=f,a+=f,v)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;f=0;do v=n[a+f++],r.head&&v&&r.length<65536&&(r.head.comment+=String.fromCharCode(v));while(v&&f<o)if(512&r.flags&&4&r.wrap&&(r.check=ar(r.check,n,f,a)),o-=f,a+=f,v)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;u<16;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(4&r.wrap&&l!==(65535&r.check)){t.msg="header crc mismatch",r.mode=16209;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=16191;break;case 16189:for(;u<32;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}t.adler=r.check=sA(l),l=0,u=0,r.mode=16190;case 16190:if(0===r.havedict)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=u,sb;t.adler=r.check=1,r.mode=16191;case 16191:if(e===sp||e===sg)break e;case 16192:if(r.last){l>>>=7&u,u-=7&u,r.mode=16206;break}for(;u<3;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}switch(r.last=1&l,u-=1,3&(l>>>=1)){case 0:r.mode=16193;break;case 1:if(sC(r),r.mode=16199,e===sg){l>>>=2,u-=2;break e}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=16209}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&l,l=0,u=0,r.mode=16194,e===sg)break e;case 16194:r.mode=16195;case 16195:if(f=r.length){if(f>o&&(f=o),f>c&&(f=c),0===f)break e;i.set(n.subarray(a,a+f),s),o-=f,a+=f,c-=f,s+=f,r.length-=f;break}r.mode=16191;break;case 16196:for(;u<14;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(r.nlen=(31&l)+257,u-=5,r.ndist=(31&(l>>>=5))+1,u-=5,r.ncode=(15&(l>>>=5))+4,l>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;u<3;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}r.lens[x[r.have++]]=7&l,l>>>=3,u-=3}for(;r.have<19;)r.lens[x[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},I=sd(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,I){t.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;y=(S=r.lencode[l&(1<<r.lenbits)-1])>>>24,m=S>>>16&255,b=65535&S,!(y<=u);){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(b<16)l>>>=y,u-=y,r.lens[r.have++]=b;else{if(16===b){for(T=y+2;u<T;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(l>>>=y,u-=y,0===r.have){t.msg="invalid bit length repeat",r.mode=16209;break}v=r.lens[r.have-1],f=3+(3&l),l>>>=2,u-=2}else if(17===b){for(T=y+3;u<T;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}l>>>=y,u-=y,v=0,f=3+(7&l),l>>>=3,u-=3}else{for(T=y+7;u<T;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}l>>>=y,u-=y,v=0,f=11+(127&l),l>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=16209;break}for(;f--;)r.lens[r.have++]=v}}if(16209===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,A={bits:r.lenbits},I=sd(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,I){t.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},I=sd(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,I){t.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,e===sg)break e;case 16199:r.mode=16200;case 16200:if(o>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=u,so(t,d),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,l=r.hold,u=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;y=(S=r.lencode[l&(1<<r.lenbits)-1])>>>24,m=S>>>16&255,b=65535&S,!(y<=u);){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(m&&(240&m)==0){for(_=y,w=m,E=b;y=(S=r.lencode[E+((l&(1<<_+w)-1)>>_)])>>>24,m=S>>>16&255,b=65535&S,!(_+y<=u);){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}l>>>=_,u-=_,r.back+=_}if(l>>>=y,u-=y,r.back+=y,r.length=b,0===m){r.mode=16205;break}if(32&m){r.back=-1,r.mode=16191;break}if(64&m){t.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&m,r.mode=16201;case 16201:if(r.extra){for(T=r.extra;u<T;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;y=(S=r.distcode[l&(1<<r.distbits)-1])>>>24,m=S>>>16&255,b=65535&S,!(y<=u);){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if((240&m)==0){for(_=y,w=m,E=b;y=(S=r.distcode[E+((l&(1<<_+w)-1)>>_)])>>>24,m=S>>>16&255,b=65535&S,!(_+y<=u);){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}l>>>=_,u-=_,r.back+=_}if(l>>>=y,u-=y,r.back+=y,64&m){t.msg="invalid distance code",r.mode=16209;break}r.offset=b,r.extra=15&m,r.mode=16203;case 16203:if(r.extra){for(T=r.extra;u<T;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===c)break e;if(f=d-c,r.offset>f){if((f=r.offset-f)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=16209;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=s-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do i[s++]=g[p++];while(--f)0===r.length&&(r.mode=16200);break;case 16205:if(0===c)break e;i[s++]=r.length,c--,r.mode=16200;break;case 16206:if(r.wrap){for(;u<32;){if(0===o)break e;o--,l|=n[a++]<<u,u+=8}if(d-=c,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?ar(r.check,i,d,s-d):at(r.check,i,d,s-d)),d=c,4&r.wrap&&(r.flags?l:sA(l))!==r.check){t.msg="incorrect data check",r.mode=16209;break}l=0,u=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;u<32;){if(0===o)break e;o--,l+=n[a++]<<u,u+=8}if(4&r.wrap&&l!==(0|r.total)){t.msg="incorrect length check",r.mode=16209;break}l=0,u=0}r.mode=16208;case 16208:I=sm;break e;case 16209:I=sw;break e;case 16210:return sE;default:return s_}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=u,(r.wsize||d!==t.avail_out&&r.mode<16209&&(r.mode<16206||e!==sf))&&sD(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?ar(r.check,i,d,t.next_out-d):at(r.check,i,d,t.next_out-d)),t.data_type=r.bits+64*!!r.last+128*(16191===r.mode)+256*(16199===r.mode||16194===r.mode),(0===h&&0===d||e===sf)&&I===sy&&(I=sv),I},sk=t=>{if(sS(t))return s_;let e=t.state;return e.window&&(e.window=null),t.state=null,sy},sO=(t,e)=>{let r,n=e.length;return sS(t)||0!==(r=t.state).wrap&&16190!==r.mode?s_:16190===r.mode&&at(1,e,n,0)!==r.check?sw:sD(t,e,n,n)?(r.mode=16210,sE):(r.havedict=1,sy)},sR=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let sB=Object.prototype.toString,{Z_NO_FLUSH:sL,Z_FINISH:sP,Z_OK:sj,Z_STREAM_END:sU,Z_NEED_DICT:sz,Z_STREAM_ERROR:sF,Z_DATA_ERROR:sV,Z_MEM_ERROR:sH}=ai;function s$(t){this.options=aK({chunkSize:65536,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a4,this.strm.avail_out=0;let r=((t,e)=>{if(!t)return s_;let r=new sT;t.state=r,r.strm=t,r.window=null,r.mode=16180;let n=((t,e)=>{let r;if(sS(t))return s_;let n=t.state;return(e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15))?s_:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,sN(t))})(t,e);return n!==sy&&(t.state=null),n})(this.strm,e.windowBits);if(r!==sj||(this.header=new sR,((t,e)=>{if(sS(t))return;let r=t.state;return(2&r.wrap)==0||(r.head=e,e.done=!1)})(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a1(e.dictionary):"[object ArrayBuffer]"===sB.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw)&&(r=sO(this.strm,e.dictionary))!==sj))throw Error(an[r])}function sY(t,e){let r=new s$(e);if(r.push(t),r.err)throw r.msg||an[r.err];return r.result}s$.prototype.push=function(t,e){let r,n,i,a=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=e===~~e?e:!0===e?sP:sL,"[object ArrayBuffer]"===sB.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(r=sM(a,n))===sz&&o&&((r=sO(a,o))===sj?r=sM(a,n):r===sV&&(r=sz));a.avail_in>0&&r===sU&&a.state.wrap>0&&0!==t[a.next_in];)sN(a),r=sM(a,n);switch(r){case sF:case sV:case sz:case sH:return this.onEnd(r),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||r===sU))if("string"===this.options.to){let t=a5(a.output,a.next_out),e=a.next_out-t,r=a2(a.output,t);a.next_out=e,a.avail_out=s-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(r)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(r!==sj||0!==i){if(r===sU)return r=sk(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},s$.prototype.onData=function(t){this.chunks.push(t)},s$.prototype.onEnd=function(t){t===sj&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=aX(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};let{Deflate:sq,deflate:sQ,deflateRaw:sW,gzip:sZ}={Deflate:sa,deflate:ss,deflateRaw:function(t,e){return(e=e||{}).raw=!0,ss(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,ss(t,e)},constants:ai},{Inflate:sG,inflate:sK,inflateRaw:sX,ungzip:sJ}={Inflate:s$,inflate:sY,inflateRaw:function(t,e){return(e=e||{}).raw=!0,sY(t,e)},ungzip:sY,constants:ai},s0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),s1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),s2=BigInt(1),s5=BigInt(2),s4=(t,e)=>(t+e/s5)/e,s3=nu(s0,void 0,void 0,{sqrt:function(t){let e=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),c=t*t*t%s0,l=c*c*t%s0,u=ni(l,e,s0)*l%s0,h=ni(u,e,s0)*l%s0,d=ni(h,s5,s0)*c%s0,f=ni(d,n,s0)*d%s0,p=ni(f,i,s0)*f%s0,g=ni(p,s,s0)*p%s0,y=ni(g,o,s0)*g%s0,m=ni(y,s,s0)*p%s0,b=ni(m,e,s0)*l%s0,_=ni(b,a,s0)*f%s0,w=ni(_,r,s0)*c%s0,E=ni(w,s5,s0);if(!s3.eql(s3.sqr(E),t))throw Error("Cannot find square root");return E}}),s6=(f={a:BigInt(0),b:BigInt(7),Fp:s3,n:s1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-s2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),a=s4(e*t,s1),s=s4(-r*t,s1),o=nn(t-a*e-s*n,s1),c=nn(-a*r-s*e,s1),l=o>i,u=c>i;if(l&&(o=s1-o),u&&(c=s1-c),o>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:o,k2neg:u,k2:c}}}},Object.freeze({...(c=t=>nL({...f,...nF(t)}))(rF),create:c})),s8=(BigInt(0),{});s6.ProjectivePoint;let s9=(l=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(t=>BigInt(t))).map(t=>Array.from(t).reverse()),(t,e)=>{let[r,n,i,a]=l.map(e=>e.reduce((e,r)=>s3.add(s3.mul(e,t),r)));return t=s3.div(r,n),e=s3.mul(e,s3.div(i,a)),{x:t,y:e}}),s7=nj(s3,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:s3.create(BigInt("-11"))});!function(t,e,r){if("function"!=typeof e)throw Error("mapToCurve() must be defined")}(s6.ProjectivePoint,t=>{let{x:e,y:r}=s7(s3.create(t[0]));return s9(e,r)},s3.ORDER);let ot=(t,e,r=[])=>{let n=Object.getOwnPropertyDescriptors(e);for(let t of r)delete n[t];Object.defineProperties(t,n)},oe=(t,e=[t])=>{let r=Object.getPrototypeOf(t);return null===r?e:oe(r,[...e,r])},or=(t,e,r=[])=>{var n;let i=null!=(n=((...t)=>{let e;if(0===t.length)return;let r=t.map(t=>oe(t));for(;r.every(t=>t.length>0);){let t=r.map(t=>t.pop()),n=t[0];if(t.every(t=>t===n))e=n;else break}return e})(...t))?n:Object.prototype,a=Object.create(i),s=oe(i);for(let e of t){let t=oe(e);for(let e=t.length-1;e>=0;e--){let n=t[e];-1===s.indexOf(n)&&(ot(a,n,["constructor",...r]),s.push(n))}}return a.constructor=e,a},on=t=>t.filter((e,r)=>t.indexOf(e)==r),oi=(t,e)=>{let r=e.map(t=>oe(t)),n=0,i=!0;for(;i;){i=!1;for(let a=e.length-1;a>=0;a--){let e=r[a][n];if(null!=e&&(i=!0,void 0!=Object.getOwnPropertyDescriptor(e,t)))return r[a][0]}n++}},oa=(t,e=Object.prototype)=>new Proxy({},{getPrototypeOf:()=>e,setPrototypeOf(){throw Error("Cannot set prototype of Proxies created by ts-mixer")},getOwnPropertyDescriptor:(e,r)=>Object.getOwnPropertyDescriptor(oi(r,t)||{},r),defineProperty(){throw Error("Cannot define new properties on Proxies created by ts-mixer")},has:(r,n)=>void 0!==oi(n,t)||void 0!==e[n],get:(r,n)=>(oi(n,t)||e)[n],set(e,r,n){let i=oi(r,t);if(void 0===i)throw Error("Cannot set new properties on Proxies created by ts-mixer");return i[r]=n,!0},deleteProperty(){throw Error("Cannot delete properties on Proxies created by ts-mixer")},ownKeys:()=>t.map(Object.getOwnPropertyNames).reduce((t,e)=>e.concat(t.filter(t=>0>e.indexOf(t))))}),os=new WeakMap,oo=t=>os.get(t),oc=(t,e)=>{var r,n;let i=on([...Object.getOwnPropertyNames(t),...Object.getOwnPropertyNames(e)]),a={};for(let s of i)a[s]=on([...null!=(r=null==t?void 0:t[s])?r:[],...null!=(n=null==e?void 0:e[s])?n:[]]);return a},ol=(t,e)=>{var r,n,i,a;return{property:oc(null!=(r=null==t?void 0:t.property)?r:{},null!=(n=null==e?void 0:e.property)?n:{}),method:oc(null!=(i=null==t?void 0:t.method)?i:{},null!=(a=null==e?void 0:e.method)?a:{})}},ou=(t,e)=>{var r,n,i,a,s,o;return{class:on([...null!=(r=null==t?void 0:t.class)?r:[],...null!=(n=null==e?void 0:e.class)?n:[]]),static:ol(null!=(i=null==t?void 0:t.static)?i:{},null!=(a=null==e?void 0:e.static)?a:{}),instance:ol(null!=(s=null==t?void 0:t.instance)?s:{},null!=(o=null==e?void 0:e.instance)?o:{})}},oh=new Map;function od(...t){var e,r,n;let i,a=t.map(t=>t.prototype);!1;function s(...e){for(let r of t)ot(this,new r(...e))}s.prototype=or(a,s),Object.setPrototypeOf(s,or(t,null,["prototype"]));let o=s;!0;{let i=((...t)=>{let e=((...t)=>{var e;let r=new Set,n=new Set([...t]);for(;n.size>0;)for(let t of n){for(let i of[...oe(t.prototype).map(t=>t.constructor),...null!=(e=oo(t))?e:[]].filter(t=>!r.has(t)))n.add(i);r.add(t),n.delete(t)}return[...r]})(...t).map(t=>oh.get(t)).filter(t=>!!t);return 0==e.length?{}:1==e.length?e[0]:e.reduce((t,e)=>ou(t,e))})(...t);for(let t of null!=(e=null==i?void 0:i.class)?e:[]){let e=t(o);e&&(o=e)}of(null!=(r=null==i?void 0:i.static)?r:{},o),of(null!=(n=null==i?void 0:i.instance)?n:{},o.prototype)}return i=o,os.set(i,t),o}let of=(t,e)=>{let r=t.property,n=t.method;if(r)for(let t in r)for(let n of r[t])n(e,t);if(n)for(let t in n)for(let r of n[t])r(e,t,Object.getOwnPropertyDescriptor(e,t))};var op=Object.defineProperty,og=Object.getOwnPropertyDescriptor,oy=Object.getOwnPropertyNames,om=Object.prototype.hasOwnProperty,ob=(t,e)=>{for(var r in e)op(t,r,{get:e[r],enumerable:!0})},o_=(t,e,r,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let i of oy(e))om.call(t,i)||i===r||op(t,i,{get:()=>e[i],enumerable:!(n=og(e,i))||n.enumerable});return t},ow=(t,e,r)=>(o_(t,e,"default"),r&&o_(r,e,"default")),oE={};ob(oE,{ADDR_BOUND:()=>oJ,API_VERSION:()=>oG,BaseUrl:()=>cu,DEFAULT_GLOBAL_CONFIG:()=>cg,HARDENING_4BYTES:()=>cl,HARDENING_BYTE:()=>cc,IS_BROWSER:()=>oT,LegacyUDC:()=>cn,MASK_250:()=>oW,MASK_31:()=>oZ,MAX_STORAGE_ITEM_SIZE:()=>oX,NetworkName:()=>ch,OutsideExecutionCallerAny:()=>ca,PAYMASTER_RPC_NODES:()=>cm,PRIME:()=>oK,RANGE_FELT:()=>o1,RANGE_I128:()=>cr,RANGE_I16:()=>o7,RANGE_I32:()=>ct,RANGE_I64:()=>ce,RANGE_I8:()=>o9,RANGE_U128:()=>o8,RANGE_U16:()=>o5,RANGE_U32:()=>o4,RANGE_U64:()=>o3,RANGE_U8:()=>o2,RANGE_U96:()=>o6,RPC_DEFAULT_NODES:()=>cy,SNIP9_V1_INTERFACE_ID:()=>cs,SNIP9_V2_INTERFACE_ID:()=>co,SN_VERSION_IMPLEMENTING_BLAKE_FOR_COMPILED_CLASS:()=>c_,SYSTEM_MESSAGES:()=>cb,StarknetChainId:()=>cd,SupportedRpcVersion:()=>cp,TEXT_TO_FELT_MAX_LEN:()=>oq,TransactionHashPrefix:()=>cf,UDC:()=>ci,ZERO:()=>oQ});var ov={};ob(ov,{JRPC:()=>oI,PAYMASTER_API:()=>J,RPCSPEC08:()=>tt,RPCSPEC09:()=>tV});var oI={},oA={};ow(oA,tV),ow(ov,oA),ob({},{IS_BROWSER:()=>oT,addHexPrefix:()=>oR,arrayBufferToString:()=>oS,atobUniversal:()=>oD,bigIntToUint8Array:()=>o$,btoaUniversal:()=>oM,buf2hex:()=>ok,calcByteLength:()=>oL,concatenateArrayBuffer:()=>oz,hexStringToUint8Array:()=>oF,padLeft:()=>oB,pascalToSnake:()=>oU,removeHexPrefix:()=>oO,sanitizeBytes:()=>oP,sanitizeHex:()=>oj,stringToUint8Array:()=>oH,uint8ArrayToBigInt:()=>oY,utf8ToArray:()=>ox,utf8ToBigInt:()=>oC,utf8ToUint8Array:()=>oN});var oT="u">typeof window;function oS(t){return new Uint8Array(t).reduce((t,e)=>t+String.fromCharCode(e),"")}function oN(t){return new TextEncoder().encode(t)}var ox=oN;function oC(t){return oY(oN(t))}function oD(t){return t3.decode(t)}function oM(t){return t3.encode(new Uint8Array(t))}function ok(t){return t.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"")}function oO(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}function oR(t){return`0x${oO(t)}`}function oB(t,e,r="0"){return function(t,e,r,n="0"){let i=e-t.length,a=t;if(i>0){let e=n.repeat(i);a=r?e+t:t+e}return a}(t,e,!0,r)}function oL(t,e=8){let{length:r}=t,n=r%e;return n?(r-n)/e*e+e:r}function oP(t,e=8,r="0"){return oB(t,oL(t,e),r)}function oj(t){let e=oP(oO(t),2);return e?oR(e):e}var oU=t=>/[a-z]/.test(t)?t.split(/(?=[A-Z])/).join("_").toUpperCase():t;function oz(t){let e=new Uint8Array(t.reduce((t,e)=>t+e.byteLength,0)),r=0;return t.forEach(t=>{e.set(t,r),r+=t.byteLength}),e}function oF(t){if(!oV(oR(t)))throw Error(`Invalid hex string: "${t}"`);let e=oO(oj(t)),r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2)r[t/2]=parseInt(e.substring(t,t+2),16);return r}function oV(t){return/^0[xX][0-9a-fA-F]*$/.test(t)}function oH(t){return oV(t)?oF(t):/^[0-9]+$/.test(t)?o$(BigInt(t)):oN(t)}function o$(t){if(t<0n)throw Error(`Cannot convert negative bigint ${t} to Uint8Array`);if(0n===t)return new Uint8Array([0]);let e=t.toString(16);e.length%2!=0&&(e=`0${e}`);let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2)r[t/2]=parseInt(e.substring(t,t+2),16);return r}function oY(t){if(!t||0===t.length)return 0n;let e="0x";for(let r=0;r<t.length;r+=1)e+=t[r].toString(16).padStart(2,"0");return BigInt(e)}var oq=31,oQ=0n,oW=2n**250n-1n,oZ=2n**31n-1n,oG=oQ,oK=2n**251n+17n*2n**192n+1n,oX=256n,oJ=2n**251n-oX,o0=(t,e)=>({min:t,max:e}),o1=o0(oQ,oK-1n),o2=o0(oQ,2n**8n-1n),o5=o0(oQ,2n**16n-1n),o4=o0(oQ,2n**32n-1n),o3=o0(oQ,2n**64n-1n),o6=o0(oQ,2n**96n-1n),o8=o0(oQ,2n**128n-1n),o9=o0(-(2n**7n),2n**7n-1n),o7=o0(-(2n**15n),2n**15n-1n),ct=o0(-(2n**31n),2n**31n-1n),ce=o0(-(2n**63n),2n**63n-1n),cr=o0(-(2n**127n),2n**127n-1n),cn={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},ci={ADDRESS:"0x02ceed65a4bd731034c01113685c831b01c15d7d432f71afb1cf1634b53a2125",ENTRYPOINT:"deploy_contract"},ca="0x414e595f43414c4c4552",cs="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181",co="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872",cc=128,cl=2147483648n,cu={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"},ch={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"},cd={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"},cf={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"},cp={"0.8.1":"0.8.1","0.9.0":"0.9.0",v0_8_1:"0.8.1",v0_9_0:"0.9.0"},cg={rpcVersion:"0.9.0",transactionVersion:ov.ETransactionVersion.V3,logLevel:"INFO",resourceBoundsOverhead:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},defaultTipType:"recommendedTip",fetch:void 0,websocket:void 0,buffer:void 0,blake:void 0},cy={SN_MAIN:["https://api.zan.top/public/starknet-mainnet/rpc/"],SN_SEPOLIA:["https://api.zan.top/public/starknet-sepolia/rpc/"]},cm={SN_MAIN:["https://starknet.paymaster.avnu.fi"],SN_SEPOLIA:["https://sepolia.paymaster.avnu.fi"]},cb={legacyTxWarningMessage:"You are using a deprecated transaction version (V0,V1,V2)!\nUpdate to the latest V3 transactions!",legacyTxRPC08Message:"RPC 0.8+ do not support legacy transactions, use RPC 0.8+ v3 transactions!",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8+",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library",maxFeeInV3:"maxFee is not supported in V3 transactions, use resourceBounds instead",declareNonSierra:"Declaring non Sierra (Cairo0)contract using RPC 0.8+",unsupportedMethodForRpcVersion:"Unsupported method for RPC version",txEvictedFromMempool:"Transaction TTL, evicted from the mempool, try to increase the tip",consensusFailed:"Consensus failed to finalize the block proposal",txFailsBlockBuildingValidation:"Transaction fails block building validation"},c_="0.14.1",cw=(class t{static instance;config;constructor(){this.initialize()}initialize(){this.config={...cg}}static getInstance(){return t.instance||(t.instance=new t),t.instance}get(t,e){return this.config[t]??e}set(t,e){this.config[t]=e}update(t){this.config={...this.config,...t}}getAll(){return{...this.config}}reset(){this.initialize()}delete(t){delete this.config[t]}hasKey(t){return t in this.config}}).getInstance(),cE={DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,OFF:0},cv=(class t{static instance;config;constructor(){this.config=cw}static getInstance(){return t.instance||(t.instance=new t),t.instance}getTimestamp(){return new Date().toISOString()}shouldLog(t){return t<=cE[this.config.get("logLevel","INFO")]}formatMessage(t){let{level:e,message:r,timestamp:n,data:i}=t,a=`[${n}] ${e}: ${r}`;if(i)try{a+=`
${JSON.stringify(i,null,2)}`}catch(t){a+=`
[JSON.stringify Error/Circular]: ${t}`}return a}log(t,e,r){if(!this.shouldLog(cE[t]))return;let n={level:t,message:e,timestamp:this.getTimestamp(),data:r},i=this.formatMessage(n);switch(t){case"DEBUG":console.debug(i);break;case"INFO":console.info(i);break;case"WARN":console.warn(i);break;case"ERROR":case"FATAL":console.error(i);break;case"OFF":break;default:console.log(i)}}debug(t,e){this.log("DEBUG",t,e)}info(t,e){this.log("INFO",t,e)}warn(t,e){this.log("WARN",t,e)}error(t,e){this.log("ERROR",t,e)}fatal(t,e){this.log("FATAL",t,e)}setLogLevel(t){this.config.set("logLevel",t)}getLogLevel(){return this.config.get("logLevel","INFO")}getEnabledLogLevels(){return Object.keys(cE).filter(t=>this.shouldLog(cE[t])&&"OFF"!==t)}}).getInstance(),cI={};ob(cI,{RpcChannel:()=>db});var{ETransactionVersion:cA}=tV,{ETransactionVersion2:cT}=tV,{ETransactionVersion3:cS}=tV,{EDataAvailabilityMode:cN}=tt,{EDAMode:cx}=tt;function cC(t){return"l1_data_gas"in t}var{ETransactionStatus:cD}=tt,{ETransactionExecutionStatus:cM}=tt,{ETransactionType:ck}=tV,{EBlockStatus:cO}=tV,{ETransactionFinalityStatus:cR}=tV,{ETransactionExecutionStatus:cB}=tV,{EBlockTag:cL}=tV,cP="DEPLOY",cj="INVOKE",cU={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u96:"core::integer::u96",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"},cz={i8:"core::integer::i8",i16:"core::integer::i16",i32:"core::integer::i32",i64:"core::integer::i64",i128:"core::integer::i128"},cF={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"};function cV(t){return"execute"in t}var cH={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]},c$={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]};ob({},{parse:()=>cq,parseAlwaysAsBig:()=>cQ,stringify:()=>cW});var cY=t=>{if(!t9(t))return parseFloat(t);let e=parseInt(t,10);return Number.isSafeInteger(e)?e:BigInt(t)},cq=t=>ey(String(t),void 0,cY),cQ=t=>ey(String(t),void 0,eg),cW=(t,e,r,n)=>eQ(t,e,r,n),cZ=class{nodeUrl;headers;interval;requestId=0;pendingRequests={};batchPromises={};delayTimer;delayPromise;delayPromiseResolve;baseFetch;rpcMethods;constructor(t){this.nodeUrl=t.nodeUrl,this.headers=t.headers,this.interval=t.interval,this.baseFetch=t.baseFetch,this.rpcMethods=t.rpcMethods}async wait(){return this.delayPromise&&this.delayPromiseResolve||(this.delayPromise=new Promise(t=>{this.delayPromiseResolve=t})),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0),this.delayTimer=setTimeout(()=>{this.delayPromiseResolve&&(this.delayPromiseResolve(),this.delayPromise=void 0,this.delayPromiseResolve=void 0)},this.interval),this.delayPromise}addPendingRequest(t,e,r){let n={id:r??`batched_${this.requestId+=1}`,jsonrpc:"2.0",method:t.description||String(t),params:e??void 0};return this.pendingRequests[n.id]=n,n.id}async sendBatch(t){return(await this.baseFetch(this.nodeUrl,{method:"POST",body:cW(t),headers:this.headers})).json()}async fetch(t,e,r){let n=this.addPendingRequest(t,e,r);await this.wait();let i=this.pendingRequests;if(this.pendingRequests={},!this.batchPromises[n]){let t=this.sendBatch(Object.values(i));Object.keys(i).forEach(e=>{this.batchPromises[e]=t})}let a=await this.batchPromises[n];delete this.batchPromises[n];let s=a.find(t=>t.id===n);if(!s)throw Error(`Couldn't find the result for the request. Method: ${String(t)}`);return s}};function cG(t,e){if(!t)throw Error(e||"Assertion failure")}var cK={};ob(cK,{addPercent:()=>lp,assertInRange:()=>la,bigNumberishArrayToDecimalStringArray:()=>ls,bigNumberishArrayToHexadecimalStringArray:()=>lo,cleanHex:()=>le,getDecimalString:()=>ll,getHexString:()=>lu,getHexStringArray:()=>lh,getNext:()=>lm,hexToBytes:()=>lf,hexToDecimalString:()=>li,isBigNumberish:()=>ly,isHex:()=>c3,isHexString:()=>c6,isStringWholeNumber:()=>lc,stringToSha256ToArrayBuff4:()=>lg,toBigInt:()=>c8,toCairoBool:()=>ld,toHex:()=>c7,toHex64:()=>ln,toHexString:()=>lt,toStorageKey:()=>lr,tryToBigInt:()=>c9});var cX=t=>void 0===t||void 0===t;function cJ(t){return"number"==typeof t}function c0(t){return"boolean"==typeof t}function c1(t){return"bigint"==typeof t}function c2(t){return"string"==typeof t}function c5(t){return void 0!==p.Buffer&&t instanceof p.Buffer}function c4(t){return!!t&&"object"==typeof t&&!Array.isArray(t)}function c3(t){return/^0[xX][0-9a-fA-F]*$/.test(t)}var c6=c3;function c8(t){return BigInt(t)}function c9(t){return t?BigInt(t):void 0}function c7(t){return oR(c8(t).toString(16))}var lt=c7;function le(t){return c7(t)}function lr(t){return oR(c8(t).toString(16).padStart(64,"0"))}function ln(t){let e=oR(c8(t).toString(16).padStart(64,"0"));if(66!==e.length)throw TypeError("number is too big for hex 0x(64) representation");return e}function li(t){return BigInt(oR(t)).toString(10)}function la(t,e,r,n=""){let i=""===n?"invalid length":`invalid ${n} length`,a=BigInt(t),s=BigInt(e),o=BigInt(r);cG(a>=s&&a<=o,`Message not signable, ${i}.`)}function ls(t){return t.map(t=>c8(t).toString(10))}function lo(t){return t.map(t=>c7(t))}function lc(t){return/^\d+$/.test(t)}function ll(t){if(c3(t))return li(t);if(lc(t))return t;throw Error(`${t} needs to be a hex-string or whole-number-string`)}function lu(t){if(c3(t))return t;if(lc(t))return lt(t);throw Error(`${t} needs to be a hex-string or whole-number-string`)}function lh(t){return t.map(lu)}function ld(t){return(+t).toString()}function lf(t){if(!c3(t))throw Error(`${t} needs to be a hex-string`);let e=oO(t);return e.length%2!=0&&(e=`0${e}`),e3(e)}function lp(t,e){let r=BigInt(t);return r+r*BigInt(e)/100n}function lg(t){return lf(c7(Number(BigInt(oR(ok(rF(t))))&oZ)))}function ly(t){return cJ(t)||c1(t)||c2(t)&&(c3(t)||lc(t))}function lm(t){let e=t.next();if(e.done)throw Error("Unexpected end of response");return e.value}function lb(t){let e=oO(c7(BigInt(t)));return oR(iu(lf(oR(e.length%2==0?e:`0${e}`))).toString(16))}function l_(t){return BigInt(oR(iu(ox(t)).toString(16)))&oW}function lw(t){return c7(l_(t))}function lE(t){return cJ(t)||c1(t)?c7(t):c3(t)?t:lc(t)?c7(t):lw(t)}function lv(t){let e=oR(t.reduce((t,e)=>t+oO(c7(e)).padStart(64,"0"),""));return oR(e1(r3(lf(e))))}function lI(t,e,r,n,i){return lv([t,e,i,r,n.length,...n])}function lA(t,e,r){return lv([t,e,r.length,...r])}ob({},{getL1MessageHash:()=>lA,getL2MessageHash:()=>lI,getSelector:()=>lE,getSelectorFromName:()=>lw,keccakBn:()=>lb,solidityUint256PackedKeccak256:()=>lv,starknetKeccak:()=>l_});var lT={};function lS(t){return/^[\x00-\x7F]*$/.test(t)}function lN(t){return t.length<=oq}function lx(t){return/^[0-9]*$/i.test(t)}function lC(t){return c2(t)&&!c3(t)&&!lc(t)}ob(lT,{decodeShortString:()=>lR,encodeShortString:()=>lO,isASCII:()=>lS,isDecimalString:()=>lx,isLongText:()=>lM,isShortString:()=>lN,isShortText:()=>lD,isText:()=>lC,splitLongString:()=>lk});var lD=t=>lC(t)&&lN(t),lM=t=>lC(t)&&!lN(t);function lk(t){let e=RegExp(`[^]{1,${oq}}`,"g");return t.match(e)||[]}function lO(t){if(!lS(t))throw Error(`${t} is not an ASCII string`);if(!lN(t))throw Error(`${t} is too long`);return oR(t.replace(/./g,t=>t.charCodeAt(0).toString(16)))}function lR(t){if(!lS(t))throw Error(`${t} is not an ASCII string`);if(c3(t))return oO(t).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(lx(t))return lR("0X".concat(BigInt(t).toString(16)));throw Error(`${t} is not Hex or decimal`)}function lB(t){let e=0n===BigInt(t.pending_word)?"":lR(c7(t.pending_word));return t.data.reduce((t,e)=>t+(0n===BigInt(e)?"":lR(c7(e))),"")+e}function lL(t){let e=lk(t),r=e[e.length-1],n=e.map(lO),[i,a]=void 0===r||31===r.length?["0x00",0]:[n.pop(),r.length];return{data:0===n.length?[]:n,pending_word:i,pending_word_len:a}}ob({},{byteArrayFromString:()=>lL,stringFromByteArray:()=>lB});var lP={};function lj(t){return Object.defineProperty(t,"__compiled__",{enumerable:!1,writable:!1,value:!0}),t}function lU(t){if(c1(t)||Number.isInteger(t))return t.toString();if(c2(t)){if(c3(t))return BigInt(t).toString();if(lC(t)){if(!lN(t))throw Error(`${t} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt(lO(t)).toString()}if(lc(t))return t}if(c0(t))return`${+t}`;throw Error(`${t} can't be computed by felt()`)}ob(lP,{felt:()=>uc,getAbiContractVersion:()=>ui,getArrayType:()=>ue,isCairo1Abi:()=>ur,isCairo1Type:()=>ut,isLen:()=>lq,isTypeArray:()=>lW,isTypeBool:()=>l3,isTypeContractAddress:()=>l6,isTypeEnum:()=>lX,isTypeEthAddress:()=>l8,isTypeFelt:()=>lQ,isTypeInt:()=>l2,isTypeLiteral:()=>l4,isTypeNamedTuple:()=>lG,isTypeNonZero:()=>un,isTypeOption:()=>lJ,isTypeResult:()=>l0,isTypeSecp256k1Point:()=>l7,isTypeStruct:()=>lK,isTypeTuple:()=>lZ,isTypeU96:()=>l9,isTypeUint:()=>l1,isTypeUint256:()=>l5,tuple:()=>uo,uint256:()=>ua,uint512:()=>us});var lz=class t{data;static abiSelector="core::felt252";constructor(e){t.validate(e);const r=t.__processData(e);this.data=r.subarray(r.findIndex(t=>t>0))}static __processData(t){if(c2(t))return oH(t);if(c1(t))return o$(t);if(Number.isInteger(t))return o$(BigInt(t));if(c0(t))return o$(BigInt(+!!t));throw Error(`${t} can't be computed by felt()`)}toBigInt(){return oY(this.data)}decodeUtf8(){return new TextDecoder().decode(this.data)}toHexString(){return oR(this.toBigInt().toString(16))}toApiRequest(){return lj([this.toHexString()])}static validate(e){cG(null!==e,"null value is not allowed for felt252"),cG(void 0!==e,"undefined value is not allowed for felt252"),cG(c2(e)||cJ(e)||c1(e)||c0(e),`Unsupported data type '${typeof e}' for felt252. Expected string, number, bigint, or boolean`);let r=t.__processData(e),n=oY(r);cG(n>=0n&&n<oK,`Value ${r} is out of felt252 range [0, ${oK})`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},lF=(1n<<128n)-1n,lV=(1n<<256n)-1n,lH=class t{low;high;static abiSelector="core::integer::u256";constructor(...e){if(c4(e[0])&&1===e.length&&"low"in e[0]&&"high"in e[0]){const r=t.validateProps(e[0].low,e[0].high);this.low=r.low,this.high=r.high}else if(1===e.length){const r=t.validate(e[0]);this.low=r&lF,this.high=r>>128n}else if(2===e.length){const r=t.validateProps(e[0],e[1]);this.low=r.low,this.high=r.high}else throw Error("Incorrect constructor parameters")}static validate(t){cG(null!==t,"null value is not allowed for u256"),cG(void 0!==t,"undefined value is not allowed for u256"),cG(ly(t)||c4(t),`Unsupported data type '${typeof t}' for u256. Expected string, number, bigint, or Uint256 object`);let e=BigInt(t);return cG(e>=0n,"bigNumberish is smaller than UINT_256_MIN"),cG(e<=lV,"bigNumberish is bigger than UINT_256_MAX"),e}static validateProps(t,e){let r=BigInt(t),n=BigInt(e);return cG(r>=0n&&r<=0xffffffffffffffffffffffffffffffffn,"low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX"),cG(n>=0n&&n<=0xffffffffffffffffffffffffffffffffn,"high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX"),{low:r,high:n}}static is(e){try{t.validate(e)}catch(t){return!1}return!0}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e),lm(e))}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:oR(this.low.toString(16)),high:oR(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[lU(this.low),lU(this.high)]}},l$=(1n<<512n)-1n,lY=class t{limb0;limb1;limb2;limb3;static abiSelector="core::integer::u512";constructor(...e){if(c4(e[0])&&1===e.length&&"limb0"in e[0]&&"limb1"in e[0]&&"limb2"in e[0]&&"limb3"in e[0]){const r=t.validateProps(e[0].limb0,e[0].limb1,e[0].limb2,e[0].limb3);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else if(1===e.length){const r=t.validate(e[0]);this.limb0=r&lF,this.limb1=(r&lF<<128n)>>128n,this.limb2=(r&lF<<256n)>>256n,this.limb3=r>>384n}else if(4===e.length){const r=t.validateProps(e[0],e[1],e[2],e[3]);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(t){cG(null!==t,"null value is not allowed for u512"),cG(void 0!==t,"undefined value is not allowed for u512"),cG(ly(t)||c4(t),`Unsupported data type '${typeof t}' for u512. Expected string, number, bigint, or Uint512 object`);let e=BigInt(t);return cG(e>=0n,"bigNumberish is smaller than UINT_512_MIN."),cG(e<=l$,"bigNumberish is bigger than UINT_512_MAX."),e}static validateProps(t,e,r,n){let i=BigInt(t),a=BigInt(e),s=BigInt(r),o=BigInt(n);return[i,a,s,o].forEach((t,e)=>{cG(t>=0n&&t<=lF,`limb${e} is not in the range of a u128 number`)}),{limb0:i,limb1:a,limb2:s,limb3:o}}static is(e){try{t.validate(e)}catch(t){return!1}return!0}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e),lm(e),lm(e),lm(e))}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:oR(this.limb0.toString(16)),limb1:oR(this.limb1.toString(16)),limb2:oR(this.limb2.toString(16)),limb3:oR(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[lU(this.limb0),lU(this.limb1),lU(this.limb2),lU(this.limb3)]}},lq=t=>/_len$/.test(t),lQ=t=>"felt"===t||"core::felt252"===t,lW=t=>/\*/.test(t)||t.startsWith("core::array::Array::")||t.startsWith("core::array::Span::"),lZ=t=>/^\(.*\)$/i.test(t),lG=t=>/\(.*\)/i.test(t)&&t.includes(":"),lK=(t,e)=>t in e,lX=(t,e)=>t in e,lJ=t=>t.startsWith("core::option::Option::"),l0=t=>t.startsWith("core::result::Result::"),l1=t=>Object.values(cU).includes(t),l2=t=>Object.values(cz).includes(t),l5=t=>lH.isAbiType(t),l4=t=>Object.values(cF).includes(t),l3=t=>"core::bool"===t,l6=t=>t===cF.ContractAddress,l8=t=>"core::starknet::eth_address::EthAddress"===t,l9=t=>"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"===t,l7=t=>t===cF.Secp256k1Point,ut=t=>t.includes("::"),ue=t=>ut(t)?t.substring(t.indexOf("<")+1,t.lastIndexOf(">")):t.replace("*","");function ur(t){let{cairo:e}=ui(t);if(void 0===e)throw Error("Unable to determine Cairo version");return"1"===e}function un(t){return t.startsWith("core::zeroable::NonZero::")}function ui(t){if(t.find(t=>"interface"===t.type))return{cairo:"1",compiler:"2"};let e=t.find(t=>("function"===t.type||"constructor"===t.type)&&(t.inputs.length||t.outputs.length));return e?ut((e.inputs.length?e.inputs:e.outputs)[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}:{cairo:void 0,compiler:void 0}}var ua=t=>new lH(t).toUint256DecimalString(),us=t=>new lY(t).toUint512DecimalString(),uo=(...t)=>({...t});function uc(t){return lU(t)}var ul=class{variant;constructor(t){const e=Object.values(t);if(0===e.length)throw Error("This Enum must have at least 1 variant");if(1!==e.filter(t=>!cX(t)).length)throw Error("This Enum must have exactly one active variant");this.variant=t}unwrap(){return Object.values(this.variant).find(t=>!cX(t))}activeVariant(){let t=Object.entries(this.variant).find(t=>!cX(t[1]));return cX(t)?"":t[0]}},uu={Some:0,None:1},uh=class{Some;None;constructor(t,e){if(!(t in Object.values(uu)))throw Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(t===uu.Some){if(cX(e))throw Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=e,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!cX(this.Some)}isNone(){return!0===this.None}},ud={Ok:0,Err:1},uf=class{Ok;Err;constructor(t,e){if(!(t in Object.values(ud)))throw Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");t===ud.Ok?(this.Ok=e,this.Err=void 0):(this.Ok=void 0,this.Err=e)}unwrap(){if(!cX(this.Ok))return this.Ok;if(!cX(this.Err))return this.Err;throw Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!cX(this.Ok)}isErr(){return!cX(this.Err)}},up=(t,e,r)=>{if(!c1(t[r]))throw Error(`Data and formatter mismatch on ${r}:${e[r]}, expected response data ${r}:${t[r]} to be BN instead it is ${typeof t[r]}`)},ug=class t{static MAX_BYTE_SIZE=31;data;static abiSelector="core::bytes_31::bytes31";constructor(e){t.validate(e);const r=t.__processData(e);this.data=new Uint8Array(t.MAX_BYTE_SIZE),this.data.set(r,t.MAX_BYTE_SIZE-r.length)}static __processData(t){if(c2(t))return oH(t);if(c5(t)||t instanceof Uint8Array)return new Uint8Array(t);throw Error("Invalid input type for CairoBytes31. Expected string, Buffer, or Uint8Array")}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return oY(this.data)}decodeUtf8(){let t=this.data.findIndex(t=>t>0),e=this.data.subarray(t>=0?t:1/0);return new TextDecoder().decode(e)}toHexString(t){return oR("padded"===t?ok(this.data):this.toBigInt().toString(16))}static validate(e){let r=t.__processData(e).length;cG(r<=this.MAX_BYTE_SIZE,`Data is too long: ${r} bytes (max ${this.MAX_BYTE_SIZE} bytes)`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},uy={FAILED_TO_RECEIVE_TXN:1,NO_TRACE_AVAILABLE:10,CONTRACT_NOT_FOUND:20,ENTRYPOINT_NOT_FOUND:21,BLOCK_NOT_FOUND:24,INVALID_TXN_INDEX:27,CLASS_HASH_NOT_FOUND:28,TXN_HASH_NOT_FOUND:29,PAGE_SIZE_TOO_BIG:31,NO_BLOCKS:32,INVALID_CONTINUATION_TOKEN:33,TOO_MANY_KEYS_IN_FILTER:34,CONTRACT_ERROR:40,TRANSACTION_EXECUTION_ERROR:41,STORAGE_PROOF_NOT_SUPPORTED:42,CLASS_ALREADY_DECLARED:51,INVALID_TRANSACTION_NONCE:52,INSUFFICIENT_RESOURCES_FOR_VALIDATE:53,INSUFFICIENT_ACCOUNT_BALANCE:54,VALIDATION_FAILURE:55,COMPILATION_FAILED:56,CONTRACT_CLASS_SIZE_IS_TOO_LARGE:57,NON_ACCOUNT:58,DUPLICATE_TX:59,COMPILED_CLASS_HASH_MISMATCH:60,UNSUPPORTED_TX_VERSION:61,UNSUPPORTED_CONTRACT_CLASS_VERSION:62,UNEXPECTED_ERROR:63,REPLACEMENT_TRANSACTION_UNDERPRICED:64,FEE_BELOW_MINIMUM:65,INVALID_SUBSCRIPTION_ID:66,TOO_MANY_ADDRESSES_IN_FILTER:67,TOO_MANY_BLOCKS_BACK:68,COMPILATION_ERROR:100,INVALID_ADDRESS:150,TOKEN_NOT_SUPPORTED:151,INVALID_SIGNATURE:153,MAX_AMOUNT_TOO_LOW:154,CLASS_HASH_NOT_SUPPORTED:155,PAYMASTER_TRANSACTION_EXECUTION_ERROR:156,INVALID_TIME_BOUNDS:157,INVALID_DEPLOYMENT_DATA:158,INVALID_CLASS_HASH:159,INVALID_ID:160,UNKNOWN_ERROR:163},um=class extends Error{name;constructor(t){super(t),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),function(t,e){let{setPrototypeOf:r}=Object;r?r(t,e):t.__proto__=e}(this,new.target.prototype),function(t,e=t.constructor){let{captureStackTrace:r}=Error;r&&r(t,e)}(this)}},ub=class extends um{},u_=class extends ub{constructor(t,e,r){super(`RPC: ${e} with params ${cW(r,null,2)}

      ${t.code}: ${t.message}: ${cW(t.data)}`),this.baseError=t,this.request={method:e,params:r}}request;get code(){return this.baseError.code}isType(t){return uy[t]===this.code}},uw=cw.get("buffer")||void 0!==p.Buffer&&p.Buffer||"u">typeof globalThis&&globalThis.Buffer||"u">typeof window&&window.Buffer||t.g.Buffer||class{constructor(){throw new ub("Buffer not detected, use 'config.set(\"buffer\", YourBufferPolyfill)' or polyfill or Node.js environment for Buffer support")}static from(t){throw new ub("Buffer not detected, use 'config.set(\"buffer\", YourBufferPolyfill)' or polyfill or Node.js environment for Buffer support")}static isBuffer(t){let e=cw.get("buffer")||void 0!==p.Buffer&&p.Buffer;return e&&e.isBuffer&&e.isBuffer(t)}},uE=class t{data;static abiSelector="core::u32::u32";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data))}toHexString(){return oR(this.toBigInt().toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=0n&&r<=2n**32n-1n,"Value is out of u32 range [0, 2^32)")}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},uv=class t{data=[];pending_word;pending_word_len;static abiSelector="core::byte_array::ByteArray";constructor(...e){if(3===e.length){const[t,r,n]=e;cG(Array.isArray(t)&&r instanceof lz&&n instanceof uE,"Invalid constructor parameters. Expected (CairoBytes31[], CairoFelt252, CairoUint32)"),this.data=t,this.pending_word=r,this.pending_word_len=n;return}const r=e[0];t.validate(r);const{data:n,pending_word:i,pending_word_len:a}=t.__processData(r);this.data=n,this.pending_word=i,this.pending_word_len=a}static __processData(t){let e,r,n;if(t instanceof Uint8Array)e=t;else if(c5(t))e=new Uint8Array(t);else if(c2(t))e=oH(t);else if(c1(t))e=o$(t);else if(Number.isInteger(t))e=o$(BigInt(t));else throw Error("Invalid input type. Expected Uint8Array, Buffer, string, number, or bigint");let i=ug.MAX_BYTE_SIZE,a=Math.floor(e.length/i),s=e.length%i,o=[];for(let t=0;t<a;t+=1){let r=t*i,n=r+i,a=e.slice(r,n);o.push(new ug(a))}if(s>0){let t=e.slice(a*i),o="0x";for(let e=0;e<t.length;e+=1)o+=t[e].toString(16).padStart(2,"0");r=new lz(o),n=new uE(s)}else r=new lz(0),n=new uE(0);return{data:o,pending_word:r,pending_word_len:n}}toApiRequest(){return this.assertInitialized(),lj([oR(this.data.length.toString(16)),...this.data.flatMap(t=>t.toApiRequest()),...this.pending_word.toApiRequest(),...this.pending_word_len.toApiRequest()])}decodeUtf8(){let t=oz(this.toElements());return new TextDecoder().decode(t)}toBigInt(){let t=oz(this.toElements());if(0===t.length)return 0n;let e=0n;return t.forEach(t=>{e=256n*e+BigInt(t)}),e}toHexString(){let t=oz(this.toElements());return oR(0===t.length?"0":ok(t))}toBuffer(){let t=oz(this.toElements());return uw.from(t)}toElements(){this.assertInitialized();let t=this.data.flatMap(t=>t.data),e=Number(this.pending_word_len.toBigInt());if(e){let r=new Uint8Array(e),n=e-this.pending_word.data.length;r.set(this.pending_word.data,n),t.push(r)}return t}assertInitialized(){cG(this.data&&void 0!==this.pending_word&&void 0!==this.pending_word_len,"CairoByteArray is not properly initialized")}static validate(t){cG(null!=t,"Invalid input: null or undefined"),cG(!Array.isArray(t)||t instanceof Uint8Array,"Invalid input: arrays are not supported, use Uint8Array"),cG("object"!=typeof t||c5(t)||t instanceof Uint8Array,"Invalid input for CairoByteArray: objects are not supported"),cG(!cJ(t)||Number.isInteger(t),"Invalid input for CairoByteArray: decimal numbers are not supported, only integers"),cG(!cJ(t)||t>=0,"Invalid input for CairoByteArray: negative numbers are not supported"),cG(!c1(t)||t>=0n,"Invalid input for CairoByteArray: negative bigints are not supported"),cG(t instanceof Uint8Array||c5(t)||c2(t)||cJ(t)||c1(t),"Invalid input type. Expected Uint8Array, Buffer, string, number, or bigint")}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(Array.from({length:Number(lm(e))},()=>ug.factoryFromApiResponse(e)),lz.factoryFromApiResponse(e),uE.factoryFromApiResponse(e))}},uI=class t{data;static abiSelector="core::integer::u8";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data))}toHexString(){return oR(this.toBigInt().toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o2.min&&r<=o2.max,`Value is out of u8 range [${o2.min}, ${o2.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},uA=class t{data;static abiSelector="core::integer::u16";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data))}toHexString(){return oR(this.toBigInt().toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o5.min&&r<=o5.max,`Value is out of u16 range [${o5.min}, ${o5.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},uT=class t{data;static abiSelector="core::integer::u64";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data))}toHexString(){return oR(this.toBigInt().toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o3.min&&r<=o3.max,`Value is out of u64 range [${o3.min}, ${o3.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},uS=class t{data;static abiSelector="core::integer::u96";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data))}toHexString(){return oR(this.toBigInt().toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o6.min&&r<=o6.max,`Value is out of u96 range [${o6.min}, ${o6.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},uN=class t{data;static abiSelector="core::integer::u128";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data))}toHexString(){return oR(this.toBigInt().toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o8.min&&r<=o8.max,`Value is out of u128 range [${o8.min}, ${o8.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){return new t(lm(e))}},ux=class t{data;static abiSelector="core::integer::i8";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data>=0n?this.data:256n+this.data))}toHexString(){let t=this.toBigInt();return t<0n?oR((oK+t).toString(16)):oR(t.toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o9.min&&r<=o9.max,`Value is out of i8 range [${o9.min}, ${o9.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){let r=BigInt(lm(e));return new t(r>oK/2n?r-oK:r)}},uC=class t{data;static abiSelector="core::integer::i16";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data>=0n?this.data:65536n+this.data))}toHexString(){let t=this.toBigInt();return t<0n?oR((oK+t).toString(16)):oR(t.toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=o7.min&&r<=o7.max,`Value is out of i16 range [${o7.min}, ${o7.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){let r=BigInt(lm(e));return new t(r>oK/2n?r-oK:r)}},uD=class t{data;static abiSelector="core::integer::i32";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data>=0n?this.data:4294967296n+this.data))}toHexString(){let t=this.toBigInt();return t<0n?oR((oK+t).toString(16)):oR(t.toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=ct.min&&r<=ct.max,`Value is out of i32 range [${ct.min}, ${ct.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){let r=BigInt(lm(e));return new t(r>oK/2n?r-oK:r)}},uM=class t{data;static abiSelector="core::integer::i64";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data>=0n?this.data:2n**64n+this.data))}toHexString(){let t=this.toBigInt();return t<0n?oR((oK+t).toString(16)):oR(t.toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=ce.min&&r<=ce.max,`Value is out of i64 range [${ce.min}, ${ce.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){let r=BigInt(lm(e));return new t(r>oK/2n?r-oK:r)}},uk=class t{data;static abiSelector="core::integer::i128";constructor(e){t.validate(e),this.data=t.__processData(e)}static __processData(t){return c2(t)&&lC(t)?oC(t):BigInt(t)}toApiRequest(){return lj([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(o$(this.data>=0n?this.data:2n**128n+this.data))}toHexString(){let t=this.toBigInt();return t<0n?oR((oK+t).toString(16)):oR(t.toString(16))}static validate(e){cG(null!=e,"Invalid input: null or undefined"),cG(!c4(e)&&!Array.isArray(e),"Invalid input: objects are not supported"),cG(!cJ(e)||Number.isInteger(e),"Invalid input: decimal numbers are not supported, only integers");let r=t.__processData(e);cG(r>=cr.min&&r<=cr.max,`Value is out of i128 range [${cr.min}, ${cr.max}]`)}static is(e){try{return t.validate(e),!0}catch{return!1}}static isAbiType(e){return e===t.abiSelector}static factoryFromApiResponse(e){let r=BigInt(lm(e));return new t(r>oK/2n?r-oK:r)}};ug.abiSelector,uv.abiSelector,lz.abiSelector,lH.abiSelector,lY.abiSelector,uI.abiSelector,uA.abiSelector,uT.abiSelector,uS.abiSelector,uN.abiSelector,ux.abiSelector,uC.abiSelector,uD.abiSelector,uM.abiSelector,uk.abiSelector,ug.abiSelector,uv.abiSelector,lz.abiSelector,lH.abiSelector,lY.abiSelector,uI.abiSelector,uA.abiSelector,uT.abiSelector,uS.abiSelector,uN.abiSelector,ux.abiSelector,uC.abiSelector,uD.abiSelector,uM.abiSelector,uk.abiSelector;var uO={request:{[ug.abiSelector]:t=>new ug(t).toApiRequest(),[uv.abiSelector]:t=>new uv(t).toApiRequest(),[lz.abiSelector]:t=>lU(t),[lH.abiSelector]:t=>new lH(t).toApiRequest(),[lY.abiSelector]:t=>new lY(t).toApiRequest(),[uI.abiSelector]:t=>lU(t),[uA.abiSelector]:t=>lU(t),[uT.abiSelector]:t=>lU(t),[uS.abiSelector]:t=>lU(t),[uN.abiSelector]:t=>lU(t),[ux.abiSelector]:t=>new ux(t).toApiRequest(),[uC.abiSelector]:t=>new uC(t).toApiRequest(),[uD.abiSelector]:t=>new uD(t).toApiRequest(),[uM.abiSelector]:t=>new uM(t).toApiRequest(),[uk.abiSelector]:t=>new uk(t).toApiRequest()},response:{[ug.abiSelector]:t=>ug.factoryFromApiResponse(t).decodeUtf8(),[uv.abiSelector]:t=>uv.factoryFromApiResponse(t).decodeUtf8(),[lz.abiSelector]:t=>BigInt(lm(t)),[lH.abiSelector]:t=>lH.factoryFromApiResponse(t).toBigInt(),[lY.abiSelector]:t=>lY.factoryFromApiResponse(t).toBigInt(),[uI.abiSelector]:t=>BigInt(lm(t)),[uA.abiSelector]:t=>BigInt(lm(t)),[uT.abiSelector]:t=>BigInt(lm(t)),[uS.abiSelector]:t=>BigInt(lm(t)),[uN.abiSelector]:t=>BigInt(lm(t)),[ux.abiSelector]:t=>BigInt(lm(t)),[uC.abiSelector]:t=>BigInt(lm(t)),[uD.abiSelector]:t=>BigInt(lm(t)),[uM.abiSelector]:t=>BigInt(lm(t)),[uk.abiSelector]:t=>BigInt(lm(t))}},uR=class{abi;parsingStrategy;constructor(t,e){this.abi=t,this.parsingStrategy=e||uO}getRequestParser(t){if(this.parsingStrategy.request[t])return this.parsingStrategy.request[t];throw Error(`Parser for ${t} not found`)}getResponseParser(t){if(this.parsingStrategy.response[t])return this.parsingStrategy.response[t];throw Error(`Parser for ${t} not found`)}methodInputsLength(t){return t.inputs.reduce((t,e)=>lq(e.name)?t:t+1,0)}getMethod(t){return this.abi.find(e=>e.name===t)}getLegacyFormat(){return this.abi}},uB=class{abi;parsingStrategy;constructor(t,e){this.abi=t,this.parsingStrategy=e||uO}getRequestParser(t){if(this.parsingStrategy.request[t])return this.parsingStrategy.request[t];throw Error(`Parser for ${t} not found`)}getResponseParser(t){if(this.parsingStrategy.response[t])return this.parsingStrategy.response[t];throw Error(`Parser for ${t} not found`)}methodInputsLength(t){return t.inputs.length}getMethod(t){let e=this.abi.find(t=>"interface"===t.type);return e?.items?.find(e=>e.name===t)}getLegacyFormat(){return this.abi.flatMap(t=>"interface"===t.type?t.items:t)}};function uL(t,e){var r;let n=(r=t).find(t=>"interface"===t.type)?2:+!!ur(r);if(0===n||1===n)return new uR(t,e);if(2===n)return new uB(t,e);throw Error(`Unsupported ABI version ${n}`)}function uP(t,e,r){return"constructor"===t&&!r&&!e.length}function uj(t,e,r){for(let n=0,i=0;n<t.length;n++)if(t[n]===e)i++;else if(t[n]===r&&0==--i)return n;return 1/0}function uU(t){return ut(t)?function(t){let e,r=t.slice(1,-1),n=[],i=0;for(;i<r.length;){switch(!0){case"("===r[i]:e=i+uj(r.slice(i),"(",")")+1;break;case r.startsWith("core::result::Result::<",i)||r.startsWith("core::array::Array::<",i)||r.startsWith("core::option::Option::<",i):e=i+uj(r.slice(i),"<",">")+1;break;default:{let t=r.indexOf(",",i);e=-1!==t?t:1/0}}n.push(r.slice(i,e)),i=e+2}return n}(t):function(t){let{subTuple:e,result:r}=function(t){if(!t.includes("("))return{subTuple:[],result:t};let e=[],r="",n=0;for(;n<t.length;){if("("===t[n]){let i=1,a=n;for(n++;i;)")"===t[n]&&i--,"("===t[n]&&i++,n++;e.push(t.substring(a,n)),r+=" ",n--}else r+=t[n];n++}return{subTuple:e,result:r}}(t.replace(/\s/g,"").slice(1,-1)),n=r.split(",").map(t=>e.length?t.replace(" ",e.shift()):t);return lG(t)&&(n=n.reduce((t,e)=>{let r,n;return t.concat((r=e.substring(0,e.indexOf(":")),n=e.substring(r.length+1),{name:r,type:n}))},[])),n}(t)}var uz=class t{content;arrayType;constructor(e,r){let n;cG(t.isTypeFixedArray(r),`The type ${r} is not a Cairo fixed array. Needs [type; length].`);try{t.getFixedArrayType(r)}catch{throw Error(`The type ${r} do not includes any content type. Needs [type; length].`)}try{n=t.getFixedArraySize(r)}catch{throw Error(`The type ${r} type do not includes any length. Needs [type; length].`)}cG(n===e.length,`The ABI type ${r} is expecting ${n} items. ${e.length} items provided.`),this.content=e,this.arrayType=r}static getFixedArraySize(t){let e=t.match(/(?<=; )\d+(?=\])/);if(null===e)throw Error(`ABI type ${t} do not includes a valid number after ';' character.`);return Number(e[0])}getFixedArraySize(){return t.getFixedArraySize(this.arrayType)}static getFixedArrayType=t=>{let e=t.match(/(?<=\[).+(?=;)/);if(null===e)throw Error(`ABI type ${t} do not includes a valid type of data.`);return e[0]};getFixedArrayType(){return t.getFixedArrayType(this.arrayType)}static compile(t){return t.reduce((t,e,r)=>(t[r]=e,t),{})}compile(){return t.compile(this.content)}static isTypeFixedArray(t){return/^\[.*;\s.*\]$/.test(t)&&/(?<=\[).+(?=;)/.test(t)&&/(?<=; )\d+(?=\])/.test(t)}};function uF({type:t,val:e,parser:r}){switch(!0){case lH.isAbiType(t):case lY.isAbiType(t):case uI.isAbiType(t):case uA.isAbiType(t):case uT.isAbiType(t):case uS.isAbiType(t):case uN.isAbiType(t):case ux.isAbiType(t):case uC.isAbiType(t):case uD.isAbiType(t):case uM.isAbiType(t):case uk.isAbiType(t):case ug.isAbiType(t):return r.getRequestParser(t)(e);case l7(t):{let t=oO(c7(e)).padStart(128,"0"),r=ua(oR(t.slice(-64))),n=ua(oR(t.slice(0,-64)));return[lU(n.low),lU(n.high),lU(r.low),lU(r.high)]}default:return r.getRequestParser(lz.abiSelector)(e)}}function uV({element:t,type:e,structs:r,enums:n,parser:i}){if(void 0===t)throw Error(`Missing parameter for type ${e}`);if(uz.isTypeFixedArray(e)){let a=uz.getFixedArrayType(e),s=[];if(Array.isArray(t))s=new uz(t,e).content;else if("object"==typeof t)cG((s=Object.values(t)).length===uz.getFixedArraySize(e),`ABI type ${e}: object provided do not includes  ${uz.getFixedArraySize(e)} items. ${s.length} items provided.`);else throw Error(`ABI type ${e}: not an Array representing a cairo.fixedArray() provided.`);return s.reduce((t,e)=>t.concat(uV({element:e,type:a,structs:r,enums:n,parser:i})),[])}if(Array.isArray(t)){let a=[];a.push(lU(t.length));let s=ue(e);return t.reduce((t,e)=>t.concat(uV({element:e,type:s,structs:r,enums:n,parser:i})),a)}if(lH.isAbiType(e)||lY.isAbiType(e))return i.getRequestParser(e)(t);if(r[e]&&r[e].members.length){if(l8(e))return uF({type:e,val:t,parser:i});if(uv.isAbiType(e))return i.getRequestParser(e)(t);let{members:a}=r[e];return a.reduce((e,a)=>e.concat(uV({element:t[a.name],type:a.type,structs:r,enums:n,parser:i})),[])}if(lZ(e))return(function(t,e){let r=uU(e),n=Object.values(t);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n}
      expected: ${r}`);return r.map((t,e)=>({element:n[e],type:t.type??t}))})(t,e).reduce((t,e)=>{let a=uV({element:e.element,type:e.type,structs:r,enums:n,parser:i});return t.concat(a)},[]);if(lX(e,n)){let{variants:a}=n[e];if(lJ(e)){if(t.isSome()){let e=a.find(t=>"Some"===t.name);if(cX(e))throw Error("Error in abi : Option has no 'Some' variant.");let s=e.type;if("()"===s)return uu.Some.toString();let o=uV({element:t.unwrap(),type:s,structs:r,enums:n,parser:i});return Array.isArray(o)?[uu.Some.toString(),...o]:[uu.Some.toString(),o]}return uu.None.toString()}if(l0(e)){if(t.isOk()){let e=a.find(t=>"Ok"===t.name);if(cX(e))throw Error("Error in abi : Result has no 'Ok' variant.");let s=e.type;if("()"===s)return ud.Ok.toString();let o=uV({element:t.unwrap(),type:s,structs:r,enums:n,parser:i});return Array.isArray(o)?[ud.Ok.toString(),...o]:[ud.Ok.toString(),o]}let e=a.find(t=>"Err"===t.name);if(cX(e))throw Error("Error in abi : Result has no 'Err' variant.");let s=e.type;if("()"===s)return ud.Err.toString();let o=uV({element:t.unwrap(),type:s,structs:r,enums:n,parser:i});return Array.isArray(o)?[ud.Err.toString(),...o]:[ud.Err.toString(),o]}let s=t.activeVariant(),o=a.find(t=>t.name===s);if(cX(o))throw Error(`Not find in abi : Enum has no '${s}' variant.`);let c=o.type,l=a.findIndex(t=>t.name===s);if("()"===c)return l.toString();let u=uV({element:t.unwrap(),type:c,structs:r,enums:n,parser:i});return Array.isArray(u)?[l.toString(),...u]:[l.toString(),u]}if(un(e))return uF({type:ue(e),val:t,parser:i});if("object"==typeof t)throw Error(`Parameter ${t} do not align with abi parameter ${e}`);return uF({type:e,val:t,parser:i})}function uH(t,e,r){switch(!0){case l3(t):return!!BigInt(e.next().value);case lH.isAbiType(t):case lY.isAbiType(t):case uI.isAbiType(t):case uA.isAbiType(t):case uT.isAbiType(t):case uS.isAbiType(t):case uN.isAbiType(t):case ux.isAbiType(t):case uC.isAbiType(t):case uD.isAbiType(t):case uM.isAbiType(t):case uk.isAbiType(t):return r.getResponseParser(t)(e);case l8(t):return BigInt(e.next().value);case ug.isAbiType(t):return r.getResponseParser(t)(e);case l7(t):let n=oO(e.next().value).padStart(32,"0"),i=oO(e.next().value).padStart(32,"0"),a=oO(e.next().value).padStart(32,"0");return BigInt(oR(i+n+oO(e.next().value).padStart(32,"0")+a));default:return r.getResponseParser(lz.abiSelector)(e)}}function u$(t,e,r,n,i){if("()"===e.type)return{};if(lH.isAbiType(e.type)||lY.isAbiType(e.type)||uv.isAbiType(e.type))return r.getResponseParser(e.type)(t);if(uz.isTypeFixedArray(e.type)){let a=[],s={name:"",type:uz.getFixedArrayType(e.type)},o=uz.getFixedArraySize(e.type);for(;a.length<o;)a.push(u$(t,s,r,n,i));return a}if(lW(e.type)){let a=[],s={name:"",type:ue(e.type)},o=BigInt(t.next().value);for(;a.length<o;)a.push(u$(t,s,r,n,i));return a}if(un(e.type))return u$(t,{name:"",type:ue(e.type)},r,n,i);if(n&&e.type in n&&n[e.type])return l8(e.type)?uH(e.type,t,r):n[e.type].members.reduce((e,a)=>(e[a.name]=u$(t,a,r,n,i),e),{});if(i&&e.type in i&&i[e.type]){let a=Number(t.next().value),s=i[e.type].variants.reduce((e,s,o)=>(o===a?e[s.name]=u$(t,{name:"",type:s.type},r,n,i):e[s.name]=void 0,e),{});if(e.type.startsWith("core::option::Option")){let t=a===uu.Some?s.Some:void 0;return new uh(a,t)}if(e.type.startsWith("core::result::Result")){let t;return t=a===ud.Ok?s.Ok:s.Err,new uf(a,t)}return new ul(s)}if(lZ(e.type))return uU(e.type).reduce((e,a,s)=>{let o=a?.name?a.name:s,c=a?.type?a.type:a;return e[o]=u$(t,{name:o,type:c},r,n,i),e},{});if(lW(e.type)){let a=[],s={name:"",type:ue(e.type)},o=BigInt(t.next().value);for(;a.length<o;)a.push(u$(t,s,r,n,i));return a}return uH(e.type,t,r)}function uY({responseIterator:t,output:e,structs:r,enums:n,parsedResult:i,parser:a}){let{name:s,type:o}=e;switch(!0){case lq(s):return BigInt(t.next().value);case r&&o in r||lZ(o):case n&&lX(o,n):case uz.isTypeFixedArray(o):return u$(t,e,a,r,n);case lW(o):if(ut(o))return u$(t,e,a,r,n);let c=[];if(i&&i[`${s}_len`]){let o=i[`${s}_len`];for(;c.length<o;)c.push(u$(t,{name:s,type:e.type.replace("*","")},a,r,n))}return c;case un(o):return u$(t,e,a,r,n);default:return uH(o,t,a)}}var uq=(t,e)=>{if(cG(c2(t)||cJ(t)||c1(t),`Validate: arg ${e.name} should be a felt typed as (String, Number or BigInt)`),c2(t)&&!c3(t))return;let r=BigInt(t.toString(10));cG(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`)},uQ=(t,e)=>{let r;switch(cJ(t)&&cG(t<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),cG(c2(t)||cJ(t)||c1(t)||c4(t)&&"low"in t&&"high"in t||c4(t)&&["limb0","limb1","limb2","limb3"].every(e=>e in t),`Validate: arg ${e.name} of cairo type ${e.type} should be type (String, Number or BigInt), but is ${typeof t} ${t}.`),e.type){case cU.u256:r=new lH(t).toBigInt();break;case cU.u512:r=new lY(t).toBigInt();break;default:r=c8(t)}switch(e.type){case cU.u8:cG(r>=0n&&r<=255n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0 - 255]`);break;case cU.u16:cG(r>=0n&&r<=65535n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 65535]`);break;case cU.u32:cG(r>=0n&&r<=4294967295n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 4294967295]`);break;case cU.u64:cG(r>=0n&&r<=2n**64n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^64-1]`);break;case cU.u128:cG(r>=0n&&r<=2n**128n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^128-1]`);break;case cU.u256:cG(r>=0n&&r<=2n**256n-1n,`Validate: arg ${e.name} is ${e.type} should be in range 0 - 2^256-1`);break;case cU.u512:cG(lY.is(r),`Validate: arg ${e.name} is ${e.type} should be in range 0 - 2^512-1`);break;case cF.ClassHash:case cF.ContractAddress:cG(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break;case cF.Secp256k1Point:cG(r>=0n&&r<=2n**512n-1n,`Validate: arg ${e.name} must be ${e.type} : a 512 bits number.`);break;case cF.U96:cG(r>=0n&&r<=2n**96n-1n,`Validate: arg ${e.name} must be ${e.type} : a 96 bits number.`)}},uW=(t,e)=>{cG(c0(t),`Validate: arg ${e.name} of cairo type ${e.type} should be type (Boolean)`)},uZ=(t,e,r)=>{if(e.type===cU.u256||e.type===cU.u512)return void uQ(t,e);if(l8(e.type)){cG(!c4(t),`EthAddress type is waiting a BigNumberish. Got "${t}"`);let r=BigInt(t.toString(10));cG(r>=0n&&r<=2n**160n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^160-1]`);return}cG(c4(t),`Validate: arg ${e.name} is cairo type struct (${e.type}), and should be defined as a js object (not array)`),r[e.type].members.forEach(({name:r})=>{cG(Object.keys(t).includes(r),`Validate: arg ${e.name} should have a property ${r}`)})},uG=(t,e)=>{cG(c4(t),`Validate: arg ${e.name} is cairo type Enum (${e.type}), and should be defined as a js object (not array)`);let r=Object.getOwnPropertyNames(Object.getPrototypeOf(t)),n=[...Object.getOwnPropertyNames(t),...r];if(!(lJ(e.type)&&n.includes("isSome")&&n.includes("isNone")||l0(e.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw Error(`Validate Enum: argument ${e.name}, type ${e.type}, value received "${t}", is not an Enum.`)},uK=(t,e)=>{cG(c4(t),`Validate: arg ${e.name} should be a tuple (defined as object)`)},uX=(t,e,r,n)=>{let i=lW(e.type),a=i?ue(e.type):uz.getFixedArrayType(e.type);if(i&&lQ(a)&&lM(t))return;let s=[];if(i)cG(Array.isArray(t),`Validate: arg ${e.name} should be an Array`),s=t;else switch(!0){case Array.isArray(t):s=t;break;case"object"==typeof t:s=Object.values(t);break;default:throw Error(`Validate: arg ${e.name} should be an Array or an object.`)}switch(!0){case lQ(a):s.forEach(t=>uq(t,e));break;case lZ(a):s.forEach(t=>uK(t,{name:e.name,type:a}));break;case lW(a):s.forEach(t=>uX(t,{name:"",type:a},r,n));break;case lK(a,r):s.forEach(t=>uZ(t,{name:e.name,type:a},r));break;case lX(a,n):s.forEach(t=>uG(t,{name:e.name,type:a}));break;case l1(a)||l4(a):s.forEach(t=>uQ(t,{name:"",type:a}));break;case l3(a):s.forEach(t=>uW(t,e));break;default:throw Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value ${s}`)}};function uJ(t,e,r,n){t.inputs.reduce((t,i)=>{let a=e[t];switch(!0){case lq(i.name):return t;case lQ(i.type):uq(a,i);break;case ug.isAbiType(i.type):ug.validate(a);break;case l1(i.type)||l4(i.type):uQ(a,i);break;case l3(i.type):uW(a,i);break;case uv.isAbiType(i.type):uv.validate(a);break;case ux.isAbiType(i.type):ux.validate(a);break;case uC.isAbiType(i.type):uC.validate(a);break;case uD.isAbiType(i.type):uD.validate(a);break;case uM.isAbiType(i.type):uM.validate(a);break;case uk.isAbiType(i.type):uk.validate(a);break;case lW(i.type)||uz.isTypeFixedArray(i.type):uX(a,i,r,n);break;case lK(i.type,r):uZ(a,i,r);break;case lX(i.type,n):uG(a,i);break;case lZ(i.type):uK(a,i);break;case un(i.type):let s=ue(i.type);switch(cG(l1(s)&&s!==lY.abiSelector||lQ(s),`Validate: ${i.name} type is not authorized for NonZero type.`),!0){case lQ(s):uq(a,i),cG(BigInt(a.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case l1(s):uQ(a,{name:"",type:s}),s===cU.u256?cG(new lH(a).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type."):cG(c8(a)>0,"Validate: value 0 is not authorized in NonZero uint type.");break;default:throw Error(`Validate Unhandled: argument ${i.name}, type ${i.type}, value "${a}"`)}break;default:throw Error(`Validate Unhandled: argument ${i.name}, type ${i.type}, value ${a}`)}return t+1},0)}var u0=class t{abi;parser;structs;enums;constructor(e,r){this.structs=t.getAbiStruct(e),this.enums=t.getAbiEnum(e),this.parser=uL(e,r),this.abi=this.parser.getLegacyFormat()}validate(t,e,r=[]){t!==cP&&cG(this.abi.filter(e=>{if("function"!==e.type)return!1;let r="view"===e.stateMutability||"view"===e.state_mutability;return t===cj?!r:r}).map(t=>t.name).includes(e),`${t===cj?"invocable":"viewable"} method not found in abi`);let n=this.abi.find(r=>t===cP?r.name===e&&"constructor"===r.type:r.name===e&&"function"===r.type);if(uP(e,r,n))return;let i=this.parser.methodInputsLength(n);if(r.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${r.length}`);uJ(n,r,this.structs,this.enums)}compile(t,e){let r,n=this.abi.find(e=>e.name===t);if(uP(t,e,n))return[];if(Array.isArray(e))r=e;else{var i,a,s;let t,o,c;r=Object.values((i=n.inputs,a=this.structs,s=this.enums,t=(e,r)=>{if(uz.isTypeFixedArray(r)){var n,i,l=e,u=r;let a=uz.getFixedArrayType(u),s=uz.getFixedArraySize(u);if(Array.isArray(l)){if(s!==l.length)throw Error(`ABI type ${u}: array provided do not includes  ${s} items. ${l.length} items provided.`);return l.map(e=>t(e,a))}if(s!==Object.keys(l).length)throw Error(`ABI type ${u}: object provided do not includes  ${s} properties. ${Object.keys(l).length} items provided.`);return t(l,a)}if(lW(r)){let i;return n=e,i=ue(r),c2(n)?n:n.map(e=>t(e,i))}if(lX(r,s))return c(e,s[r]);if(lZ(r)){return i=e,uU(r).reduce((e,r,n)=>{let a,s=Object.keys(i),o=r?.type?r.type:r;return a=t(i[s[n]],o),Object.defineProperty(e,n.toString(),{enumerable:!0,value:a??i[s[n]]}),e},{})}if(l8(r)||un(r)||uv.isAbiType(r)||l9(r)||l7(r))return e;if(lH.isAbiType(r)){if("object"!=typeof e)return e;if(!("low"in e&&"high"in e))throw Error(`Your object includes the property : ${r}, containing an Uint256 object without the 'low' and 'high' keys.`);return{low:e.low,high:e.high}}if(lY.isAbiType(r)){if("object"!=typeof e)return e;if(!["limb0","limb1","limb2","limb3"].every(t=>t in e))throw Error(`Your object includes the property : ${r}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`);return{limb0:e.limb0,limb1:e.limb1,limb2:e.limb2,limb3:e.limb3}}return lK(r,a)?o(e,a[r].members):e},o=(e,r)=>r.reduce((r,n)=>{let i;if("undefined"===e[n.name]&&(ut(n.type)||!lq(n.name)))throw Error(`Your object needs a property with key : ${n.name} .`);return i=t(e[n.name],n.type),Object.defineProperty(r,n.name,{enumerable:!0,value:i??e[n.name]}),r},{}),c=(e,r)=>{if(l0(r.name)){let n=r.name.substring(r.name.indexOf("<")+1,r.name.lastIndexOf(",")),i=r.name.substring(r.name.indexOf(",")+1,r.name.lastIndexOf(">"));return e.isOk()?new uf(ud.Ok,t(e.unwrap(),n)):new uf(ud.Err,t(e.unwrap(),i))}if(lJ(r.name)){let n=r.name.substring(r.name.indexOf("<")+1,r.name.lastIndexOf(">"));return e.isSome()?new uh(uu.Some,t(e.unwrap(),n)):new uh(uu.None,{})}return new ul(Object.fromEntries(Object.entries(e.variant).map(n=>{if(cX(n[1]))return n;let i=r.type.substring(r.type.lastIndexOf("<")+1,r.type.lastIndexOf(">"));return"()"===i?n:[n[0],t(e.unwrap(),i)]})))},i.reduce((r,n)=>{let i;return lq(n.name)&&!ut(n.type)?r:(i=t(e[n.name],n.type),Object.defineProperty(r,n.name,{enumerable:!0,value:i}),r)},{}))),uJ(n,r,this.structs,this.enums)}let o=r[Symbol.iterator](),c=n.inputs.reduce((t,e)=>lq(e.name)&&!ut(e.type)?t:t.concat(function({argsIterator:t,input:e,structs:r,enums:n,parser:i}){let{name:a,type:s}=e,{value:o}=t.next();switch(!0){case uz.isTypeFixedArray(s):if(!Array.isArray(o)&&"object"!=typeof o)throw Error(`ABI expected parameter ${a} to be an array or an object, got ${o}`);return uV({element:o,type:e.type,structs:r,enums:n,parser:i});case lW(s):if(!Array.isArray(o)&&!lC(o))throw Error(`ABI expected parameter ${a} to be array or long string, got ${o}`);return c2(o)&&(o=lk(o)),uV({element:o,type:e.type,structs:r,enums:n,parser:i});case un(s):return uF({type:ue(s),val:o,parser:i});case l8(s):return uF({type:s,val:o,parser:i});case lK(s,r)||lZ(s)||lH.isAbiType(s):case lX(s,n):return uV({element:o,type:s,structs:r,enums:n,parser:i});default:return uF({type:s,val:o,parser:i})}}({argsIterator:o,input:e,structs:this.structs,enums:this.enums,parser:this.parser})),[]);return Object.defineProperty(c,"__compiled__",{enumerable:!1,writable:!1,value:!0}),c}static compile(t){let e,r=t=>{let e=(t,r=".")=>{let n=Array.isArray(t)?[t.length.toString(),...t]:t;return Object.entries(n).flatMap(([t,i])=>{let a=i;"entrypoint"===t?a=lw(a):lM(a)&&(a=lL(a));let s=Array.isArray(n)&&"0"===t?"$$len":t;if(c1(a))return[[`${r}${s}`,lU(a)]];if(Object(a)===a){let t=Object.getOwnPropertyNames(Object.getPrototypeOf(a)),n=[...Object.getOwnPropertyNames(a),...t];if(n.includes("isSome")&&n.includes("isNone")){let t=a,n=t.isSome()?uu.Some:uu.None;return t.isSome()?e({0:n,1:t.unwrap()},`${r}${s}.`):[[`${r}${s}`,lU(n)]]}if(n.includes("isOk")&&n.includes("isErr")){let t=a;return e({0:t.isOk()?ud.Ok:ud.Err,1:t.unwrap()},`${r}${s}.`)}if(n.includes("variant")&&n.includes("activeVariant")){let t=a,n=t.activeVariant(),i=Object.keys(t.variant).findIndex(t=>t===n);return"object"==typeof t.unwrap()&&0===Object.keys(t.unwrap()).length?[[`${r}${s}`,lU(i)]]:e({0:i,1:t.unwrap()},`${r}${s}.`)}return e(a,`${r}${s}.`)}return[[`${r}${s}`,lU(a)]]})};return Object.fromEntries(e(t))};return Object.defineProperty(e=Array.isArray(t)?Object.values(r({...t})):Object.values(r(t)),"__compiled__",{enumerable:!1,writable:!1,value:!0}),e}parse(t,e){let{outputs:r}=this.abi.find(e=>e.name===t),n=e.flat()[Symbol.iterator](),i=r.flat().reduce((t,e,r)=>{let i=e.name??r;return t[i]=uY({responseIterator:n,output:e,structs:this.structs,enums:this.enums,parsedResult:t,parser:this.parser}),t[i]&&t[`${i}_len`]&&delete t[`${i}_len`],t},{});return 1===Object.keys(i).length&&0 in i?i[0]:i}format(t,e,r){return function t(e,r,n){return Object.entries(e).reduce((i,[a,s])=>{let o=n??r[a];if(!(a in r)&&!n)return i[a]=s,i;if("string"===o){if(Array.isArray(e[a])){let r=t(e[a],e[a].map(t=>o));return i[a]=Object.values(r).join(""),i}return up(e,r,a),i[a]=lR(s),i}if("number"===o)return up(e,r,a),i[a]=Number(s),i;if("function"==typeof o)return i[a]=o(s),i;if(Array.isArray(o)){let r=t(e[a],o,o[0]);return i[a]=Object.values(r),i}return c4(o)?i[a]=t(e[a],o):((t,e,r)=>{throw Error(`Unhandled formatter type on ${r}:${e[r]} for data ${r}:${t[r]}`)})(e,r,a),i},{})}(this.parse(t,e),r)}static getAbiStruct(t){return t.filter(t=>"struct"===t.type).reduce((t,e)=>({...t,[e.name]:e}),{})}static getAbiEnum(t){let e=t.filter(t=>"enum"===t.type).reduce((t,e)=>({...t,[e.name]:e}),{});return delete e["core::bool"],e}static toCalldata(e=[]){return t.compile(e)}static toHex(e=[]){return t.compile(e).map(t=>c7(t))}decodeParameters(t,e){let r=Array.isArray(t)?t:[t],n=e.flat()[Symbol.iterator](),i=r.map(t=>uY({responseIterator:n,output:{name:"",type:t},parser:this.parser,structs:this.structs,enums:this.enums}));return 1===i.length?i[0]:i}},u1={};ob(u1,{COMPILED_CLASS_VERSION:()=>hg,blake2sHashMany:()=>hO,calculateContractAddressFromHash:()=>hI,calculateDeclareTransactionHash:()=>hf,calculateDeployAccountTransactionHash:()=>hp,calculateInvokeTransactionHash:()=>hd,calculateL2MessageTxHash:()=>hh,computeCompiledClassHash:()=>hF,computeCompiledClassHashBlake:()=>hL,computeCompiledClassHashPoseidon:()=>hD,computeContractClassHash:()=>hz,computeHashOnElements:()=>hE,computeHintedClassHash:()=>hA,computeLegacyContractClassHash:()=>hT,computePedersenHash:()=>hw,computePedersenHashOnElements:()=>hv,computePoseidonHash:()=>hS,computePoseidonHashOnElements:()=>hN,computeSierraContractClassHash:()=>hk,encodeBuiltins:()=>hb,flattenEntryPointData:()=>h_,formatSpaces:()=>hy,getL1MessageHash:()=>lA,getL2MessageHash:()=>lI,getSelector:()=>lE,getSelectorFromName:()=>lw,hashByteCodeSegments:()=>hC,hashByteCodeSegmentsBlake:()=>hB,keccakBn:()=>lb,nullSkipReplacer:()=>hm,poseidon:()=>iI,solidityUint256PackedKeccak256:()=>lv,starknetKeccak:()=>l_}),ob({},{calculateDeclareTransactionHash:()=>hi,calculateDeployAccountTransactionHash:()=>hn,calculateInvokeTransactionHash:()=>ha,calculateTransactionHashCommon:()=>hr,encodeDataResourceBoundsL1:()=>ht,encodeResourceBoundsL1:()=>u9,encodeResourceBoundsL2:()=>u7,hashDAMode:()=>u8,hashFeeFieldV3B3:()=>he});var u2=t=>t.map(t=>BigInt(t)),u5=64n+128n,u4=BigInt(lO("L1_GAS")),u3=BigInt(lO("L2_GAS")),u6=BigInt(lO("L1_DATA"));function u8(t,e){return(BigInt(t)<<32n)+BigInt(e)}function u9(t){return(u4<<u5)+(t.l1_gas.max_amount<<128n)+t.l1_gas.max_price_per_unit}function u7(t){return(u3<<u5)+(t.l2_gas.max_amount<<128n)+t.l2_gas.max_price_per_unit}function ht(t){return(u6<<u5)+(t.l1_data_gas.max_amount<<128n)+t.l1_data_gas.max_price_per_unit}function he(t,e){let r=u9(e),n=u7(e),i=ht(e);return iv([BigInt(t),r,n,i])}function hr(t,e,r,n,i,a,s,o,c,l,u=[]){let h=he(a,l),d=u8(o,c),f=u2([t,e,r,h,iv(u2(s)),n,i,d,...u2(u)]);return c7(iv(f))}function hn(t,e,r,n,i,a,s,o,c,l,u,h){return hr(cf.DEPLOY_ACCOUNT,i,t,a,s,u,h,o,c,l,[iv(u2(r)),e,n])}function hi(t,e,r,n,i,a,s,o,c,l,u,h){return hr(cf.DECLARE,n,r,i,a,u,u2(h),o,c,l,[iv(u2(s)),t,e])}function ha(t,e,r,n,i,a,s,o,c,l,u){return hr(cf.INVOKE,e,t,n,i,l,u,s,o,c,[iv(u2(a)),iv(u2(r))])}function hs(t){return[...t,t.length].reduce((t,e)=>iA.pedersen(c8(t),c8(e)),0).toString()}function ho(t,e,r,n,i,a,s,o=[]){let c=[t,e,r,n,hs(i),a,s,...o];return hs(c)}function hc(t,e,r,n,i,a,s){return ho(cf.DECLARE,r,e,0,[t],n,i,[a,...s?[s]:[]])}function hl(t,e,r,n,i,a,s,o){let c=[e,n,...r];return ho(cf.DEPLOY_ACCOUNT,i,t,0,c,a,s,[o])}function hu(t,e,r,n,i,a){return ho(cf.INVOKE,e,t,0,r,n,i,[a])}function hh(t,e,r,n,i,a){let s=[t,...n];return ho(cf.L1_HANDLER,0,e,lE(r),s,0,i,[a])}function hd(t){if([ov.ETransactionVersion.V3,ov.ETransactionVersion.F3].includes(t.version))return ha(t.senderAddress,t.version,t.compiledCalldata,t.chainId,t.nonce,t.accountDeploymentData,t.nonceDataAvailabilityMode,t.feeDataAvailabilityMode,t.resourceBounds,t.tip,t.paymasterData);throw Error("Invalid Tx version for hash calculation")}function hf(t){if([ov.ETransactionVersion.V3,ov.ETransactionVersion.F3].includes(t.version))return hi(t.classHash,t.compiledClassHash,t.senderAddress,t.version,t.chainId,t.nonce,t.accountDeploymentData,t.nonceDataAvailabilityMode,t.feeDataAvailabilityMode,t.resourceBounds,t.tip,t.paymasterData);throw Error("Invalid Tx version for hash calculation")}function hp(t){if([ov.ETransactionVersion.V3,ov.ETransactionVersion.F3].includes(t.version))return hn(t.contractAddress,t.classHash,t.compiledConstructorCalldata,t.salt,t.version,t.chainId,t.nonce,t.nonceDataAvailabilityMode,t.feeDataAvailabilityMode,t.resourceBounds,t.tip,t.paymasterData);throw Error("Invalid Tx version for hash calculation")}ob({},{calculateDeclareTransactionHash:()=>hc,calculateDeployAccountTransactionHash:()=>hl,calculateL2MessageTxHash:()=>hh,calculateTransactionHash:()=>hu,calculateTransactionHashCommon:()=>ho,computeHashOnElements:()=>hs}),ob({},{starkCurve:()=>iA,weierstrass:()=>iT});var hg="COMPILED_CLASS_V1";function hy(t){let e=!1,r=[];for(let n of t)'"'===n&&!1==(r.length>0&&"\\"===r.slice(-1)[0])&&(e=!e),e?r.push(n):r.push(":"===n?": ":","===n?", ":n);return r.join("")}function hm(t,e){return"attributes"===t||"accessible_scopes"===t?Array.isArray(e)&&0===e.length?void 0:e:"debug_info"===t?null:null===e?void 0:e}function hb(t){return t.map(t=>BigInt(lO(t)))}function h_(t,e){return t.flatMap((t,r)=>[BigInt(t.selector),BigInt(t.offset),...e[r]])}function hw(t,e){return iA.pedersen(BigInt(t),BigInt(e))}function hE(t){return[...t,t.length].reduce((t,e)=>iA.pedersen(BigInt(t),BigInt(e)),0).toString()}var hv=hE;function hI(t,e,r,n){let i=hE(u0.compile(r));return c7(BigInt(hE([lU("0x535441524b4e45545f434f4e54524143545f41444452455353"),n,t,e,i]))%oJ)}function hA(t){let{abi:e,program:r}=t,n=hy(cW({abi:e,program:r},hm));return oR(iA.keccak(ox(n)).toString(16))}function hT(t){let e=c2(t)?cq(t):t,r=c7(oG),n=hE(e.entry_points_by_type.EXTERNAL.flatMap(t=>[t.selector,t.offset])),i=hE(e.entry_points_by_type.L1_HANDLER.flatMap(t=>[t.selector,t.offset])),a=hE(e.entry_points_by_type.CONSTRUCTOR.flatMap(t=>[t.selector,t.offset])),s=hE(e.program.builtins.map(t=>lO(t))),o=hA(e),c=hE(e.program.data);return hE([r,n,i,a,s,o,c])}function hS(t,e){return c7(iA.poseidonHash(BigInt(t),BigInt(e)))}function hN(t){return c7(iv(t.map(t=>BigInt(t))))}function hx(t){let e=t.flatMap(t=>[BigInt(t.selector),BigInt(t.offset),iv(hb(t.builtins))]);return iv(e)}function hC(t){let e=t.bytecode.map(t=>BigInt(t)),r=t.bytecode_segment_lengths??[],n=0,i=r.flatMap(t=>{let r=e.slice(n,n+=t);return[BigInt(t),iv(r)]});return 1n+iv(i)}function hD(t){let e=BigInt(lO(hg)),r=hx(t.entry_points_by_type.EXTERNAL),n=hx(t.entry_points_by_type.L1_HANDLER),i=hx(t.entry_points_by_type.CONSTRUCTOR),a=t.bytecode_segment_lengths?hC(t):iv(t.bytecode.map(t=>BigInt(t)));return c7(iv([e,r,n,i,a]))}function hM(t){return iv(t.flatMap(t=>[BigInt(t.selector),BigInt(t.function_idx)]))}function hk(t){let e,r=BigInt(lO("CONTRACT_CLASS_V0.1.0")),n=hM(t.entry_points_by_type.EXTERNAL),i=hM(t.entry_points_by_type.L1_HANDLER),a=hM(t.entry_points_by_type.CONSTRUCTOR),s=(e=hy(cW(t.abi,null)),BigInt(oR(iA.keccak(ox(e)).toString(16)))),o=iv(t.sierra_program.map(t=>BigInt(t)));return c7(iv([r,n,i,a,s,o]))}function hO(t){var e;let r=[],n=new DataView(new ArrayBuffer(32));for(let e of t){let t=0xffffffffffffffffn&e,i=(0xffffffffffffffff0000000000000000n&e)>>64n,a=(0xffffffffffffffff00000000000000000000000000000000n&e)>>128n,s=(0xffffffffffffffff000000000000000000000000000000000000000000000000n&e)>>192n;if(n.setBigUint64(0,s,!1),n.setBigUint64(8,a,!1),n.setBigUint64(16,i,!1),n.setBigUint64(24,t,!1),e<0x8000000000000000n){let t=n.getUint32(24,!1),e=n.getUint32(28,!1);r.push(t,e)}else{let t=0x80000000|n.getUint32(0,!1),e=n.getUint32(4,!1),i=n.getUint32(8,!1),a=n.getUint32(12,!1),s=n.getUint32(16,!1),o=n.getUint32(20,!1),c=n.getUint32(24,!1),l=n.getUint32(28,!1);r.push(t,e,i,a,s,o,c,l)}}let i=new ArrayBuffer(4*r.length),a=new DataView(i);for(let t=0;t<r.length;t++)a.setUint32(4*t,r[t],!0);let s=(e=new Uint8Array(i),cw.get("blake")?.(e)||ik(e,{dkLen:32})),o=0n;for(let t=0;t<32;t++)o|=BigInt(s[t])<<BigInt(8*t);return o%oK}function hR(t){let e=t.flatMap(t=>[BigInt(t.selector),BigInt(t.offset),hO(hb(t.builtins))]);return hO(e)}function hB(t){let e=t.bytecode.map(t=>BigInt(t)),r=t.bytecode_segment_lengths;if(!r)return hO(e);let[n,i]=function t(e,r){if("number"==typeof r){let t=[];for(let n=0;n<r;n++){let r=e.next();if(r.done)throw Error("Bytecode length mismatch");t.push(r.value)}return[r,hO(t)]}let n=r.map(r=>t(e,r)),i=hO(n.flatMap(([t,e])=>[BigInt(t),e]))+1n;return[n.reduce((t,[e])=>t+e,0),i]}(e[Symbol.iterator](),r);if(n!==e.length)throw Error(`Bytecode length mismatch: expected ${e.length}, got ${n}`);return i}function hL(t){return c7(hO([BigInt(lO(hg)),hR(t.entry_points_by_type.EXTERNAL),hR(t.entry_points_by_type.L1_HANDLER),hR(t.entry_points_by_type.CONSTRUCTOR),hB(t)]))}function hP(t){let e=t.version?c7(t.version):cA.V3;return e===cA.V3||e===cA.F3}function hj(t,e){let r=t.split("."),n=e.split(".");return r.every((t,e)=>"*"===t||t===n[e])}function hU(t,e={allowAnyPatchVersion:!1}){return Object.values(cp).some(r=>{var n;let i;return hj(e.allowAnyPatchVersion?(i=(n=r).split(".")).length<3?n:`${i[0]}.${i[1]}.*`:r,t)})}function hz(t){let e=c2(t)?cq(t):t;return"sierra_program"in e?hk(e):hT(e)}function hF(t,e=c_){return function(t,e){let r=t.split(".").map(Number),n=e.split(".").map(Number),i=Math.max(r.length,n.length);for(let t=0;t<i;t+=1){let e=r[t]||0,i=n[t]||0;if(e>i)return 1;if(e<i)return -1}return 0}(e,c_)>=0?hL(t):hD(t)}function hV(t){return oM(sZ(c2(t)?t:cW(t)))}function hH(t){return Array.isArray(t)?t:cq(oS(sJ(oD(t))))}function h$(){return n9(n4.randomPrivateKey())}function hY(t){if(!t)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(t))return t.map(t=>c7(t));try{let{r:e,s:r}=t;return[c7(e),c7(r)]}catch(t){throw Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function hq(t){return ls(hY(t))}function hQ(t){return lo(hY(t))}function hW(){return hZ(hX(),!1)}function hZ(t,e=cw.get("resourceBoundsOverhead")){return{l2_gas:{max_amount:lp(t.l2_gas_consumed,!1!==e?e.l2_gas.max_amount:0),max_price_per_unit:lp(t.l2_gas_price,!1!==e?e.l2_gas.max_price_per_unit:0)},l1_gas:{max_amount:lp(t.l1_gas_consumed,!1!==e?e.l1_gas.max_amount:0),max_price_per_unit:lp(t.l1_gas_price,!1!==e?e.l1_gas.max_price_per_unit:0)},l1_data_gas:{max_amount:lp(t.l1_data_gas_consumed,!1!==e?e.l1_data_gas.max_amount:0),max_price_per_unit:lp(t.l1_data_gas_price,!1!==e?e.l1_data_gas.max_price_per_unit:0)}}}function hG(t){return{resourceBounds:t,overall_fee:t.l1_gas.max_amount*t.l1_gas.max_price_per_unit+t.l1_data_gas.max_amount*t.l1_data_gas.max_price_per_unit+t.l2_gas.max_amount*t.l2_gas.max_price_per_unit,unit:"FRI"}}function hK(t,e=cw.get("resourceBoundsOverhead")){return lp(t.l1_gas_consumed,!1!==e?e.l1_gas.max_amount:0)*lp(t.l1_gas_price,!1!==e?e.l1_gas.max_price_per_unit:0)+lp(t.l1_data_gas_consumed,!1!==e?e.l1_data_gas.max_amount:0)*lp(t.l1_data_gas_price,!1!==e?e.l1_data_gas.max_price_per_unit:0)+lp(t.l2_gas_consumed,!1!==e?e.l2_gas.max_amount:0)*lp(t.l2_gas_price,!1!==e?e.l2_gas.max_price_per_unit:0)}function hX(){return{l1_gas_consumed:"0",l1_gas_price:"0",l1_data_gas_consumed:"0",l1_data_gas_price:"0",l2_gas_consumed:"0",l2_gas_price:"0",overall_fee:"0",unit:"FRI"}}function hJ(t){if(t===cN.L1)return cx.L1;if(t===cN.L2)return cx.L2;throw Error("EDAM conversion")}function h0(t,e){let r=e?c7(e):c7(t);if(!Object.values(cS).includes(r))throw Error(`${e?"providedVersion":"defaultVersion"} ${r} is not ETransactionVersion`);return r}function h1(t){if(!t)return;let e=c7(t);if(e===cA.V0)return cA.F0;if(e===cA.V1)return cA.F1;if(e===cA.V2)return cA.F2;if(e===cA.V3)return cA.F3;throw Error(`toFeeVersion: ${e} is not supported`)}function h2(t){return{tip:t.tip||0,paymasterData:t.paymasterData||[],accountDeploymentData:t.accountDeploymentData||[],nonceDataAvailabilityMode:t.nonceDataAvailabilityMode||cN.L1,feeDataAvailabilityMode:t.feeDataAvailabilityMode||cN.L1,resourceBounds:t.resourceBounds??hW()}}function h5(t){return oR(ok(nZ(c7(t),!1)))}function h4(t){let e=t=>{if(c1(t))return c7(t);if(c4(t)){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}return t};return e(t)}function h3(t){let e=t=>{if(c2(t))return BigInt(t);if(c4(t)){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}return t};return e(t)}function h6(t){return"sierra_program"in(c2(t)?cq(t):t)}function h8(t,e){let r={...t};if(h6(t.contract)&&(!t.compiledClassHash&&t.casm&&(r.compiledClassHash=hF(t.casm,e)),!r.compiledClassHash))throw Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(r.classHash=t.classHash??hz(t.contract),!r.classHash)throw Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return r}function h9(){return oj(ok(s6.utils.randomPrivateKey()))}function h7(t){la(t,oQ,2n**160n-1n,"Ethereum Address ");let e=oR(oO(c7(t)).padStart(40,"0"));return cG(!!e.match(/^(0x)?[0-9a-f]{40}$/),"Invalid Ethereum Address Format"),e}ob({},{ZeroFeeEstimate:()=>hX,compressProgram:()=>hV,decompressProgram:()=>hH,formatSignature:()=>hY,getFullPublicKey:()=>h5,intDAM:()=>hJ,randomAddress:()=>h$,resourceBoundsToBigInt:()=>h3,resourceBoundsToEstimateFeeResponse:()=>hG,resourceBoundsToHexString:()=>h4,signatureToDecimalArray:()=>hq,signatureToHexArray:()=>hQ,toFeeVersion:()=>h1,toOverheadOverallFee:()=>hK,toOverheadResourceBounds:()=>hZ,toTransactionVersion:()=>h0,v3Details:()=>h2,zeroResourceBounds:()=>hW}),ob({},{ethRandomPrivateKey:()=>h9,validateAndParseEthAddress:()=>h7});var dt="u">typeof globalThis&&globalThis.fetch.bind(globalThis)||"u">typeof window&&window.fetch.bind(window)||t.g.fetch.bind(t.g)||(()=>{throw new ub("'fetch()' not detected, use the 'baseFetch' constructor parameter to set it")});function de(t){return new Promise(e=>{setTimeout(e,t)})}function dr(t){let e={...t};return delete e.sierra_program_debug_info,e.abi=hy(cW(t.abi)),e.sierra_program=hy(cW(t.sierra_program)),e.sierra_program=hV(e.sierra_program),e}function dn(t){let e=c2(t)?cq(t):t;return h6(t)?dr(e):{...e,..."program"in e&&{program:hV(e.program)}}}function di(t){return c2(t.abi)?cq(t.abi):t.abi}ob({},{Block:()=>du,createSierraContractClass:()=>dr,extractAbi:()=>di,getDefaultNodeUrl:()=>da,getDefaultNodes:()=>ds,getSupportedRpcVersions:()=>dc,parseContract:()=>dn,validBlockTags:()=>dl,wait:()=>de});var da=(t,e=!1,r)=>{e||cv.info("Using default public node url, please provide nodeUrl in provider options!");let n=ds(r??cw.get("rpcVersion"))[t??ch.SN_SEPOLIA],i=Math.floor(Math.random()*n.length);return n[i]};function ds(t){let e=function(t){let[e,r]=t.replace(/^v/,"").split(".");return`v${e}_${r}`}(t);return Object.fromEntries(Object.entries(cy).map(([t,r])=>[t,r.map(t=>`${t}${e}`)]))}function dc(){return[...new Set(Object.values(cp))]}var dl=Object.values(cL),du=class{hash=null;number=null;tag=null;setIdentifier(t){if(c2(t))if(lx(t))this.number=parseInt(t,10);else if(c3(t))this.hash=t;else if(dl.includes(t))this.tag=t;else throw TypeError(`Block identifier unmanaged: ${t}`);else c1(t)?this.hash=c7(t):cJ(t)?this.number=t:this.tag=cL.LATEST;if(cJ(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(t){this.setIdentifier(t)}get queryIdentifier(){return null!==this.number?`blockNumber=${this.number}`:null!==this.hash?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return null!==this.number?{block_number:this.number}:null!==this.hash?{block_hash:this.hash}:this.tag}set identifier(t){this.setIdentifier(t)}valueOf=()=>this.number;toString=()=>this.hash};function dh(t,e){return Array.isArray(t)&&"__compiled__"in t?t:Array.isArray(t)&&Array.isArray(t[0])&&"__compiled__"in t[0]?t[0]:e()}ob({},{fromCallsToExecuteCalldata:()=>df,fromCallsToExecuteCalldata_cairo1:()=>dp,getCompiledCalldata:()=>dh,getExecuteCalldata:()=>dg,getVersionsByType:()=>dy,transformCallsToMulticallArrays:()=>dd});var dd=t=>{let e=[],r=[];return t.forEach(t=>{let n=u0.compile(t.calldata||[]);e.push({to:c8(t.contractAddress).toString(10),selector:c8(lw(t.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:n.length.toString()}),r.push(...n)}),{callArray:e,calldata:u0.compile({calldata:r})}},df=t=>{let{callArray:e,calldata:r}=dd(t);return[...u0.compile({callArray:e}),...r]},dp=t=>{let e=t.map(t=>({contractAddress:t.contractAddress,entrypoint:t.entrypoint,calldata:Array.isArray(t.calldata)&&"__compiled__"in t.calldata?t.calldata:u0.compile(t.calldata)}));return u0.compile({orderCalls:e})},dg=(t,e="0")=>"1"===e?dp(t):df(t);function dy(t){return"fee"===t?{v3:cA.F3}:{v3:cA.V3}}var dm={headers:{"Content-Type":"application/json"},blockIdentifier:cL.LATEST,retries:200},db=class{id="RPC081";channelSpecVersion=cp.v0_8_1;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(t){const{baseFetch:e,batch:r,blockIdentifier:n,chainId:i,headers:a,nodeUrl:s,retries:o,specVersion:c,transactionRetryIntervalFallback:l,waitMode:u}=t||{};Object.values(ch).includes(s)?this.nodeUrl=da(s,t?.default,this.channelSpecVersion):s?this.nodeUrl=s:this.nodeUrl=da(void 0,t?.default,this.channelSpecVersion),this.baseFetch=e||cw.get("fetch")||dt,this.blockIdentifier=n??dm.blockIdentifier,this.chainId=i,this.headers={...dm.headers,...a},this.retries=o??dm.retries,this.specVersion=c,this.transactionRetryIntervalFallback=l,this.waitMode=u??!1,this.requestId=0,cJ(r)&&(this.batchClient=new cZ({nodeUrl:this.nodeUrl,headers:this.headers,interval:r,baseFetch:this.baseFetch,rpcMethods:{}})),cv.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(t){this.chainId=t}fetch(t,e,r=0){let n={id:r,jsonrpc:"2.0",method:t,...e&&{params:e}};return this.baseFetch(this.nodeUrl,{method:"POST",body:cW(n),headers:this.headers})}errorHandler(t,e,r,n){if(r)throw new u_(r,t,e);if(n instanceof ub)throw n;if(n)throw Error(n.message)}async fetchEndpoint(t,e){try{if(this.batchClient){let{error:r,result:n}=await this.batchClient.fetch(t,e,this.requestId+=1);return this.errorHandler(t,e,r),n}let r=await this.fetch(t,e,this.requestId+=1),{error:n,result:i}=await r.json();return this.errorHandler(t,e,n),i}catch(r){throw this.errorHandler(t,e,r?.response?.data,r),r}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){let t=await this.fetchEndpoint("starknet_specVersion");if(hj(this.channelSpecVersion,t)||cv.error(cb.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!hU(t))throw new ub(`${cb.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=t}return this.specVersion}getMessagesStatus(t){let e=c7(t);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:e})}getStorageProof(t=[],e=[],r=[],n=this.blockIdentifier){let i=new du(n).identifier,a=lo(t),s=lo(e);return this.fetchEndpoint("starknet_getStorageProof",{block_id:i,class_hashes:a,contract_addresses:s,contracts_storage_keys:r})}getCompiledCasm(t){let e=c7(t);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:e})}getNonceForAddress(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}async getStarknetVersion(t=this.blockIdentifier){return(await this.getBlockWithTxHashes(t)).starknet_version}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:e})}getBlockWithTxs(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:e})}getBlockWithReceipts(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:e})}getBlockStateUpdate(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:e})}getBlockTransactionsTraces(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:e})}getBlockTransactionCount(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:e})}getTransactionByHash(t){let e=c7(t);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:e})}getTransactionByBlockIdAndIndex(t,e){let r=new du(t).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:e})}getTransactionReceipt(t){let e=c7(t);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:e})}getTransactionTrace(t){let e=c7(t);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:e})}getTransactionStatus(t){let e=c7(t);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:e})}simulateTransaction(t,e={}){let{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!0,skipFeeCharge:i=!0}=e,a=new du(r).identifier,s=[];return n&&s.push(tt.ESimulationFlag.SKIP_VALIDATE),i&&s.push(tt.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:a,transactions:t.map(t=>this.buildTransaction(t)),simulation_flags:s})}async waitForTransaction(t,e){let r,n=c7(t),i=e?.retries??this.retries,a=e?.lifeCycleRetries??3,s=!1,o=!1,c=e?.retryInterval??this.transactionRetryIntervalDefault,l=e?.errorStates??[tt.ETransactionStatus.REJECTED],u=e?.successStates??[tt.ETransactionStatus.ACCEPTED_ON_L2,tt.ETransactionStatus.ACCEPTED_ON_L1],h={[tV.ETransactionStatus.RECEIVED]:cb.txEvictedFromMempool,[tV.ETransactionStatus.PRE_CONFIRMED]:cb.consensusFailed,[tV.ETransactionStatus.CANDIDATE]:cb.txFailsBlockBuildingValidation},d=[];for(;!s;){await de(c);try{r=await this.getTransactionStatus(n),d.push(r.finality_status);let t=r.execution_status,e=r.finality_status;if(!e)throw Error("waiting for transaction status");if(l.includes(t)||l.includes(e)){let n=`${t}: ${e}`,i=Error(n);throw i.response=r,o=!0,i}(u.includes(t)||u.includes(e))&&(s=!0)}catch(t){if(t instanceof Error&&o)throw t;if(t instanceof u_&&t.isType("TXN_HASH_NOT_FOUND")){cv.info("txLife: ",d);let t=h[d.at(-1)];if(t&&a<=0)throw Error(t);a-=1}if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1}let f=null;for(;null===f;){try{f=await this.getTransactionReceipt(n)}catch(t){if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1,await de(c)}return f}getStorageAt(t,e,r=this.blockIdentifier){let n=c7(t),i=lr(e),a=new du(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:a})}getClassHashAt(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}getClass(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n})}getClassAt(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r})}async getEstimateFee(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!0}={}){let n=new du(e).identifier,i={simulation_flags:r?[tt.ESimulationFlag.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:t.map(t=>this.buildTransaction(t,"fee")),block_id:n,...i})}async invoke(t,e){let r;if(hP(e))if(cC(e.resourceBounds))r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:tt.ETransactionType.INVOKE,sender_address:t.contractAddress,calldata:u0.toHex(t.calldata),version:tt.ETransactionVersion.V3,signature:hQ(t.signature),nonce:c7(e.nonce),resource_bounds:h4(e.resourceBounds),tip:c7(e.tip),paymaster_data:e.paymasterData.map(t=>c7(t)),account_deployment_data:e.accountDeploymentData.map(t=>c7(t)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode}});else throw Error(cb.SWOldV3);else throw Error(cb.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async declare({contract:t,signature:e,senderAddress:r,compiledClassHash:n},i){let a;if(h6(t)&&hP(i))if(cC(i.resourceBounds))a=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:tt.ETransactionType.DECLARE,sender_address:r,compiled_class_hash:n||"",version:tt.ETransactionVersion.V3,signature:hQ(e),nonce:c7(i.nonce),contract_class:{sierra_program:hH(t.sierra_program),contract_class_version:t.contract_class_version,entry_points_by_type:t.entry_points_by_type,abi:t.abi},resource_bounds:h4(i.resourceBounds),tip:c7(i.tip),paymaster_data:i.paymasterData.map(t=>c7(t)),account_deployment_data:i.accountDeploymentData.map(t=>c7(t)),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}});else throw Error(cb.SWOldV3);else throw Error(cb.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await a).transaction_hash):a}async deployAccount({classHash:t,constructorCalldata:e,addressSalt:r,signature:n},i){let a;if(hP(i))if(cC(i.resourceBounds))a=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:tt.ETransactionType.DEPLOY_ACCOUNT,version:tt.ETransactionVersion.V3,signature:hQ(n),nonce:c7(i.nonce),contract_address_salt:c7(r||0),constructor_calldata:u0.toHex(e||[]),class_hash:c7(t),resource_bounds:h4(i.resourceBounds),tip:c7(i.tip),paymaster_data:i.paymasterData.map(t=>c7(t)),nonce_data_availability_mode:i.nonceDataAvailabilityMode,fee_data_availability_mode:i.feeDataAvailabilityMode}});else throw Error(cb.SWOldV3);else throw Error(cb.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await a).transaction_hash):a}callContract(t,e=this.blockIdentifier){let r=new du(e).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:t.contractAddress,entry_point_selector:lw(t.entrypoint),calldata:u0.toHex(t.calldata)},block_id:r})}estimateMessageFee(t,e=this.blockIdentifier){let{from_address:r,to_address:n,entry_point_selector:i,payload:a}=t,s={from_address:h7(r),to_address:c7(n),entry_point_selector:lE(i),payload:lh(a)},o=new du(e).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:s,block_id:o})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(t){return this.fetchEndpoint("starknet_getEvents",{filter:t})}buildTransaction(t,e){let r,n=dy(e);if(hP(t))r={signature:hQ(t.signature),nonce:c7(t.nonce),resource_bounds:h4(t.resourceBounds),tip:c7(t.tip),paymaster_data:t.paymasterData.map(t=>c7(t)),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode,account_deployment_data:t.accountDeploymentData.map(t=>c7(t))};else throw Error("v0,v1,v2 tx are not supported on RPC 0.8");if(t.type===tt.ETransactionType.INVOKE)return{type:tt.ETransactionType.INVOKE,sender_address:t.contractAddress,calldata:u0.toHex(t.calldata),version:c7(t.version||n.v3),...r};if(t.type===tt.ETransactionType.DECLARE){if(!h6(t.contract))throw cv.error("Cairo 0 -  non Sierra v1 tx are not supported"),Error("Declaring non Sierra contract using RPC 0.8");return{type:t.type,contract_class:{...t.contract,sierra_program:hH(t.contract.sierra_program)},compiled_class_hash:t.compiledClassHash||"",sender_address:t.senderAddress,version:c7(t.version||n.v3),...r}}if(t.type===tt.ETransactionType.DEPLOY_ACCOUNT){let{account_deployment_data:e,...i}=r;return{type:t.type,constructor_calldata:u0.toHex(t.constructorCalldata||[]),class_hash:c7(t.classHash),contract_address_salt:c7(t.addressSalt||0),version:c7(t.version||n.v3),...i}}throw Error("RPC buildTransaction received unknown TransactionType")}},d_={};ob(d_,{RpcChannel:()=>dE});var dw={headers:{"Content-Type":"application/json"},blockIdentifier:cL.LATEST,retries:200},dE=class{id="RPC090";channelSpecVersion=cp.v0_9_0;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(t){const{baseFetch:e,batch:r,blockIdentifier:n,chainId:i,headers:a,nodeUrl:s,retries:o,specVersion:c,transactionRetryIntervalFallback:l,waitMode:u}=t||{};Object.values(ch).includes(s)?this.nodeUrl=da(s,t?.default,this.channelSpecVersion):s?this.nodeUrl=s:this.nodeUrl=da(void 0,t?.default,this.channelSpecVersion),this.baseFetch=e||cw.get("fetch")||dt,this.blockIdentifier=n??dw.blockIdentifier,this.chainId=i,this.headers={...dw.headers,...a},this.retries=o??dw.retries,this.specVersion=c,this.transactionRetryIntervalFallback=l,this.waitMode=u??!1,this.requestId=0,cJ(r)&&(this.batchClient=new cZ({nodeUrl:this.nodeUrl,headers:this.headers,interval:r,baseFetch:this.baseFetch,rpcMethods:{}})),cv.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(t){this.chainId=t}fetch(t,e,r=0){let n={id:r,jsonrpc:"2.0",method:t,...e&&{params:e}};return this.baseFetch(this.nodeUrl,{method:"POST",body:cW(n),headers:this.headers})}errorHandler(t,e,r,n){if(r)throw new u_(r,t,e);if(n instanceof ub)throw n;if(n)throw Error(n.message)}async fetchEndpoint(t,e){try{if(this.batchClient){let{error:r,result:n}=await this.batchClient.fetch(t,e,this.requestId+=1);return this.errorHandler(t,e,r),n}let r=await this.fetch(t,e,this.requestId+=1),{error:n,result:i}=await r.json();return this.errorHandler(t,e,n),i}catch(r){throw this.errorHandler(t,e,r?.response?.data,r),r}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){let t=await this.fetchEndpoint("starknet_specVersion");if(hj(this.channelSpecVersion,t)||cv.error(cb.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!hU(t))throw new ub(`${cb.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=t}return this.specVersion}getMessagesStatus(t){let e=c7(t);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:e})}getStorageProof(t=[],e=[],r=[],n=this.blockIdentifier){let i=new du(n).identifier,a=lo(t),s=lo(e);return this.fetchEndpoint("starknet_getStorageProof",{block_id:i,class_hashes:a,contract_addresses:s,contracts_storage_keys:r})}getCompiledCasm(t){let e=c7(t);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:e})}getNonceForAddress(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}async getStarknetVersion(t=this.blockIdentifier){return(await this.getBlockWithTxHashes(t)).starknet_version}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:e})}getBlockWithTxs(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:e})}getBlockWithReceipts(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:e})}getBlockStateUpdate(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:e})}getBlockTransactionsTraces(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:e})}getBlockTransactionCount(t=this.blockIdentifier){let e=new du(t).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:e})}getTransactionByHash(t){let e=c7(t);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:e})}getTransactionByBlockIdAndIndex(t,e){let r=new du(t).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:e})}getTransactionReceipt(t){let e=c7(t);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:e})}getTransactionTrace(t){let e=c7(t);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:e})}getTransactionStatus(t){let e=c7(t);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:e})}simulateTransaction(t,e={}){let{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!0,skipFeeCharge:i=!0}=e,a=new du(r).identifier,s=[];return n&&s.push(tV.ESimulationFlag.SKIP_VALIDATE),i&&s.push(tV.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:a,transactions:t.map(t=>this.buildTransaction(t)),simulation_flags:s})}async waitForTransaction(t,e){let r,n=c7(t),i=e?.retries??this.retries,a=e?.lifeCycleRetries??3,s=!1,o=!1,c=e?.retryInterval??this.transactionRetryIntervalDefault,l=e?.errorStates??[],u=e?.successStates??[tV.ETransactionFinalityStatus.ACCEPTED_ON_L2,tV.ETransactionFinalityStatus.ACCEPTED_ON_L1],h={[tV.ETransactionStatus.RECEIVED]:cb.txEvictedFromMempool,[tV.ETransactionStatus.PRE_CONFIRMED]:cb.consensusFailed,[tV.ETransactionStatus.CANDIDATE]:cb.txFailsBlockBuildingValidation},d=[];for(;!s;){await de(c);try{r=await this.getTransactionStatus(n),d.push(r.finality_status);let t=r.execution_status,e=r.finality_status;if(!e)throw Error("waiting for transaction status");if(l.includes(t)||l.includes(e)){let n=`${t}: ${e}`,i=Error(n);throw i.response=r,o=!0,i}(u.includes(t)||u.includes(e))&&(s=!0)}catch(t){if(t instanceof Error&&o)throw t;if(t instanceof u_&&t.isType("TXN_HASH_NOT_FOUND")){cv.info("txLife: ",d);let t=h[d.at(-1)];if(t&&a<=0)throw Error(t);a-=1}if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1}let f=null;for(;null===f;){try{f=await this.getTransactionReceipt(n)}catch(t){if(i<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1,await de(c)}return f}async fastWaitForTransaction(t,e,r,n){let i,a=BigInt(r),s=n?.retries??50,o=n?.retryInterval??500,c=[tV.ETransactionExecutionStatus.REVERTED],l=[tV.ETransactionFinalityStatus.ACCEPTED_ON_L2,tV.ETransactionFinalityStatus.ACCEPTED_ON_L1,tV.ETransactionFinalityStatus.PRE_CONFIRMED],u=new Date().getTime();for(;s>0;){await de(o),i=await this.getTransactionStatus(t),cv.info(`${s} ${JSON.stringify(i)} ${(new Date().getTime()-u)/1e3}s.`);let r=i.execution_status??"",n=i.finality_status;if(c.includes(r)){let t=Error(`${r}: ${n}`);throw t.response=i,t}if(l.includes(n)){let t=a;for(;t===a&&s>0;){if(t=BigInt(await this.getNonceForAddress(e,cL.PRE_CONFIRMED)),cv.info(`${s} Checking new nonce ${t} ${(new Date().getTime()-u)/1e3}s.`),t!==a)return!0;await de(o),s-=1}break}s-=1}return!1}getStorageAt(t,e,r=this.blockIdentifier){let n=c7(t),i=lr(e),a=new du(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:a})}getClassHashAt(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}getClass(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n})}getClassAt(t,e=this.blockIdentifier){let r=c7(t),n=new du(e).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r})}async getEstimateFee(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!0}={}){let n=new du(e).identifier,i={simulation_flags:r?[tV.ESimulationFlag.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:t.map(t=>this.buildTransaction(t,"fee")),block_id:n,...i})}async invoke(t,e){let r=this.buildTransaction({type:ov.ETransactionType.INVOKE,...t,...e},"transaction"),n=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:r});return this.waitMode?this.waitForTransaction((await n).transaction_hash):n}async declare(t,e){let r=this.buildTransaction({type:ov.ETransactionType.DECLARE,...t,...e},"transaction"),n=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:r});return this.waitMode?this.waitForTransaction((await n).transaction_hash):n}async deployAccount(t,e){let r=this.buildTransaction({type:ov.ETransactionType.DEPLOY_ACCOUNT,...t,...e},"transaction"),n=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:r});return this.waitMode?this.waitForTransaction((await n).transaction_hash):n}callContract(t,e=this.blockIdentifier){let r=new du(e).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:t.contractAddress,entry_point_selector:lw(t.entrypoint),calldata:u0.toHex(t.calldata)},block_id:r})}estimateMessageFee(t,e=this.blockIdentifier){let{from_address:r,to_address:n,entry_point_selector:i,payload:a}=t,s={from_address:h7(r),to_address:c7(n),entry_point_selector:lE(i),payload:lh(a)},o=new du(e).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:s,block_id:o})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(t){return this.fetchEndpoint("starknet_getEvents",{filter:t})}buildTransaction(t,e){let r=dy(e);cG(hP(t),cb.legacyTxRPC08Message),cG("transaction"!==e||cC(t.resourceBounds),cb.SWOldV3);let n={signature:hQ(t.signature),nonce:c7(t.nonce),resource_bounds:h4(t.resourceBounds),tip:c7(t.tip),paymaster_data:t.paymasterData.map(t=>c7(t)),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode,account_deployment_data:t.accountDeploymentData.map(t=>c7(t)),version:h0(r.v3,t.version)};if(t.type===ov.ETransactionType.INVOKE)return{type:tV.ETransactionType.INVOKE,sender_address:t.contractAddress,calldata:u0.toHex(t.calldata),...n};if(t.type===ov.ETransactionType.DECLARE)return cG(h6(t.contract),"Declaring non Sierra contract using RPC 0.9"),{type:t.type,contract_class:{...t.contract,sierra_program:hH(t.contract.sierra_program)},compiled_class_hash:t.compiledClassHash||"",sender_address:t.senderAddress,...n};if(t.type===ov.ETransactionType.DEPLOY_ACCOUNT){let{account_deployment_data:e,...r}=n;return{type:t.type,constructor_calldata:u0.toHex(t.constructorCalldata||[]),class_hash:c7(t.classHash),contract_address_salt:c7(t.addressSalt||0),...r}}throw Error("RPC buildTransaction received unknown TransactionType")}},dv=("u">typeof WebSocket&&WebSocket||"u">typeof globalThis&&globalThis.WebSocket||"u">typeof window&&window.WebSocket&&window.WebSocket.bind(window)||t.g.WebSocket,class{resourceBoundsOverhead;constructor(t){this.resourceBoundsOverhead=t}parseGetBlockResponse(t){return t}parseTransactionReceipt(t){return t}parseFeeEstimateBulkResponse(t){return t.map(t=>({resourceBounds:hZ(t,this.resourceBoundsOverhead),overall_fee:hK(t,this.resourceBoundsOverhead),unit:t.unit}))}parseSimulateTransactionResponse(t){return t.map(t=>({transaction_trace:t.transaction_trace,resourceBounds:hZ(t.fee_estimation,this.resourceBoundsOverhead),overall_fee:hK(t.fee_estimation,this.resourceBoundsOverhead),unit:t.fee_estimation.unit}))}parseContractClassResponse(t){return{...t,abi:c2(t.abi)?JSON.parse(t.abi):t.abi}}parseL1GasPriceResponse(t){return t.l1_gas_price.price_in_wei}});function dI(t){return"0x3"===t.version&&"tip"in t&&c2(t.tip)&&("INVOKE"===t.type||"DECLARE"===t.type||"DEPLOY_ACCOUNT"===t.type)}function dA(t,e=!0){return t.transactions.filter(dI).map(t=>BigInt(t.tip)).filter(t=>e||t>0n)}function dT(t,e){return{minTip:0n,maxTip:0n,averageTip:0n,medianTip:0n,modeTip:0n,recommendedTip:0n,p90Tip:0n,p95Tip:0n,metrics:{blocksAnalyzed:t,transactionsTipsFound:e}}}function dS(t,e){let r=e/100*(t.length-1),n=Math.floor(r),i=Math.ceil(r);if(n===i)return t[n];let a=t[n],s=(t[i]-a)*BigInt(Math.round(1e3*(r-n)))/1000n;return a+s}function dN(t){let e;cG(t.length>0,"Cannot calculate statistics from empty tip array");let r=t.reduce((t,e)=>e<t?e:t,o1.max),n=t.reduce((t,e)=>e>t?e:t,0n),i=t.reduce((t,e)=>t+e,0n)/BigInt(t.length),a=[...t].sort((t,e)=>t<e?-1:+(t>e)),s=Math.floor(a.length/2);e=a.length%2==0?(a[s-1]+a[s])/2n:a[s];let o=new Map;t.forEach(t=>{o.set(t,(o.get(t)||0)+1)});let{modeTip:c}=Array.from(o.entries()).reduce((t,[e,r])=>r>t.maxCount||r===t.maxCount&&e<t.modeTip?{maxCount:r,modeTip:e}:t,{maxCount:0,modeTip:0n}),l=dS(a,90);return{minTip:r,maxTip:n,averageTip:i,medianTip:e,modeTip:c,recommendedTip:e,p90Tip:l,p95Tip:dS(a,95)}}async function dx(t,e){try{let r=await t.getBlockWithTxs(e);if(cJ(r.block_number))return r.block_number;return(await t.getBlockLatestAccepted()).block_number}catch(t){throw new ub(`Failed to determine starting block number: ${t instanceof Error?t.message:"Unknown error"}`)}}async function dC(t,e){try{return await t.getBlockWithTxs(e)}catch(t){return cv.warn(`Failed to fetch block ${e}:`,t),null}}function dD(t,e){let r=Math.max(0,t-e+1);return Array.from({length:t-r+1},(e,r)=>t-r)}async function dM(t,e){return Promise.all(e.map(async e=>{try{return await t.getBlockWithTxs(e)}catch(t){return cv.warn(`Failed to fetch block ${e} in parallel:`,t),null}}))}async function dk(t,e,r){let{maxBlocks:n=3,minTxsNecessary:i=10,includeZeroTips:a=!0}=r;try{let r=await dx(t,e),s=dD(r,n),o=await dM(t,s),c=o.filter(t=>null!==t).flatMap(t=>dA(t,a)),l=o.filter(t=>null!==t).length;if(c.length<i)return cv.error(`Insufficient transaction data: found ${c.length} V3 transactions with tips in ${l} blocks (block range: ${Math.max(0,r-n+1)}-${r}). Required: ${i} transactions. Consider reducing minTxsNecessary or increasing maxBlocks.`),dT(l,c);return{...dN(c),metrics:{blocksAnalyzed:l,transactionsTipsFound:c}}}catch(t){throw new ub(`Failed to analyze tip statistics (parallel): ${t instanceof Error?t.message:"Unknown error"}`)}}async function dO(t,e,r){let{maxBlocks:n=3,minTxsNecessary:i=10,includeZeroTips:a=!0}=r;try{let r=await dx(t,e),s=dD(r,n),o=[],c=0;for(let e of s){let r=await dC(t,e);if(r){c+=1;let t=dA(r,a);if(o.push(...t),o.length>=i)break}}if(o.length<i)return cv.error(`Insufficient transaction data: found ${o.length} V3 transactions with tips in ${c} blocks (block range: ${Math.max(0,r-n+1)}-${r}). Required: ${i} transactions. Consider reducing minTxsNecessary or increasing maxBlocks.`),dT(c,o);return{...dN(o),metrics:{blocksAnalyzed:c,transactionsTipsFound:o}}}catch(t){throw new ub(`Failed to analyze tip statistics (sequential): ${t instanceof Error?t.message:"Unknown error"}`)}}async function dR(t,e=cL.LATEST,r={}){let{maxBlocks:n=3,minTxsNecessary:i=10}=r;return(cG(Number.isInteger(n),"maxBlocks parameter must be an integer"),cG(n>=1,"maxBlocks parameter must be greater than or equal to 1"),cG(n<=100,"maxBlocks parameter must be less than or equal to 100 for performance"),cG(Number.isInteger(i),"minTxsNecessary parameter must be an integer"),cG(i>=1,"minTxsNecessary parameter must be greater than or equal to 1"),t.channel.batchClient)?dk(t,e,r):dO(t,e,r)}var dB=class t{statusReceipt;value;constructor(e){Object.assign(this,e);const[r,n]=t.isSuccess(e)?["SUCCEEDED",e]:t.isReverted(e)?["REVERTED",e]:["ERROR",Error("Unknown response type")];Object.defineProperties(this,{statusReceipt:{value:r,writable:!1,enumerable:!1,configurable:!1},value:{value:n,writable:!1,enumerable:!1,configurable:!1},match:{value:t=>r in t?t[r](n):t._(),writable:!1,enumerable:!1,configurable:!1},isSuccess:{value:()=>"SUCCEEDED"===r,writable:!1,enumerable:!1,configurable:!1},isReverted:{value:()=>"REVERTED"===r,writable:!1,enumerable:!1,configurable:!1},isError:{value:()=>"ERROR"===r,writable:!1,enumerable:!1,configurable:!1}})}match;isSuccess;isReverted;isError;static isSuccess(t){return t.execution_status===cB.SUCCEEDED}static isReverted(t){return t.execution_status===cB.REVERTED}},dL={[cB.SUCCEEDED]:{statusReceipt:"SUCCEEDED",getBaseData:t=>t,getValue:t=>t},[cB.REVERTED]:{statusReceipt:"REVERTED",getBaseData:t=>t,getValue:t=>t}};function dP(t){let e,r=dL[t.execution_status];if(r){let{statusReceipt:n,getBaseData:i,getValue:a}=r,s=a(t);e={...i(t),statusReceipt:n,value:s,match:t=>n in t?t[n](s):t._(),isSuccess:()=>"SUCCEEDED"===n,isReverted:()=>"REVERTED"===n,isError:()=>!1}}else{let t=Error("Unknown response type");e={statusReceipt:"ERROR",value:t,match:e=>"ERROR"in e?e.ERROR(t):e._(),isSuccess:()=>!1,isReverted:()=>!1,isError:()=>!0}}return Object.setPrototypeOf(e,dB.prototype),Object.defineProperty(e,"constructor",{value:dB,writable:!1,enumerable:!1,configurable:!1}),e}ob({},{encodeData:()=>dK,encodeType:()=>dW,encodeValue:()=>dG,getDependencies:()=>dQ,getMessageHash:()=>dJ,getStructHash:()=>dX,getTypeHash:()=>dZ,isMerkleTreeType:()=>dq,prepareSelector:()=>dY,validateTypedData:()=>d$,verifyMessage:()=>d0}),ob({},{MerkleTree:()=>dj,proofMerklePath:()=>function t(e,r,n,i=hw){if(0===n.length)return e===r;let[a,...s]=n;return t(e,dj.hash(r,a,i),s,i)}});var dj=class t{leaves;branches=[];root;hashMethod;constructor(t,e=hw){this.hashMethod=e,this.leaves=t,this.root=this.build(t)}build(e){if(1===e.length)return e[0];e.length!==this.leaves.length&&this.branches.push(e);let r=[];for(let n=0;n<e.length;n+=2)n+1===e.length?r.push(t.hash(e[n],"0x0",this.hashMethod)):r.push(t.hash(e[n],e[n+1],this.hashMethod));return this.build(r)}static hash(t,e,r=hw){let[n,i]=[BigInt(t),BigInt(e)].sort((t,e)=>t>=e?1:-1);return r(n,i)}getProof(e,r=this.leaves,n=[]){let i=r.indexOf(e);if(-1===i)throw Error("leaf not found");if(1===r.length)return n;let a=i%2==0,s=(a?r[i+1]:r[i-1])??"0x0",o=[...n,s],c=this.leaves.length===r.length?-1:this.branches.findIndex(t=>t.length===r.length),l=this.branches[c+1]??[this.root];return this.getProof(t.hash(a?e:s,a?s:e,this.hashMethod),l,o)}},dU={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},dz={[ov.TypedDataRevision.ACTIVE]:{domain:"StarknetDomain",hashMethod:hN,hashMerkleMethod:hS,escapeTypeString:t=>`"${t}"`,presetTypes:dU},[ov.TypedDataRevision.LEGACY]:{domain:"StarkNetDomain",hashMethod:hv,hashMerkleMethod:hw,escapeTypeString:t=>t,presetTypes:{}}};function dF(t,e,{min:r,max:n}){let i=BigInt(t);cG(i>=r&&i<=n,`${i} (${e}) is out of bounds [${r}, ${n}]`)}function dV({types:t,domain:e}){return dz[ov.TypedDataRevision.ACTIVE].domain in t&&e.revision?.toString()===ov.TypedDataRevision.ACTIVE?ov.TypedDataRevision.ACTIVE:dz[ov.TypedDataRevision.LEGACY].domain in t&&(e.revision??ov.TypedDataRevision.LEGACY)===ov.TypedDataRevision.LEGACY?ov.TypedDataRevision.LEGACY:void 0}function dH(t){try{return c7(t)}catch(e){if(c2(t))return c7(lO(t));throw Error(`Invalid BigNumberish: ${t}`)}}function d$(t){return!!(t.message&&t.primaryType&&t.types&&dV(t))}function dY(t){return c3(t)?t:lw(t)}function dq(t){return"merkletree"===t.type}function dQ(t,e,r=[],n="",i=ov.TypedDataRevision.LEGACY){let a=[e];return"*"===e[e.length-1]?a=[e.slice(0,-1)]:i===ov.TypedDataRevision.ACTIVE&&("enum"===e?a=[n]:e.match(/^\(.*\)$/)&&(a=e.slice(1,-1).split(",").map(t=>"*"===t[t.length-1]?t.slice(0,-1):t))),a.filter(e=>!r.includes(e)&&t[e]).reduce((e,r)=>[...e,...[r,...t[r].reduce((e,r)=>[...e,...dQ(t,r.type,e,r.contains,i).filter(t=>!e.includes(t))],[])].filter(t=>!e.includes(t))],[])}function dW(t,e,r=ov.TypedDataRevision.LEGACY){let n=r===ov.TypedDataRevision.ACTIVE?{...t,...dz[r].presetTypes}:t,[i,...a]=dQ(n,e,void 0,void 0,r),s=i?[i,...a.sort()]:[],o=dz[r].escapeTypeString;return s.map(t=>{let e=n[t].map(t=>{let e="enum"===t.type&&r===ov.TypedDataRevision.ACTIVE?t.contains:t.type,n=e.match(/^\(.*\)$/)?`(${e.slice(1,-1).split(",").map(t=>t?o(t):t).join(",")})`:o(e);return`${o(t.name)}:${n}`});return`${o(t)}(${e})`}).join("")}function dZ(t,e,r=ov.TypedDataRevision.LEGACY){return lw(dW(t,e,r))}function dG(t,e,r,n={},i=ov.TypedDataRevision.LEGACY){if(t[e])return[e,dX(t,e,r,i)];if(dz[i].presetTypes[e])return[e,dX(dz[i].presetTypes,e,r,i)];if(e.endsWith("*")){let n=r.map(r=>dG(t,e.slice(0,-1),r,void 0,i)[1]);return[e,dz[i].hashMethod(n)]}switch(e){case"enum":if(i===ov.TypedDataRevision.ACTIVE){let[a,s]=Object.entries(r)[0],o=t[n.parent].find(t=>t.name===n.key),c=t[o.contains],l=c.find(t=>t.name===a),u=c.indexOf(l),h=l.type.slice(1,-1).split(",").map((e,r)=>e?dG(t,e,s[r],void 0,i)[1]:e);return[e,dz[i].hashMethod([u,...h])]}return[e,dH(r)];case"merkletree":{let e=function(t,e){if(e.parent&&e.key){let r=t[e.parent].find(t=>t.name===e.key);if(!dq(r))throw Error(`${e.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw Error(`Merkle tree contain property must not be an array but was given ${e.key}`);return r.contains}return"raw"}(t,n),{root:a}=new dj(r.map(r=>dG(t,e,r,void 0,i)[1]),dz[i].hashMerkleMethod);return["felt",a]}case"selector":return["felt",dY(r)];case"string":if(i===ov.TypedDataRevision.ACTIVE){let t=lL(r),n=[t.data.length,...t.data,t.pending_word,t.pending_word_len];return[e,dz[i].hashMethod(n)]}return[e,dH(r)];case"i128":if(i===ov.TypedDataRevision.ACTIVE){let t=BigInt(r);return dF(t,e,cr),[e,dH(t<0n?oK+t:t)]}return[e,dH(r)];case"timestamp":case"u128":return i===ov.TypedDataRevision.ACTIVE&&dF(r,e,o8),[e,dH(r)];case"felt":case"shortstring":return i===ov.TypedDataRevision.ACTIVE&&dF(dH(r),e,o1),[e,dH(r)];case"ClassHash":case"ContractAddress":return i===ov.TypedDataRevision.ACTIVE&&dF(r,e,o1),[e,dH(r)];case"bool":return i===ov.TypedDataRevision.ACTIVE&&cG(c0(r),`Type mismatch for ${e} ${r}`),[e,dH(r)];default:if(i===ov.TypedDataRevision.ACTIVE)throw Error(`Unsupported type: ${e}`);return[e,dH(r)]}}function dK(t,e,r,n=ov.TypedDataRevision.LEGACY){let[i,a]=(t[e]??dz[n].presetTypes[e]).reduce(([i,a],s)=>{if(void 0===r[s.name]||null===r[s.name]&&"enum"!==s.type)throw Error(`Cannot encode data: missing data for '${s.name}'`);let o=r[s.name],c={parent:e,key:s.name},[l,u]=dG(t,s.type,o,c,n);return[[...i,l],[...a,u]]},[["felt"],[dZ(t,e,n)]]);return[i,a]}function dX(t,e,r,n=ov.TypedDataRevision.LEGACY){return dz[n].hashMethod(dK(t,e,r,n)[1])}function dJ(t,e){if(!d$(t))throw Error("Typed data does not match JSON schema");let r=dV(t),{domain:n,hashMethod:i}=dz[r];return i([lO("StarkNet Message"),dX(t.types,n,t.domain,r),e,dX(t.types,t.primaryType,t.message,r)])}function d0(t,e,r,n){let i=d$(t);if(!ly(t)&&!i)throw Error("message has a wrong format.");if(i&&void 0===n)throw Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(i&&!ly(n))throw Error("accountAddress shall be a BigNumberish");let a=i?dJ(t,n):c7(t),s=Array.isArray(e)?new iA.Signature(BigInt(e[0]),BigInt(e[1])):e,o=c7(r);return iA.verify(s,a,o)}async function d1(t,e,r,n,i,a){let s,o=d$(e);if(!ly(e)&&!o)throw Error("message has a wrong format.");if(!ly(n))throw Error("accountAddress shall be a BigNumberish");let c=o?dJ(e,n):c7(e),l=a||{okResponse:[],nokResponse:["0x0","0x00"],error:["argent/invalid-signature","0x617267656e742f696e76616c69642d7369676e6174757265","is invalid, with respect to the public key","0x697320696e76616c6964","INVALID_SIG","0x494e56414c49445f534947"]};for(let e of i?[i]:["isValidSignature","is_valid_signature"])try{let i=await t.callContract({contractAddress:c7(n),entrypoint:e,calldata:u0.compile({hash:c8(c).toString(),signature:hY(r)})});if(l.nokResponse.includes(i[0].toString()))return!1;if(0===l.okResponse.length||l.okResponse.includes(i[0].toString()))return!0;throw Error("signatureVerificationResponse Error: response is not part of known responses")}catch(t){if(l.error.some(e=>t.message.includes(e)))return!1;s=t}throw Error(`Signature verification Error: ${s}`)}async function d2(t,e=t.blockIdentifier){let r=await t.getBlockWithTxHashes(e);return{l1DataGasPrice:BigInt(r.l1_data_gas_price.price_in_fri),l1GasPrice:BigInt(r.l1_gas_price.price_in_fri),l2GasPrice:BigInt(r.l2_gas_price.price_in_fri)}}var d5=class{responseParser;channel;constructor(t){if(t&&"channel"in t)this.channel=t.channel,this.responseParser="responseParser"in t?t.responseParser:new dv;else{if(t&&t.specVersion)if(hj("0.8",t.specVersion))this.channel=new cI.RpcChannel({...t,waitMode:!1});else if(hj("0.9",t.specVersion))this.channel=new d_.RpcChannel({...t,waitMode:!1});else throw Error(`unsupported channel for spec version: ${t.specVersion}`);else if(hj("0.8",cw.get("rpcVersion")))this.channel=new cI.RpcChannel({...t,waitMode:!1});else if(hj("0.9",cw.get("rpcVersion")))this.channel=new d_.RpcChannel({...t,waitMode:!1});else throw Error("unable to define spec version for channel");this.responseParser=new dv(t?.resourceBoundsOverhead)}}static async create(t){let e=new cI.RpcChannel({...t}),r=await e.getSpecVersion();if(hU(r)||cv.warn(`Using incompatible node spec version ${r}`),hj("0.8",r))return new this({...t,specVersion:cp.v0_8_1});if(hj("0.9",r))return new this({...t,specVersion:cp.v0_9_0});throw new ub(`Provided RPC node specification version ${r} is not compatible with the SDK. SDK supported RPC versions ${Object.keys(cp).toString()}`)}fetch(t,e,r=0){return this.channel.fetch(t,e,r)}async getChainId(){return this.channel.getChainId()}readSpecVersion(){return this.channel.readSpecVersion()}async getSpecVersion(){return this.channel.getSpecVersion()}setUpSpecVersion(){return this.channel.setUpSpecVersion()}async getStarknetVersion(t){return this.channel.getStarknetVersion(t)}async getNonceForAddress(t,e){return this.channel.getNonceForAddress(t,e)}async getBlock(t){return this.channel.getBlockWithTxHashes(t).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.channel.getBlockLatestAccepted()}async getBlockNumber(){return this.channel.getBlockNumber()}async getBlockWithTxHashes(t){return this.channel.getBlockWithTxHashes(t)}async getBlockWithTxs(t){return this.channel.getBlockWithTxs(t)}async waitForBlock(t=cL.LATEST,e=5e3){if(t===cL.LATEST||"pending"===t)return;let r=await this.getBlockNumber(),n=t===cL.PRE_CONFIRMED?r+1:Number(c7(t));if(n<=r)return;let{retries:i}=this.channel,a=i,s=!1;for(;!s;)if(await this.getBlockNumber()===n?s=!0:await de(e),(a-=1)<=0)throw Error(`waitForBlock() timed-out after ${i} tries.`)}async getL1GasPrice(t){return this.channel.getBlockWithTxHashes(t).then(this.responseParser.parseL1GasPriceResponse)}async getGasPrices(t=this.channel.blockIdentifier){if(this.channel instanceof d_.RpcChannel)return d2(this.channel,t);throw new ub("Unsupported method for RPC version")}async getL1MessageHash(t){let e=await this.channel.getTransactionByHash(t);cG("L1_HANDLER"===e.type,"This L2 transaction is not a L1 message.");let{calldata:r,contract_address:n,entry_point_selector:i,nonce:a}=e;return lv([r[0],n,a,i,r.length-1,...r.slice(1)])}async getBlockWithReceipts(t){return this.channel.getBlockWithReceipts(t)}getStateUpdate=this.getBlockStateUpdate;async getBlockStateUpdate(t){return this.channel.getBlockStateUpdate(t)}async getBlockTransactionsTraces(t){return this.channel.getBlockTransactionsTraces(t)}async getBlockTransactionCount(t){return this.channel.getBlockTransactionCount(t)}async getTransaction(t){return this.channel.getTransactionByHash(t)}async getTransactionByHash(t){return this.channel.getTransactionByHash(t)}async getTransactionByBlockIdAndIndex(t,e){return this.channel.getTransactionByBlockIdAndIndex(t,e)}async getTransactionReceipt(t){let e=await this.channel.getTransactionReceipt(t);return dP(this.responseParser.parseTransactionReceipt(e))}async getTransactionTrace(t){return this.channel.getTransactionTrace(t)}async getTransactionStatus(t){return this.channel.getTransactionStatus(t)}async getSimulateTransaction(t,e){return this.channel.simulateTransaction(t,e).then(t=>this.responseParser.parseSimulateTransactionResponse(t))}async waitForTransaction(t,e){return dP(await this.channel.waitForTransaction(t,e))}async fastWaitForTransaction(t,e,r,n){if(this.channel instanceof d_.RpcChannel)return await this.channel.fastWaitForTransaction(t,e,r,n);throw Error("Unsupported channel type")}async getStorageAt(t,e,r){return this.channel.getStorageAt(t,e,r)}async getClassHashAt(t,e){return this.channel.getClassHashAt(t,e)}async getClassByHash(t){return this.getClass(t)}async getClass(t,e){return this.channel.getClass(t,e).then(this.responseParser.parseContractClassResponse)}async getClassAt(t,e){return this.channel.getClassAt(t,e).then(this.responseParser.parseContractClassResponse)}async getContractVersion(t,e,{blockIdentifier:r=this.channel.blockIdentifier,compiler:n=!0}={}){let i;if(t)i=await this.getClassAt(t,r);else if(e)i=await this.getClass(e,r);else throw Error("getContractVersion require contractAddress or classHash");return h6(i)?n?{cairo:"1",compiler:ui(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getInvokeEstimateFee(t,e,r,n){return(await this.getEstimateFeeBulk([{type:ov.ETransactionType.INVOKE,...t,...e}],{blockIdentifier:r,skipValidate:n}))[0]}async getDeclareEstimateFee(t,e,r,n){return(await this.getEstimateFeeBulk([{type:ov.ETransactionType.DECLARE,...t,...e}],{blockIdentifier:r,skipValidate:n}))[0]}async getDeployAccountEstimateFee(t,e,r,n){return(await this.getEstimateFeeBulk([{type:ov.ETransactionType.DEPLOY_ACCOUNT,...t,...e}],{blockIdentifier:r,skipValidate:n}))[0]}async getEstimateFeeBulk(t,e){return this.channel.getEstimateFee(t,e).then(t=>this.responseParser.parseFeeEstimateBulkResponse(t))}async invokeFunction(t,e){return this.channel.invoke(t,e)}async declareContract(t,e){return this.channel.declare(t,e)}async deployAccountContract(t,e){return this.channel.deployAccount(t,e)}async callContract(t,e){return this.channel.callContract(t,e)}async estimateMessageFee(t,e){return this.channel.estimateMessageFee(t,e)}async getSyncingStats(){return this.channel.getSyncingStats()}async getEvents(t){if(this.channel instanceof cI.RpcChannel||this.channel instanceof d_.RpcChannel)return this.channel.getEvents(t);throw Error("Unsupported channel type")}async verifyMessageInStarknet(t,e,r,n,i){return d1(this,t,e,r,n,i)}async isClassDeclared(t,e){let r;if(!t.classHash&&"contract"in t)r=h8(t,await this.channel.getStarknetVersion()).classHash;else if(t.classHash)r=t.classHash;else throw Error("contractClassIdentifier type not satisfied");try{return await this.getClass(r,e) instanceof Object}catch(t){if(t instanceof ub)return!1;throw t}}async prepareInvocations(t){let e=[];for(let r of t)r.type===ov.ETransactionType.DECLARE?await this.isClassDeclared("payload"in r?r.payload:r)||e.unshift(r):e.push(r);return e}async getL1MessagesStatus(t){return this.channel.getMessagesStatus(t)}async getStorageProof(t,e,r,n){return this.channel.getStorageProof(t,e,r,n)}async getCompiledCasm(t){return this.channel.getCompiledCasm(t)}async getEstimateTip(t,e={}){return dR(this,t,e)}},d4={};ob(d4,{StarknetIdContract:()=>fi,StarknetIdIdentityContract:()=>fs,StarknetIdMulticallContract:()=>fc,StarknetIdPfpContract:()=>fd,StarknetIdPopContract:()=>fp,StarknetIdVerifierContract:()=>fu,dynamicCallData:()=>fb,dynamicFelt:()=>fm,execution:()=>fy,getStarknetIdContract:()=>fa,getStarknetIdIdentityContract:()=>fo,getStarknetIdMulticallContract:()=>fl,getStarknetIdPfpContract:()=>ff,getStarknetIdPopContract:()=>fg,getStarknetIdVerifierContract:()=>fh,isStarkDomain:()=>f_,useDecoded:()=>fr,useEncoded:()=>fn});var d3="abcdefghijklmnopqrstuvwxyz0123456789-",d6=BigInt(d3.length+1),d8="",d9=BigInt(d3.length),d7=BigInt(d8.length),ft=BigInt(d8.length+1);function fe(t){let e=0;for(;t.endsWith(d8[d8.length-1]);)t=t.substring(0,t.length-1),e+=1;return[t,e]}function fr(t){let e="";return(t.forEach(t=>{for(;t!==oQ;){let r=t%d6;if(t/=d6,r===BigInt(d3.length)){let r=t/ft;if(r===oQ){let n=t%ft;t=r,n===oQ?e+=d3[0]:e+=d8[Number(n)-1]}else e+=d8[Number(t%d7)],t/=d7}else e+=d3[Number(r)]}let[r,n]=fe(e);n&&(e=r+(n%2==0?d8[d8.length-1].repeat(n/2-1)+d8[0]+d3[1]:d8[d8.length-1].repeat((n-1)/2+1))),e+="."}),e)?e.concat("stark"):e}function fn(t){let e=BigInt(0),r=BigInt(1);if(t.endsWith(d8[0]+d3[1])){let[e,r]=fe(t.substring(0,t.length-2));t=e+d8[d8.length-1].repeat(2*(r+1))}else{let[e,r]=fe(t);r&&(t=e+d8[d8.length-1].repeat(1+2*(r-1)))}for(let n=0;n<t.length;n+=1){let i=t[n],a=d3.indexOf(i),s=BigInt(d3.indexOf(i));-1!==a?n===t.length-1&&t[n]===d3[0]?(e+=r*d9,r*=d6*d6):(e+=r*s,r*=d6):-1!==d8.indexOf(i)&&(e+=r*d9,r*=d6,e+=r*BigInt(+(n===t.length-1)+d8.indexOf(i)),r*=d7)}return e}var fi={MAINNET:"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",TESTNET_SEPOLIA:"0x154bc2e1af9260b9e66af0e9c46fc757ff893b3ff6a85718a810baf1474"};function fa(t){switch(t){case cd.SN_MAIN:return fi.MAINNET;case cd.SN_SEPOLIA:return fi.TESTNET_SEPOLIA;default:throw Error("Starknet.id is not yet deployed on this network")}}var fs={MAINNET:"0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af",TESTNET_SEPOLIA:"0x3697660a0981d734780731949ecb2b4a38d6a58fc41629ed611e8defda"};function fo(t){switch(t){case cd.SN_MAIN:return fs.MAINNET;case cd.SN_SEPOLIA:return fs.TESTNET_SEPOLIA;default:throw Error("Starknet.id verifier contract is not yet deployed on this network")}}var fc="0x034ffb8f4452df7a613a0210824d6414dbadcddce6c6e19bf4ddc9e22ce5f970";function fl(t){switch(t){case cd.SN_MAIN:case cd.SN_SEPOLIA:return fc;default:throw Error("Starknet.id multicall contract is not yet deployed on this network")}}var fu={MAINNET:"0x07d14dfd8ee95b41fce179170d88ba1f0d5a512e13aeb232f19cfeec0a88f8bf",TESTNET_SEPOLIA:"0x60B94fEDe525f815AE5E8377A463e121C787cCCf3a36358Aa9B18c12c4D566"};function fh(t){switch(t){case cd.SN_MAIN:return fu.MAINNET;case cd.SN_SEPOLIA:return fu.TESTNET_SEPOLIA;default:throw Error("Starknet.id verifier contract is not yet deployed on this network")}}var fd={MAINNET:"0x070aaa20ec4a46da57c932d9fd89ca5e6bb9ca3188d3df361a32306aff7d59c7",TESTNET_SEPOLIA:"0x9e7bdb8dabd02ea8cfc23b1d1c5278e46490f193f87516ed5ff2dfec02"};function ff(t){switch(t){case cd.SN_MAIN:return fd.MAINNET;case cd.SN_SEPOLIA:return fd.TESTNET_SEPOLIA;default:throw Error("Starknet.id profile picture verifier contract is not yet deployed on this network")}}var fp={MAINNET:"0x0293eb2ba9862f762bd3036586d5755a782bd22e6f5028320f1d0405fd47bff4",TESTNET_SEPOLIA:"0x15ae88ae054caa74090b89025c1595683f12edf7a4ed2ad0274de3e1d4a"};function fg(t){switch(t){case cd.SN_MAIN:return fp.MAINNET;case cd.SN_SEPOLIA:return fp.TESTNET_SEPOLIA;default:throw Error("Starknet.id proof of personhood verifier contract is not yet deployed on this network")}}function fy(t,e,r){return new ul({Static:t,IfEqual:e?uo(e[0],e[1],e[2]):void 0,IfNotEqual:r?uo(r[0],r[1],r[2]):void 0})}function fm(t,e){return new ul({Hardcoded:t,Reference:e?uo(e[0],e[1]):void 0})}function fb(t,e,r){return new ul({Hardcoded:t,Reference:e?uo(e[0],e[1]):void 0,ArrayReference:r?uo(r[0],r[1]):void 0})}function f_(t){return/^(?:[a-z0-9-]{1,48}(?:[a-z0-9-]{1,48}[a-z0-9-])?\.)*[a-z0-9-]{1,48}\.stark$/.test(t)}var fw=class t{async getStarkName(e,r){return t.getStarkName(this,e,r)}async getAddressFromStarkName(e,r){return t.getAddressFromStarkName(this,e,r)}async getStarkProfile(e,r,n,i,a,s,o){return t.getStarkProfile(this,e,r,n,i,a,s,o)}static async getStarkName(t,e,r){let n=await t.getChainId(),i=r??fa(n);try{let r=(await t.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:u0.compile({address:e,hint:[]})})).map(t=>BigInt(t)).slice(1),n=fr(r);if(!n)throw Error("Starkname not found");return n}catch(t){if(t instanceof Error&&"Starkname not found"===t.message)throw t;throw Error("Could not get stark name")}}static async getAddressFromStarkName(t,e,r){let n=e.endsWith(".stark")?e:`${e}.stark`;if(!f_(n))throw Error("Invalid domain, must be a valid .stark domain");let i=await t.getChainId(),a=r??fa(i);try{let e=n.replace(".stark","").split(".").map(t=>fn(t).toString(10));return(await t.callContract({contractAddress:a,entrypoint:"domain_to_address",calldata:u0.compile({domain:e,hint:[]})}))[0]}catch{throw Error("Could not get address from stark name")}}static async getStarkProfile(t,e,r,n,i,a,s,o){let c=await t.getChainId(),l=r??fa(c),u=n??fo(c),h=i??fh(c),d=a??ff(c),f=s??fg(c),p=o??fl(c);try{let r=[{execution:fy({}),to:fb(l),selector:fb(lw("address_to_domain")),calldata:[fb(e),fb("0")]},{execution:fy({}),to:fm(l),selector:fm(lw("domain_to_id")),calldata:[fb(void 0,void 0,[0,0])]},{execution:fy({}),to:fm(u),selector:fm(lw("get_verifier_data")),calldata:[fb(void 0,[1,0]),fb(lO("twitter")),fb(h),fb("0")]},{execution:fy({}),to:fm(u),selector:fm(lw("get_verifier_data")),calldata:[fb(void 0,[1,0]),fb(lO("github")),fb(h),fb("0")]},{execution:fy({}),to:fm(u),selector:fm(lw("get_verifier_data")),calldata:[fb(void 0,[1,0]),fb(lO("discord")),fb(h),fb("0")]},{execution:fy({}),to:fm(u),selector:fm(lw("get_verifier_data")),calldata:[fb(void 0,[1,0]),fb(lO("proof_of_personhood")),fb(f),fb("0")]},{execution:fy({}),to:fm(u),selector:fm(lw("get_verifier_data")),calldata:[fb(void 0,[1,0]),fb(lO("nft_pp_contract")),fb(d),fb("0")]},{execution:fy({}),to:fm(u),selector:fm(lw("get_extended_verifier_data")),calldata:[fb(void 0,[1,0]),fb(lO("nft_pp_id")),fb("2"),fb(d),fb("0")]},{execution:fy(void 0,void 0,[6,0,0]),to:fm(void 0,[6,0]),selector:fm(lw("tokenURI")),calldata:[fb(void 0,[7,1]),fb(void 0,[7,2])]}],n=await t.callContract({contractAddress:p,entrypoint:"aggregate",calldata:u0.compile({calls:r})});if(Array.isArray(n)){let t=parseInt(n[0],16),e=[],r=1;for(let i=0;i<t;i+=1)if(r<n.length){let t=parseInt(n[r],16);r+=1;let i=n.slice(r,r+t);e.push(i),r+=t}else break;let i=fr(e[0].slice(1).map(t=>BigInt(t))),a="0x0"!==e[2][0]?BigInt(e[2][0]).toString():void 0,s="0x0"!==e[3][0]?BigInt(e[3][0]).toString():void 0,o="0x0"!==e[4][0]?BigInt(e[4][0]).toString():void 0,c="0x1"===e[5][0],l=("0x9"===n[0]?e[8].slice(1).map(t=>lR(t)).join(""):void 0)||`https://starknet.id/api/identicons/${BigInt(e[1][0]).toString()}`;return{name:i,twitter:a,github:s,discord:o,proofOfPersonhood:c,profilePicture:l}}throw Error("Error while calling aggregate function")}catch(t){if(t instanceof Error)throw t;throw Error("Could not get user stark profile data from address")}}};function fE(t){return fn(t.endsWith(".brother")?t.replace(".brother",""):t)}function fv(t){let e=fr([t]);return e.endsWith(".stark")?e.replace(".stark",".brother"):e?`${e}.brother`:e}function fI(t){return cd.SN_MAIN,"0x0212f1c57700f5a3913dd11efba540196aad4cf67772f7090c62709dd804fa74"}var fA=class t{async getBrotherName(e,r){return t.getBrotherName(this,e,r)}async getAddressFromBrotherName(e,r){return t.getAddressFromBrotherName(this,e,r)}async getBrotherProfile(e,r){return t.getBrotherProfile(this,e,r)}static async getBrotherName(t,e,r){let n=await t.getChainId(),i=r??fI(n);try{let r=await t.callContract({contractAddress:i,entrypoint:"getPrimary",calldata:u0.compile({user:e})});if(!r[0]||"0x0"===r[0])throw Error("Brother name not found");let n=BigInt(r[0]);return fv(n)}catch(t){if(t instanceof Error&&"Brother name not found"===t.message)throw t;throw Error("Could not get brother name")}}static async getAddressFromBrotherName(t,e,r){let n=e.endsWith(".brother")?e:`${e}.brother`;if(!n.endsWith(".brother"))throw Error("Invalid domain, must be a valid .brother domain");let i=await t.getChainId(),a=r??fI(i);try{let e=await t.callContract({contractAddress:a,entrypoint:"get_details_by_domain",calldata:u0.compile({domain:fE(n)})});if(!e[0]||"0x0"===e[1])throw Error("Could not get address from brother name");return e[1]}catch{throw Error("Could not get address from brother name")}}static async getBrotherProfile(t,e,r){let n=await t.getChainId(),i=r??fI(n);try{let r=await t.callContract({contractAddress:i,entrypoint:"getPrimary",calldata:u0.compile({user:e})});if(!r[0]||"0x0"===r[0])throw Error("Brother profile not found");let n=BigInt(r[0]),a=fv(n).replace(".brother",""),s=await t.callContract({contractAddress:i,entrypoint:"get_details_by_domain",calldata:u0.compile({domain:fE(a)})});return{name:a,resolver:s[1],tokenId:s[2],expiryDate:parseInt(s[3],16),lastTransferTime:parseInt(s[4],16)}}catch(t){if(t instanceof Error&&"Brother profile not found"===t.message)throw t;throw Error("Could not get brother profile")}}},fT=class extends od(d5,fw,fA){},fS=new d5({default:!0}),fN=class{pk;constructor(t=iA.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?ok(t):c7(t)}async getPubKey(){return iA.getStarkKey(this.pk)}async signMessage(t,e){let r=dJ(t,e);return this.signRaw(r)}async signTransaction(t,e){let r,n=dg(t,e.cairoVersion);if(Object.values(ov.ETransactionVersion3).includes(e.version))r=hd({...e,senderAddress:e.walletAddress,compiledCalldata:n,version:e.version,nonceDataAvailabilityMode:hJ(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:hJ(e.feeDataAvailabilityMode)});else throw Error("unsupported signTransaction version");return this.signRaw(r)}async signDeployAccountTransaction(t){let e,r=u0.compile(t.constructorCalldata);if(Object.values(ov.ETransactionVersion3).includes(t.version))e=hp({...t,salt:t.addressSalt,compiledConstructorCalldata:r,version:t.version,nonceDataAvailabilityMode:hJ(t.nonceDataAvailabilityMode),feeDataAvailabilityMode:hJ(t.feeDataAvailabilityMode)});else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(e)}async signDeclareTransaction(t){let e;if(Object.values(ov.ETransactionVersion3).includes(t.version))e=hf({...t,version:t.version,nonceDataAvailabilityMode:hJ(t.nonceDataAvailabilityMode),feeDataAvailabilityMode:hJ(t.feeDataAvailabilityMode)});else throw Error("unsupported signDeclareTransaction version");return this.signRaw(e)}async signRaw(t){return iA.sign(t,this.pk)}};function fx(t){return new lH(t).toBigInt()}function fC(t){return lH.is(t)}function fD(t){return new lH(t).toUint256HexString()}function fM(t){let e,r=(e=oO(c7(c2(t)?oR(t):t)).padStart(64,"0"),oR(e));if(!r.match(/^(0x)?[0-9a-fA-F]{64}$/))throw Error("Invalid Address Format");return la(r,oQ,oJ-1n,"Starknet Address"),r}function fk(t){return"calldata_len"in t?{To:t.to,Selector:t.selector,Calldata:t.calldata}:t}function fO(t){let e=t.calldata??[],r=Array.isArray(e)?e:u0.compile(e);return{to:t.contractAddress,selector:lw(t.entrypoint),calldata:r}}function fR(t,e){let r=fO(t);return"1"===e?{...r,calldata_len:r.calldata.length,calldata:r.calldata}:{To:r.to,Selector:r.selector,Calldata:r.calldata}}function fB(t,e){return{name:"Account.execute_from_outside",version:e,chainId:t,..."2"===e?{revision:"1"}:{}}}function fL(t,e,r,n,i){return"1"===i?{types:cH,primaryType:"OutsideExecution",domain:fB(t,i),message:{...e,nonce:r,calls_len:n.length,calls:n.map(t=>fR(t,i))}}:{types:c$,primaryType:"OutsideExecution",domain:fB(t,i),message:{Caller:e.caller,Nonce:r,"Execute After":e.execute_after,"Execute Before":e.execute_before,Calls:n.map(t=>fR(t,i))}}}function fP(t){let e=t.outsideExecution,r=hY(t.signature);return u0.compile({outside_execution:e,signature:r})}function fj(t){return(Array.isArray(t)?t:[t]).map(t=>{let e;if("1"===t.version)e="execute_from_outside";else if("2"===t.version)e="execute_from_outside_v2";else throw Error("Unsupported OutsideExecution version");return{contractAddress:c7(t.signerAddress),entrypoint:e,calldata:fP(t)}})}async function fU(t,e,r){let n={contractAddress:c7(e),entrypoint:"supports_interface",calldata:[c7(r)]};try{let e=await t.callContract(n);return 0n!==BigInt(e[0])}catch{return!1}}ob({},{bnToUint256:()=>fD,isUint256:()=>fC,uint256ToBN:()=>fx}),ob({},{buildExecuteFromOutsideCall:()=>fj,buildExecuteFromOutsideCallData:()=>fP,getOutsideCall:()=>fO,getTypedData:()=>fL,toOutsideCallV2:()=>fk}),ob({},{supportsInterface:()=>fU}),ob({},{assertCallsAreStrictlyEqual:()=>fF,assertPaymasterTransactionSafety:()=>fV,getDefaultPaymasterNodeUrl:()=>fz});var fz=(t,e=!1)=>{e||cv.info("Using default public node url, please provide nodeUrl in provider options!");let r=cm[t??ch.SN_SEPOLIA],n=Math.floor(Math.random()*r.length);return r[n]};function fF(t,e){let r="Provided calls are not strictly equal to the returned calls";cG(e.length-1===t.length,`${r}: Expected ${t.length+1} calls, got ${e.length}`);for(let n=0;n<t.length;n+=1){let i=t[n],a=fk(e[n]),s=t=>c8(t).toString(16).toLowerCase();cG(s(i.contractAddress)===s(a.To),`${r}: Contract address mismatch at call ${n}. Expected: ${i.contractAddress}, Got: ${a.To}`),cG(lw(i.entrypoint)===a.Selector,`${r}: Entrypoint mismatch at call ${n}. Expected: ${i.entrypoint}, Got: ${a.Selector}`);let o=u0.toCalldata(i.calldata),c=u0.toCalldata(a.Calldata);cG(o.length===c.length,`${r}: Calldata length mismatch at call ${n}. Expected length: ${o.length}, Got length: ${c.length}`);for(let t=0;t<o.length;t+=1)cG(BigInt(o[t])===BigInt(c[t]),`${r}: Calldata value mismatch at call ${n}, parameter ${t}. Expected: ${o[t]}, Got: ${c[t]}`)}}var fV=(t,e,r,n)=>{if("sponsored"!==r.feeMode.mode&&("invoke"===t.type||"deploy_and_invoke"===t.type)){var i,a;let s="calls"in t.typed_data.message?t.typed_data.message.calls:t.typed_data.message.Calls;if(fF(e,s),i=r.feeMode.gasToken,cG(BigInt(fk(s[s.length-1]).To)===BigInt(i),"Gas token address is not equal to the provided gas token"),n){let e;cG(t.fee.suggested_max_fee_in_gas_token<=n,"Gas token price is too high"),a=t.fee.suggested_max_fee_in_gas_token,e=fk(s[s.length-1]),cG(BigInt(u0.toCalldata(e.Calldata)[1])===BigInt(a),"Gas token value is not equal to the provided gas fees")}}},fH=t=>"sponsored"===t.mode?{mode:"sponsored"}:{mode:"default",gas_token:t.gasToken},f$=t=>t?{execute_after:t.executeAfter||1,execute_before:t.executeBefore}:void 0,fY=t=>{var e;let r;return{version:t.version,feeMode:"sponsored"===(e=t.fee_mode).mode?{mode:"sponsored"}:{mode:"default",gasToken:e.gas_token},timeBounds:(r=t.time_bounds)?{executeAfter:r.execute_after,executeBefore:r.execute_before}:void 0}},fq={"Content-Type":"application/json"},fQ=class t{nodeUrl;headers;baseFetch;requestId;constructor(e){if(e instanceof t){this.nodeUrl=e.nodeUrl,this.headers={...fq,...e.headers},this.baseFetch=e.baseFetch,this.requestId=e.requestId;return}if(e&&"nodeUrl"in e&&"headers"in e&&"baseFetch"in e){this.nodeUrl=e.nodeUrl??fz(void 0),this.headers={...fq,...e.headers},this.baseFetch=e.baseFetch??dt,this.requestId=0;return}const{nodeUrl:r,headers:n,baseFetch:i}=e||{};r&&Object.values(ch).includes(r)?this.nodeUrl=fz(r,e?.default):r?this.nodeUrl=r:this.nodeUrl=fz(void 0,e?.default),this.baseFetch=i??dt,this.headers={...fq,...n},this.requestId=0}fetch(t,e,r=0){let n={id:r,jsonrpc:"2.0",method:t,...e&&{params:e}};return this.baseFetch(this.nodeUrl,{method:"POST",body:cW(n),headers:this.headers})}errorHandler(t,e,r,n){if(r)throw new u_(r,t,e);if(n instanceof ub)throw n;if(n)throw Error(n.message)}async fetchEndpoint(t,e){try{this.requestId+=1;let r=await this.fetch(t,e,this.requestId),{error:n,result:i}=await r.json();return this.errorHandler(t,e,n),i}catch(r){throw this.errorHandler(t,e,r?.response?.data,r),r}}async isAvailable(){return this.fetchEndpoint("paymaster_isAvailable")}async buildTransaction(t,e){let r;switch(t.type){case"invoke":case"deploy_and_invoke":r={...t,invoke:{user_address:t.invoke.userAddress,calls:t.invoke.calls.map(t=>({to:t.contractAddress,selector:lw(t.entrypoint),calldata:u0.toHex(t.calldata)}))}};break;default:r=t}let n={version:e.version,fee_mode:fH(e.feeMode),time_bounds:f$(e.timeBounds)},i=await this.fetchEndpoint("paymaster_buildTransaction",{transaction:r,parameters:n}),a={gas_token_price_in_strk:BigInt(i.fee.gas_token_price_in_strk),estimated_fee_in_strk:BigInt(i.fee.estimated_fee_in_strk),estimated_fee_in_gas_token:BigInt(i.fee.estimated_fee_in_gas_token),suggested_max_fee_in_strk:BigInt(i.fee.suggested_max_fee_in_strk),suggested_max_fee_in_gas_token:BigInt(i.fee.suggested_max_fee_in_gas_token)};switch(i.type){case"invoke":return{type:"invoke",typed_data:i.typed_data,parameters:fY(i.parameters),fee:a};case"deploy_and_invoke":return{type:"deploy_and_invoke",deployment:i.deployment,typed_data:i.typed_data,parameters:fY(i.parameters),fee:a};default:return{type:"deploy",deployment:i.deployment,parameters:fY(i.parameters),fee:a}}}async executeTransaction(t,e){let r;switch(t.type){case"invoke":case"deploy_and_invoke":r={...t,invoke:{user_address:t.invoke.userAddress,typed_data:t.invoke.typedData,signature:hQ(t.invoke.signature)}};break;default:r=t}let n={version:e.version,fee_mode:fH(e.feeMode),time_bounds:f$(e.timeBounds)};return this.fetchEndpoint("paymaster_executeTransaction",{transaction:r,parameters:n})}async getSupportedTokens(){return this.fetchEndpoint("paymaster_getSupportedTokens").then(t=>t.map(t=>({token_address:t.token_address,decimals:t.decimals,priceInStrk:BigInt(t.price_in_strk)})))}},fW=new fQ({default:!0}),fZ=class{address;entryPoint;constructor(t,e){this.address=t??ci.ADDRESS,this.entryPoint=e??ci.ENTRYPOINT}buildDeployerCall(t,e){let r=[].concat(t).map(t=>{let{classHash:r,salt:n,unique:i=!0,constructorCalldata:a=[],abi:s}=t,o=dh(a,()=>{if(s){let t=new u0(s),e=Object.values(a);return t.validate(cP,"constructor",e),t.compile("constructor",e)}return u0.compile(a)}),c=n??h$();return{call:{contractAddress:c7(this.address),entrypoint:this.entryPoint,calldata:[r,c,ld(i),o.length,...o]},address:hI(i?iA.pedersen(e,c):c,r,o,i?this.address:0)}});return{calls:r.map(t=>t.call),addresses:r.map(t=>t.address)}}parseDeployerEvent(t){if(!t.events?.length)throw Error("Deployer emitted event is empty");let e=t.events.find(t=>c7(t.from_address)===c7(this.address))||{data:[]};return{transaction_hash:t.transaction_hash,contract_address:e.data[0],address:e.data[0],deployer:e.data[1],unique:e.data[2],classHash:e.data[3],calldata_len:e.data[4],calldata:e.data.slice(5,5+parseInt(e.data[4],16)),salt:e.data[e.data.length-1]}}},fG=new fZ(ci.ADDRESS,ci.ENTRYPOINT);new fZ(cn.ADDRESS,cn.ENTRYPOINT);var fK=class extends fT{signer;address;cairoVersion;transactionVersion;paymaster;deployer;defaultTipType;constructor(t){const{provider:e,address:r,signer:n,cairoVersion:i,transactionVersion:a,paymaster:s,defaultTipType:o}=t;super(e),this.address=r.toLowerCase(),this.signer=c2(n)||n instanceof Uint8Array?new fN(n):n,i&&(this.cairoVersion=i.toString()),this.transactionVersion=a??cw.get("transactionVersion"),this.paymaster=s?new fQ(s):fW,this.deployer=t.deployer??fG,this.defaultTipType=o??cw.get("defaultTipType"),cv.debug("Account setup",{transactionVersion:this.transactionVersion,cairoVersion:this.cairoVersion,channel:this.channel.id})}static async create(){throw new ub("Not supported")}async getNonce(t){return super.getNonceForAddress(this.address,t)}async getNonceSafe(t){try{return c8(t??await this.getNonce())}catch(t){return 0n}}async getCairoVersion(t){if(!this.cairoVersion){let{cairo:e}=t?await super.getContractVersion(void 0,t):await super.getContractVersion(this.address);this.cairoVersion=e}return this.cairoVersion}async estimateInvokeFee(t,e={}){let r=[{type:ov.ETransactionType.INVOKE,payload:[t].flat()}];return(await this.estimateFeeBulk(r,e))[0]}async estimateDeclareFee(t,e={}){cG(h6(t.contract),"Declare fee estimation is not supported for Cairo0 contracts");let r=[{type:ov.ETransactionType.DECLARE,payload:h8(t,await this.channel.getStarknetVersion())}];return(await this.estimateFeeBulk(r,e))[0]}async estimateAccountDeployFee({classHash:t,addressSalt:e=0,constructorCalldata:r=[],contractAddress:n},i={}){let a=u0.compile(r),s=n??hI(e,t,a,0),o=[{type:ov.ETransactionType.DEPLOY_ACCOUNT,payload:{classHash:t,constructorCalldata:a,addressSalt:e,contractAddress:s}}];return(await this.estimateFeeBulk(o,i))[0]}async estimateDeployFee(t,e={}){let{calls:r}=this.deployer.buildDeployerCall(t,this.address);return this.estimateInvokeFee(r,e)}async estimateFeeBulk(t,e={}){if(!t.length)throw TypeError("Invocations should be non-empty array");if(e.resourceBounds)return[hG(e.resourceBounds)];let{nonce:r,blockIdentifier:n,version:i,skipValidate:a}=e,s=await this.resolveDetailsWithTip(e),o=await this.accountInvocationsFactory(t,{...h2(s),versions:[h0(h1(this.transactionVersion)||cS.F3,i)],nonce:r,blockIdentifier:n,skipValidate:a});return super.getEstimateFeeBulk(o,{blockIdentifier:n,skipValidate:a})}async simulateTransaction(t,e={}){if(!t.length)throw TypeError("Invocations should be non-empty array");let{nonce:r,blockIdentifier:n,skipValidate:i=!0,skipExecute:a,version:s}=e,o=await this.resolveDetailsWithTip(e),c=await this.accountInvocationsFactory(t,{...h2(o),versions:[this.resolveTransactionVersion(s)],nonce:r,blockIdentifier:n,skipValidate:i});return super.getSimulateTransaction(c,{blockIdentifier:n,skipValidate:i,skipExecute:a})}async execute(t,e={}){let r=[t].flat(),n=await this.resolveDetailsWithTip(e),{resourceBounds:i}=e,a=i;a||(a=(await this.estimateInvokeFee(r,n)).resourceBounds);let s=(await this.accountInvocationsFactory([{type:ov.ETransactionType.INVOKE,payload:r}],{...h2(n),resourceBounds:a,versions:[this.resolveTransactionVersion(e.version)],nonce:e.nonce,skipValidate:!1}))[0];return this.invokeFunction({contractAddress:s.contractAddress,calldata:s.calldata,signature:s.signature},{...h2(n),resourceBounds:s.resourceBounds,nonce:s.nonce,version:s.version})}async fastExecute(t,e={},r={}){cG(this.channel instanceof d_.RpcChannel,"Wrong Rpc version in Provider. At least Rpc v0.9 required."),cG(this.channel.blockIdentifier===cL.PRE_CONFIRMED,"Provider needs to be initialized with `pre_confirmed` blockIdentifier option.");let n=BigInt(e.nonce??await this.getNonceForAddress(this.address,cL.PRE_CONFIRMED)),i={...e,nonce:n},a=await this.execute(t,i),s=await this.fastWaitForTransaction(a.transaction_hash,this.address,n,r);return{txResult:a,isReady:s}}async declareIfNot(t,e={}){let r=h8(t,await this.channel.getStarknetVersion());try{await this.getClassByHash(r.classHash)}catch(r){return this.declare(t,e)}return{transaction_hash:"",class_hash:r.classHash}}async declare(t,e={}){cG(h6(t.contract),cb.declareNonSierra);let r=h8(t,await this.channel.getStarknetVersion()),n=await this.resolveDetailsWithTip(e),{resourceBounds:i}=e,a=i;a||(a=(await this.estimateDeclareFee(t,n)).resourceBounds);let s=(await this.accountInvocationsFactory([{type:ov.ETransactionType.DECLARE,payload:r}],{...h2(n),resourceBounds:a,versions:[this.resolveTransactionVersion(e.version)],nonce:e.nonce,skipValidate:!1}))[0];return super.declareContract({senderAddress:s.senderAddress,signature:s.signature,contract:s.contract,compiledClassHash:s.compiledClassHash},{...h2(n),nonce:s.nonce,resourceBounds:s.resourceBounds,version:s.version})}async deploy(t,e={}){let{calls:r,addresses:n}=this.deployer.buildDeployerCall(t,this.address);return{...await this.execute(r,e),contract_address:n}}async deployContract(t,e={}){let r=await this.deploy(t,e),n=await this.waitForTransaction(r.transaction_hash,e);return this.deployer.parseDeployerEvent(n)}async declareAndDeploy(t,e={}){let r=await this.declareIfNot(t,e);if(""!==r.transaction_hash){let t=await this.waitForTransaction(r.transaction_hash,e);r={...r,...t}}let n=await this.deployContract({...t,classHash:r.class_hash},e);return{declare:{...r},deploy:n}}deploySelf=this.deployAccount;async deployAccount({classHash:t,constructorCalldata:e=[],addressSalt:r=0,contractAddress:n},i={}){let a=u0.compile(e),s=n??hI(r,t,a,0),o=await this.resolveDetailsWithTip(i),{resourceBounds:c}=i,l=c;l||(l=(await this.estimateAccountDeployFee({classHash:t,constructorCalldata:e,addressSalt:r,contractAddress:s},o)).resourceBounds);let u=(await this.accountInvocationsFactory([{type:ov.ETransactionType.DEPLOY_ACCOUNT,payload:{classHash:t,constructorCalldata:a,addressSalt:r,contractAddress:s}}],{...h2(o),resourceBounds:l,versions:[this.resolveTransactionVersion(i.version)],nonce:oQ,skipValidate:!1}))[0];return super.deployAccountContract({classHash:u.classHash,addressSalt:u.addressSalt,constructorCalldata:u.constructorCalldata,signature:u.signature},{...h2(o),nonce:u.nonce,resourceBounds:u.resourceBounds,version:u.version})}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return dJ(t,this.address)}async getSnip9Version(){return await fU(this,this.address,co)?"2":await fU(this,this.address,cs)?"1":"0"}async isValidSnip9Nonce(t){try{let e={contractAddress:this.address,entrypoint:"is_valid_outside_execution_nonce",calldata:[c7(t)]},r=await this.callContract(e);return 0n!==BigInt(r[0])}catch(t){throw Error(`Failed to check if nonce is valid: ${t}`)}}async getSnip9Nonce(){let t=h$();return await this.isValidSnip9Nonce(t)?t:this.getSnip9Nonce()}async getOutsideTransaction(t,e,r,n){if(!c3(t.caller)&&"ANY_CALLER"!==t.caller)throw Error(`The caller ${t.caller} is not valid.`);let i=c3(t.caller)?t.caller:ca,a=[e].flat(),s=r??await this.getSnip9Version();if(!s)throw Error("This account is not handling outside transactions.");let o=n?c7(n):await this.getSnip9Nonce(),c=fL(await this.getChainId(),{caller:i,execute_after:t.execute_after,execute_before:t.execute_before},o,a,s),l=await this.signMessage(c);return{outsideExecution:{caller:i,nonce:o,execute_after:t.execute_after,execute_before:t.execute_before,calls:a.map(fO)},signature:l,signerAddress:this.address,version:s}}async executeFromOutside(t,e){let r=fj(t);return this.execute(r,e)}async resolveDetailsWithTip(t){return{...t,tip:t.tip??(await this.getEstimateTip())[this.defaultTipType]}}resolveTransactionVersion(t){return h0(this.transactionVersion||cS.V3,t)}async buildInvocation(t,e){let r=dg(t,await this.getCairoVersion()),n=e.skipValidate?[]:await this.signer.signTransaction(t,e);return{...h2(e),contractAddress:this.address,calldata:r,signature:n}}async buildDeclarePayload(t,e){let{classHash:r,contract:n,compiledClassHash:i}=h8(t,await this.channel.getStarknetVersion()),a=dn(n);cG(!cX(i)&&(e.version===cS.F3||e.version===cS.V3),"V3 Transaction work with Cairo1 Contracts and require compiledClassHash");let s=e.skipValidate?[]:await this.signer.signDeclareTransaction({...e,...h2(e),classHash:r,compiledClassHash:i,senderAddress:e.walletAddress});return{senderAddress:e.walletAddress,signature:s,contract:a,compiledClassHash:i}}async buildAccountDeployPayload({classHash:t,addressSalt:e=0,constructorCalldata:r=[],contractAddress:n},i){let a=u0.compile(r),s=n??hI(e,t,a,0),o=i.skipValidate?[]:await this.signer.signDeployAccountTransaction({...i,...h2(i),classHash:t,contractAddress:s,addressSalt:e,constructorCalldata:a});return{...h2(i),classHash:t,addressSalt:e,constructorCalldata:a,signature:o}}async accountInvocationsFactory(t,e){let{nonce:r,blockIdentifier:n,skipValidate:i=!0}=e,a=await this.getNonceSafe(r),s=await this.getChainId(),o=e.versions.map(t=>h0(t)),c="payload"in t[0]?t[0].payload:t[0],l=t[0].type===ov.ETransactionType.DEPLOY_ACCOUNT?await this.getCairoVersion(c.classHash):await this.getCairoVersion();return Promise.all([].concat(t).map(async(t,r)=>{let c="payload"in t?t.payload:t,u={...h2(e),walletAddress:this.address,nonce:c8(Number(a)+r),chainId:s,cairoVersion:l,version:o[0],skipValidate:i},h={type:t.type,nonce:c8(Number(a)+r),blockIdentifier:n,version:o[0]};if(t.type===ov.ETransactionType.INVOKE){let t=await this.buildInvocation([].concat(c),u);return{...h,...t,...u}}if(t.type===ov.ETransactionType.DEPLOY){let{calls:t}=this.deployer.buildDeployerCall(c,this.address),e=await this.buildInvocation(t,u);return{...h,...e,...u,type:ov.ETransactionType.INVOKE}}if(t.type===ov.ETransactionType.DECLARE){cG(h6(c.contract),"Declare fee estimation is not supported for Cairo0 contracts");let t=await this.buildDeclarePayload(c,u);return{...h,...t,...u}}if(t.type===ov.ETransactionType.DEPLOY_ACCOUNT){let t=await this.buildAccountDeployPayload(c,u);return{...h,...t,...u}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${t}`)}))}async buildPaymasterTransaction(t,e){let r;if(!e.deploymentData&&await this.getSnip9Version()==="0")throw Error("Account is not compatible with SNIP-9");let n={version:"0x1",feeMode:e.feeMode,timeBounds:e.timeBounds};return r=e.deploymentData?t.length>0?{type:"deploy_and_invoke",invoke:{userAddress:this.address,calls:t},deployment:e.deploymentData}:{type:"deploy",deployment:e.deploymentData}:{type:"invoke",invoke:{userAddress:this.address,calls:t}},this.paymaster.buildTransaction(r,n)}async estimatePaymasterTransactionFee(t,e){return(await this.buildPaymasterTransaction(t,e)).fee}async preparePaymasterTransaction(t){let e;switch(t.type){case"deploy_and_invoke":{let r=await this.signMessage(t.typed_data);e={type:"deploy_and_invoke",invoke:{userAddress:this.address,typedData:t.typed_data,signature:hQ(r)},deployment:t.deployment};break}case"invoke":{let r=await this.signMessage(t.typed_data);e={type:"invoke",invoke:{userAddress:this.address,typedData:t.typed_data,signature:hQ(r)}};break}case"deploy":e={type:"deploy",deployment:t.deployment};break;default:throw Error("Invalid transaction type")}return e}async executePaymasterTransaction(t,e,r){let n=await this.buildPaymasterTransaction(t,e);fV(n,t,e,r);let i=await this.preparePaymasterTransaction(n);return this.paymaster.executeTransaction(i,n.parameters).then(t=>({transaction_hash:t.transaction_hash}))}async getStarkName(t=this.address,e){return super.getStarkName(t,e)}};function fX(t,e=!1){return t.request({type:"wallet_requestAccounts",params:{silent_mode:e}})}function fJ(t){return t.request({type:"wallet_getPermissions"})}function f0(t,e){return t.request({type:"wallet_watchAsset",params:e})}function f1(t,e){return t.request({type:"wallet_addStarknetChain",params:e})}function f2(t,e){return t.request({type:"wallet_switchStarknetChain",params:{chainId:e}})}function f5(t){return t.request({type:"wallet_requestChainId"})}function f4(t){return t.request({type:"wallet_deploymentData"})}function f3(t,e){return t.request({type:"wallet_addInvokeTransaction",params:e})}function f6(t,e){return t.request({type:"wallet_addDeclareTransaction",params:e})}function f8(t,e){return t.request({type:"wallet_signTypedData",params:e})}function f9(t){return t.request({type:"wallet_supportedSpecs"})}function f7(t,e){t.on("accountsChanged",e)}function pt(t,e){t.on("networkChanged",e)}ob({},{addDeclareTransaction:()=>f6,addInvokeTransaction:()=>f3,addStarknetChain:()=>f1,deploymentData:()=>f4,getPermissions:()=>fJ,onAccountChange:()=>f7,onNetworkChanged:()=>pt,requestAccounts:()=>fX,requestChainId:()=>f5,signMessage:()=>f8,supportedSpecs:()=>f9,switchStarknetChain:()=>f2,watchAsset:()=>f0});var pe=class t extends fK{walletProvider;constructor(t){super({...t,signer:""}),this.walletProvider=t.walletProvider,this.walletProvider.on("accountsChanged",t=>{t&&(this.address=t[0].toLowerCase())}),this.walletProvider.on("networkChanged",t=>{t&&this.channel.setChainId(t)})}onAccountChange(t){f7(this.walletProvider,t)}onNetworkChanged(t){pt(this.walletProvider,t)}requestAccounts(t=!1){return fX(this.walletProvider,t)}getPermissions(){return fJ(this.walletProvider)}switchStarknetChain(t){return f2(this.walletProvider,t)}watchAsset(t){return f0(this.walletProvider,t)}addStarknetChain(t){return f1(this.walletProvider,t)}execute(t){let e=[].concat(t).map(t=>{let{contractAddress:e,entrypoint:r,calldata:n}=t;return{contract_address:e,entry_point:r,calldata:n}});return f3(this.walletProvider,{calls:e})}async declare(t){let e=h8(t,await this.channel.getStarknetVersion()),r=t.contract,n={...r,abi:cW(r.abi)};if(!e.compiledClassHash)throw Error("compiledClassHash is required");let i={compiled_class_hash:e.compiledClassHash,contract_class:n};return f6(this.walletProvider,i)}async deploy(t){let{calls:e,addresses:r}=this.deployer.buildDeployerCall(t,this.address);return{...await this.execute(e),contract_address:r}}signMessage(t){return f8(this.walletProvider,t)}static async connect(e,r,n,i,a=!1){let[s]=await fX(r,a);return new t({provider:e,walletProvider:r,address:s,cairoVersion:n,paymaster:i})}static async connectSilent(e,r,n,i){return t.connect(e,r,n,i,!0)}};function pr(t){return"event"===t.type}function pn(t){let e,r;return ur(t)?(e=t.filter(t=>pr(t)&&"struct"===t.kind),r=t.filter(t=>pr(t)&&"enum"===t.kind),e.reduce((t,e)=>{let n=[],{name:i}=e,a=!1,s=t=>t.type===i;for(;;){let t=r.find(t=>t.variants.some(s));if(cX(t))break;let e=t.variants.find(s);n.unshift(e.name),"flat"===e.kind&&(a=!0),i=t.name}if(0===n.length)throw Error("inconsistency in ABI events definition.");a&&(n=[n[n.length-1]]);let o=n.pop(),c={[oR(iA.keccak(ox(o)).toString(16))]:e};for(;n.length>0;)c={[oR(iA.keccak(ox(n.pop())).toString(16))]:c};return function t(e,r){let n={...e};return c4(e)&&c4(r)&&Object.keys(r).forEach(i=>{c4(r[i])&&i in e?n[i]=t(e[i],r[i]):Object.assign(n,{[i]:r[i]})}),n}(t,c={...c})},{})):t.filter(t=>"event"===t.type).reduce((t,e)=>{let r=e.name,n={...e};return n.name=r,{...t,[oR(iA.keccak(ox(r)).toString(16))]:n}},{})}function pi(t,e,r,n,i){return t.flat().reduce((t,a)=>{let s=JSON.parse(JSON.stringify(a)),o=e[s.keys.shift()??0];if(!o)return t;for(;!o.name;){let t=s.keys.shift();cG(!!t,'Not enough data in "keys" property of this event.'),o=o[t]}let c={};c[o.name]={};let l=s.keys[Symbol.iterator](),u=s.data[Symbol.iterator](),h=o.members?.filter(t=>"key"===t.kind)||o.keys,d=o.members?.filter(t=>"data"===t.kind)||o.data;return h.forEach(t=>{c[o.name][t.name]=uY({responseIterator:l,output:t,structs:r,enums:n,parser:i,parsedResult:c[o.name]})}),d.forEach(t=>{c[o.name][t.name]=uY({responseIterator:u,output:t,structs:r,enums:n,parser:i,parsedResult:c[o.name]})}),"block_hash"in s&&(c.block_hash=s.block_hash),"block_number"in s&&(c.block_number=s.block_number),"transaction_hash"in s&&(c.transaction_hash=s.transaction_hash),t.push(c),t},[])}function pa(t,e){return async function(...r){let n={...t.withOptionsProps};return t.withOptionsProps=void 0,t.call(e.name,r,{parseRequest:t.parseRequest,parseResponse:t.parseResponse,...n})}}function ps(t,e){return"view"===e.stateMutability||"view"===e.state_mutability?pa(t,e):async function(...r){let n={...t.withOptionsProps};return t.withOptionsProps=void 0,t.invoke(e.name,r,{parseRequest:t.parseRequest,...n})}}ob({},{getAbiEvents:()=>pn,isAbiEvent:()=>pr,parseEvents:()=>pi});var po=class t{abi;address;providerOrAccount;classHash;parseRequest;parseResponse;structs;events;functions;callStatic;populateTransaction;estimateFee;callData;withOptionsProps;parsingStrategy;constructor(t){this.parsingStrategy=t.parsingStrategy;const e=uL(t.abi,t.parsingStrategy);this.abi=e.getLegacyFormat(),this.address=t.address&&t.address.toLowerCase(),this.providerOrAccount=t.providerOrAccount??fS,this.parseRequest=t.parseRequest??!0,this.parseResponse=t.parseResponse??!0,this.classHash=t.classHash,this.callData=new u0(t.abi,t.parsingStrategy),this.structs=u0.getAbiStruct(t.abi),this.events=pn(t.abi);const r={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(t=>{var e,n;if("function"!==t.type)return;let i=t.name;this[i]||Object.defineProperty(this,i,{...r,value:ps(this,t)}),this.functions[i]||Object.defineProperty(this.functions,i,{...r,value:ps(this,t)}),this.callStatic[i]||Object.defineProperty(this.callStatic,i,{...r,value:pa(this,t)}),this.populateTransaction[i]||Object.defineProperty(this.populateTransaction,i,{...r,value:(e=this,function(...r){return e.populate(t.name,r)})}),this.estimateFee[i]||Object.defineProperty(this.estimateFee,i,{...r,value:(n=this,function(...e){let r={...n.withOptionsProps};return n.withOptionsProps=void 0,n.estimate(t.name,e,r)})})})}withOptions(t){return this.withOptionsProps=t,this}attach(t,e){if(this.address=t,e){let t=uL(e,this.parsingStrategy);this.abi=t.getLegacyFormat(),this.callData=new u0(e,this.parsingStrategy),this.structs=u0.getAbiStruct(e),this.events=pn(e)}}async isDeployed(){try{await this.providerOrAccount.getClassHashAt(this.address)}catch(e){let t=e instanceof Error?e.message:String(e);throw Error(`Contract not deployed at address ${this.address}: ${t}`)}return this}async call(t,e=[],{parseRequest:r=!0,parseResponse:n=!0,formatResponse:i,blockIdentifier:a}={}){cG(null!==this.address,"contract is not connected to an address");let s=dh(e,()=>r?(this.callData.validate("CALL",t,e),this.callData.compile(t,e)):(cv.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),e));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:s,entrypoint:t},a).then(e=>n?i?this.callData.format(t,e,i):this.callData.parse(t,e):e)}async invoke(t,e=[],r={}){let{parseRequest:n=!0,signature:i,waitForTransaction:a,...s}=r;cG(null!==this.address,"contract is not connected to an address");let o=dh(e,()=>n?(this.callData.validate(cj,t,e),this.callData.compile(t,e)):(cv.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),e)),c={contractAddress:this.address,calldata:o,entrypoint:t};if(cV(this.providerOrAccount)){if(s.paymasterDetails){let r={contractAddress:this.address,entrypoint:t,calldata:e};return this.providerOrAccount.executePaymasterTransaction([r],s.paymasterDetails,s.maxFeeInGasToken)}let r=await this.providerOrAccount.execute(c,{...s});if(a){let t=await this.providerOrAccount.waitForTransaction(r.transaction_hash);if(t.isSuccess())return t;throw Error("Transaction failed",{cause:t})}return r}if(!s.nonce)throw Error("Manual nonce is required when invoking a function without an account");return cv.warn(`Invoking ${t} without an account.`),this.providerOrAccount.invokeFunction({...c,signature:i},{...s,nonce:s.nonce})}async estimate(t,e=[],r={}){cG(null!==this.address,"contract is not connected to an address"),dh(e,()=>!1)||this.callData.validate(cj,t,e);let n=this.populate(t,e);if(cV(this.providerOrAccount)){if(r.paymasterDetails){let n={contractAddress:this.address,entrypoint:t,calldata:e};return this.providerOrAccount.estimatePaymasterTransactionFee([n],r.paymasterDetails)}return this.providerOrAccount.estimateInvokeFee(n,r)}throw Error("Contract must be connected to the account contract to estimate")}populate(t,e=[]){let r=dh(e,()=>this.callData.compile(t,e));return{contractAddress:this.address,entrypoint:t,calldata:r}}parseEvents(t){let e=[];return t.match({SUCCEEDED:t=>{e=pi(t.events?.map(e=>({block_hash:t.block_hash,block_number:t.block_number,transaction_hash:t.transaction_hash,...e})).filter(t=>c7(t.from_address)===c7(this.address),[])||[],this.events,this.structs,u0.getAbiEnum(this.abi),this.callData.parser)},_:()=>{throw Error("This transaction was not successful.")}}),Object.defineProperty(e,"getByPath",{value:t=>{let r=e.find(e=>Object.keys(e).some(e=>e.includes(t))),n=Object.keys(r||{}).find(e=>e.includes(t));return n&&r?r[n]:null},writable:!1,enumerable:!1,configurable:!1}),e}isCairo1(){return lP.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typedv2(t){return this}static async factory(e,r={}){let n,i,a,{account:s,parseRequest:o=!0}=e;if("classHash"in e&&e.classHash&&!("contract"in e))i=e.classHash.toString(),n=e.abi?e.abi:(await s.getClass(i)).abi,a=(await s.deployContract({classHash:i,constructorCalldata:e.constructorCalldata,salt:e.salt,unique:e.unique,abi:o?n:void 0},r)).contract_address;else{let t=dn(e.contract);n=e.abi?e.abi:di(t);let{declare:{class_hash:c},deploy:{contract_address:l}}=await s.declareAndDeploy({...e,abi:o?n:void 0},r);i=c.toString(),a=l}return cG(!!a,"Deployment of the contract failed"),new t({abi:n,address:a,providerOrAccount:s,classHash:i,parseRequest:e.parseRequest,parseResponse:e.parseResponse,parsingStrategy:e.parsingStrategy})}};ov.TypedDataRevision,t.s(["BlockTag",()=>cL,"CairoCustomEnum",()=>ul,"CallData",()=>u0,"Contract",()=>po,"PaymasterRpc",()=>fQ,"Provider",()=>fT,"RpcProvider",()=>fT,"WalletAccount",()=>pe,"cairo",()=>lP,"constants",()=>oE,"hash",()=>u1,"num",()=>cK,"shortString",()=>lT,"starknetId",()=>d4,"validateAndParseAddress",()=>fM],53443)},23529,t=>{"use strict";let e,r,n,i,a,s,o;var c=t.i(95932),l=t.i(71645),u=t.i(46140),h=t.i(53443),d=t.i(82757);t.i(47167);var f={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},p=new class{#t=f;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},g="u"<typeof window||"Deno"in globalThis;function y(){}function m(t){return"number"==typeof t&&t>=0&&t!==1/0}function b(t,e){return Math.max(t+(e||0)-Date.now(),0)}function _(t,e){return"function"==typeof t?t(e):t}function w(t,e){return"function"==typeof t?t(e):t}function E(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==I(s,e.options))return!1}else if(!T(e.queryKey,s))return!1}if("all"!==r){let t=e.isActive();if("active"===r&&!t||"inactive"===r&&t)return!1}return("boolean"!=typeof o||e.isStale()===o)&&(!i||i===e.state.fetchStatus)&&(!a||!!a(e))}function v(t,e){let{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(A(e.options.mutationKey)!==A(a))return!1}else if(!T(e.options.mutationKey,a))return!1}return(!n||e.state.status===n)&&(!i||!!i(e))}function I(t,e){return(e?.queryKeyHashFn||A)(t)}function A(t){return JSON.stringify(t,(t,e)=>C(e)?Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{}):e)}function T(t,e){return t===e||typeof t==typeof e&&!!t&&!!e&&"object"==typeof t&&"object"==typeof e&&Object.keys(e).every(r=>T(t[r],e[r]))}var S=Object.prototype.hasOwnProperty;function N(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function x(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function C(t){if(!D(t))return!1;let e=t.constructor;if(void 0===e)return!0;let r=e.prototype;return!!D(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype}function D(t){return"[object Object]"===Object.prototype.toString.call(t)}function M(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?function t(e,r,n=0){if(e===r)return e;if(n>500)return r;let i=x(e)&&x(r);if(!i&&!(C(e)&&C(r)))return r;let a=(i?e:Object.keys(e)).length,s=i?r:Object.keys(r),o=s.length,c=i?Array(o):{},l=0;for(let u=0;u<o;u++){let o=i?u:s[u],h=e[o],d=r[o];if(h===d){c[o]=h,(i?u<a:S.call(e,o))&&l++;continue}if(null===h||null===d||"object"!=typeof h||"object"!=typeof d){c[o]=d;continue}let f=t(h,d,n+1);c[o]=f,f===h&&l++}return a===o&&l===a?e:c}(t,e):e}function k(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}function O(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var R=Symbol();function B(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==R?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))}function L(t,e){return"function"==typeof t?t(...e):!!t}var P=(e=[],r=0,n=t=>{t()},i=t=>{t()},a=function(t){setTimeout(t,0)},{batch:t=>{let s;r++;try{s=t()}finally{let t;--r||(t=e,e=[],t.length&&a(()=>{i(()=>{t.forEach(t=>{n(t)})})}))}return s},batchCalls:t=>(...e)=>{s(()=>{t(...e)})},schedule:s=t=>{r?e.push(t):a(()=>{n(t)})},setNotifyFunction:t=>{n=t},setBatchNotifyFunction:t=>{i=t},setScheduler:t=>{a=t}}),j=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},U=new class extends j{#r;#n;#i;constructor(){super(),this.#i=t=>{if(!g&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#n||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#i=t,this.#n?.(),this.#n=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#r!==t&&(this.#r=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#r?this.#r:globalThis.document?.visibilityState!=="hidden"}},z=new class extends j{#a=!0;#n;#i;constructor(){super(),this.#i=t=>{if(!g&&window.addEventListener){let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#n||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#i=t,this.#n?.(),this.#n=t(this.setOnline.bind(this))}setOnline(t){this.#a!==t&&(this.#a=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#a}};function F(){let t,e,r=new Promise((r,n)=>{t=r,e=n});function n(t){Object.assign(r,t),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=e=>{n({status:"fulfilled",value:e}),t(e)},r.reject=t=>{n({status:"rejected",reason:t}),e(t)},r}function V(t){return Math.min(1e3*2**t,3e4)}function H(t){return(t??"online")!=="online"||z.isOnline()}var $=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Y(t){let e,r=!1,n=0,i=F(),a=()=>U.isFocused()&&("always"===t.networkMode||z.isOnline())&&t.canRun(),s=()=>H(t.networkMode)&&t.canRun(),o=t=>{"pending"===i.status&&(e?.(),i.resolve(t))},c=t=>{"pending"===i.status&&(e?.(),i.reject(t))},l=()=>new Promise(r=>{e=t=>{("pending"!==i.status||a())&&r(t)},t.onPause?.()}).then(()=>{e=void 0,"pending"===i.status&&t.onContinue?.()}),u=()=>{let e;if("pending"!==i.status)return;let s=0===n?t.initialPromise:void 0;try{e=s??t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(o).catch(e=>{if("pending"!==i.status)return;let s=t.retry??3*!g,o=t.retryDelay??V,h="function"==typeof o?o(n,e):o,d=!0===s||"number"==typeof s&&n<s||"function"==typeof s&&s(n,e);r||!d?c(e):(n++,t.onFail?.(n,e),new Promise(t=>{p.setTimeout(t,h)}).then(()=>a()?void 0:l()).then(()=>{r?c(e):u()}))})};return{promise:i,status:()=>i.status,cancel:e=>{if("pending"===i.status){let r=new $(e);c(r),t.onCancel?.(r)}},continue:()=>(e?.(),i),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:s,start:()=>(s()?u():l().then(u),i)}}var q=class{#s;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m(this.gcTime)&&(this.#s=p.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(g?1/0:3e5))}clearGcTimeout(){this.#s&&(p.clearTimeout(this.#s),this.#s=void 0)}},Q=class extends q{#o;#c;#l;#u;#h;#d;#f;constructor(t){super(),this.#f=!1,this.#d=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#u=t.client,this.#l=this.#u.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#o=G(this.options),this.state=t.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#h?.promise}setOptions(t){if(this.options={...this.#d,...t},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let t=G(this.options);void 0!==t.data&&(this.setState(Z(t.data,t.dataUpdatedAt)),this.#o=t)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#l.remove(this)}setData(t,e){let r=M(this.state.data,t,this.options);return this.#p({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#p({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#h?.promise;return this.#h?.cancel(t),e?e.then(y).catch(y):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(t=>!1!==w(t.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===R||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(t=>"static"===_(t.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(t=0){return void 0===this.state.data||"static"!==t&&(!!this.state.isInvalidated||!b(this.state.dataUpdatedAt,t))}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#h?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#h?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#l.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#h&&(this.#f?this.#h.cancel({revert:!0}):this.#h.cancelRetry()),this.scheduleGc()),this.#l.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}async fetch(t,e){let r;if("idle"!==this.state.fetchStatus&&this.#h?.status()!=="rejected"){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#h)return this.#h.continueRetry(),this.#h.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let n=new AbortController,i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#f=!0,n.signal)})},a=()=>{let t,r=B(this.options,e),n=(i(t={client:this.#u,queryKey:this.queryKey,meta:this.meta}),t);return(this.#f=!1,this.options.persister)?this.options.persister(r,n,this):r(n)},s=(i(r={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:a}),r);this.options.behavior?.onFetch(s,this),this.#c=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#p({type:"fetch",meta:s.fetchOptions?.meta}),this.#h=Y({initialPromise:e?.initialPromise,fn:s.fetchFn,onCancel:t=>{t instanceof $&&t.revert&&this.setState({...this.#c,fetchStatus:"idle"}),n.abort()},onFail:(t,e)=>{this.#p({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{let t=await this.#h.start();if(void 0===t)throw Error(`${this.queryHash} data is undefined`);return this.setData(t),this.#l.config.onSuccess?.(t,this),this.#l.config.onSettled?.(t,this.state.error,this),t}catch(t){if(t instanceof $){if(t.silent)return this.#h.promise;else if(t.revert){if(void 0===this.state.data)throw t;return this.state.data}}throw this.#p({type:"error",error:t}),this.#l.config.onError?.(t,this),this.#l.config.onSettled?.(this.state.data,t,this),t}finally{this.scheduleGc()}}#p(t){let e=e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...W(e.data,this.options),fetchMeta:t.meta??null};case"success":let r={...e,...Z(t.data,t.dataUpdatedAt),dataUpdateCount:e.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#c=t.manual?r:void 0,r;case"error":let n=t.error;return{...e,error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}};this.state=e(this.state),P.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#l.notify({query:this,type:"updated",action:t})})}};function W(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:H(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}function Z(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function G(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,n=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var K=class extends j{constructor(t={}){super(),this.config=t,this.#g=new Map}#g;build(t,e,r){let n=e.queryKey,i=e.queryHash??I(n,e),a=this.get(i);return a||(a=new Q({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#g.has(t.queryHash)||(this.#g.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#g.get(t.queryHash);e&&(t.destroy(),e===t&&this.#g.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){P.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#g.get(t)}getAll(){return[...this.#g.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>E(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>E(t,e)):e}notify(t){P.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){P.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){P.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},X=class extends q{#u;#y;#m;#h;constructor(t){super(),this.#u=t.client,this.mutationId=t.mutationId,this.#m=t.mutationCache,this.#y=[],this.state=t.state||J(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#y.includes(t)||(this.#y.push(t),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#y=this.#y.filter(e=>e!==t),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#y.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#h?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#p({type:"continue"})},r={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#h=Y({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#p({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#p({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#m.canRun(this)});let n="pending"===this.state.status,i=!this.#h.canStart();try{if(n)e();else{this.#p({type:"pending",variables:t,isPaused:i}),this.#m.config.onMutate&&await this.#m.config.onMutate(t,this,r);let e=await this.options.onMutate?.(t,r);e!==this.state.context&&this.#p({type:"pending",context:e,variables:t,isPaused:i})}let a=await this.#h.start();return await this.#m.config.onSuccess?.(a,t,this.state.context,this,r),await this.options.onSuccess?.(a,t,this.state.context,r),await this.#m.config.onSettled?.(a,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(a,null,t,this.state.context,r),this.#p({type:"success",data:a}),a}catch(e){try{await this.#m.config.onError?.(e,t,this.state.context,this,r)}catch(t){Promise.reject(t)}try{await this.options.onError?.(e,t,this.state.context,r)}catch(t){Promise.reject(t)}try{await this.#m.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this,r)}catch(t){Promise.reject(t)}try{await this.options.onSettled?.(void 0,e,t,this.state.context,r)}catch(t){Promise.reject(t)}throw this.#p({type:"error",error:e}),e}finally{this.#m.runNext(this)}}#p(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),P.batch(()=>{this.#y.forEach(e=>{e.onMutationUpdate(t)}),this.#m.notify({mutation:this,type:"updated",action:t})})}};function J(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tt=class extends j{constructor(t={}){super(),this.config=t,this.#b=new Set,this.#_=new Map,this.#w=0}#b;#_;#w;build(t,e,r){let n=new X({client:t,mutationCache:this,mutationId:++this.#w,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#b.add(t);let e=te(t);if("string"==typeof e){let r=this.#_.get(e);r?r.push(t):this.#_.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#b.delete(t)){let e=te(t);if("string"==typeof e){let r=this.#_.get(e);if(r)if(r.length>1){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r[0]===t&&this.#_.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=te(t);if("string"!=typeof e)return!0;{let r=this.#_.get(e),n=r?.find(t=>"pending"===t.state.status);return!n||n===t}}runNext(t){let e=te(t);if("string"!=typeof e)return Promise.resolve();{let r=this.#_.get(e)?.find(e=>e!==t&&e.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){P.batch(()=>{this.#b.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#b.clear(),this.#_.clear()})}getAll(){return Array.from(this.#b)}find(t){let e={exact:!0,...t};return this.getAll().find(t=>v(e,t))}findAll(t={}){return this.getAll().filter(e=>v(t,e))}notify(t){P.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return P.batch(()=>Promise.all(t.map(t=>t.continue().catch(y))))}};function te(t){return t.options.scope?.id}function tr(t){return{onFetch:(e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],s=e.state.data?.pageParams||[],o={pages:[],pageParams:[]},c=0,l=async()=>{let r=!1,l=B(e.options,e.fetchOptions),u=async(t,n,i)=>{if(r)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);let a=(()=>{var t,a;let s,o,c={client:e.client,queryKey:e.queryKey,pageParam:n,direction:i?"backward":"forward",meta:e.options.meta};return t=()=>e.signal,a=()=>r=!0,o=!1,Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(s??=t(),o||(o=!0,s.aborted?a():s.addEventListener("abort",a,{once:!0})),s)}),c})(),s=await l(a),{maxPages:o}=e.options,c=i?O:k;return{pages:c(t.pages,s,o),pageParams:c(t.pageParams,n,o)}};if(i&&a.length){let t="backward"===i,e={pages:a,pageParams:s},r=(t?function(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}:tn)(n,e);o=await u(e,r,t)}else{let e=t??a.length;do{let t=0===c?s[0]??n.initialPageParam:tn(n,o);if(c>0&&null==t)break;o=await u(o,t),c++}while(c<e)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=l}}}function tn(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}var ti=class{#E;#m;#d;#v;#I;#A;#T;#S;constructor(t={}){this.#E=t.queryCache||new K,this.#m=t.mutationCache||new tt,this.#d=t.defaultOptions||{},this.#v=new Map,this.#I=new Map,this.#A=0}mount(){this.#A++,1===this.#A&&(this.#T=U.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#E.onFocus())}),this.#S=z.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#E.onOnline())}))}unmount(){this.#A--,0===this.#A&&(this.#T?.(),this.#T=void 0,this.#S?.(),this.#S=void 0)}isFetching(t){return this.#E.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#m.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#E.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#E.build(this,e),n=r.state.data;return void 0===n?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(_(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#E.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),i=this.#E.get(n.queryHash),a=i?.state.data,s="function"==typeof e?e(a):e;if(void 0!==s)return this.#E.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return P.batch(()=>this.#E.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#E.get(e.queryHash)?.state}removeQueries(t){let e=this.#E;P.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let r=this.#E;return P.batch(()=>(r.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e};return Promise.all(P.batch(()=>this.#E.findAll(t).map(t=>t.cancel(r)))).then(y).catch(y)}invalidateQueries(t,e={}){return P.batch(()=>(this.#E.findAll(t).forEach(t=>{t.invalidate()}),t?.refetchType==="none")?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0};return Promise.all(P.batch(()=>this.#E.findAll(t).filter(t=>!t.isDisabled()&&!t.isStatic()).map(t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(y)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(y)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let r=this.#E.build(this,e);return r.isStaleByTime(_(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(y).catch(y)}fetchInfiniteQuery(t){return t.behavior=tr(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(y).catch(y)}ensureInfiniteQueryData(t){return t.behavior=tr(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return z.isOnline()?this.#m.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#E}getMutationCache(){return this.#m}getDefaultOptions(){return this.#d}setDefaultOptions(t){this.#d=t}setQueryDefaults(t,e){this.#v.set(A(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#v.values()],r={};return e.forEach(e=>{T(t,e.queryKey)&&Object.assign(r,e.defaultOptions)}),r}setMutationDefaults(t,e){this.#I.set(A(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#I.values()],r={};return e.forEach(e=>{T(t,e.mutationKey)&&Object.assign(r,e.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#d.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=I(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===R&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#d.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#E.clear(),this.#m.clear()}},ta=t.i(43476),ts=l.createContext(void 0),to=t=>{let e=l.useContext(ts);if(t)return t;if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e},tc=({client:t,children:e})=>(l.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,ta.jsx)(ts.Provider,{value:t,children:e})),tl=class extends j{constructor(t,e){super(),this.options=e,this.#u=t,this.#N=null,this.#x=F(),this.bindMethods(),this.setOptions(e)}#u;#C=void 0;#D=void 0;#M=void 0;#k;#O;#x;#N;#R;#B;#L;#P;#j;#U;#z=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#C.addObserver(this),tu(this.#C,this.options)?this.#F():this.updateResult(),this.#V())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return th(this.#C,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return th(this.#C,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#H(),this.#$(),this.#C.removeObserver(this)}setOptions(t){let e=this.options,r=this.#C;if(this.options=this.#u.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof w(this.options.enabled,this.#C))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#Y(),this.#C.setOptions(this.options),e._defaulted&&!N(this.options,e)&&this.#u.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#C,observer:this});let n=this.hasListeners();n&&td(this.#C,r,this.options,e)&&this.#F(),this.updateResult(),n&&(this.#C!==r||w(this.options.enabled,this.#C)!==w(e.enabled,this.#C)||_(this.options.staleTime,this.#C)!==_(e.staleTime,this.#C))&&this.#q();let i=this.#Q();n&&(this.#C!==r||w(this.options.enabled,this.#C)!==w(e.enabled,this.#C)||i!==this.#U)&&this.#W(i)}getOptimisticResult(t){var e,r;let n=this.#u.getQueryCache().build(this.#u,t),i=this.createResult(n,t);return e=this,r=i,N(e.getCurrentResult(),r)||(this.#M=i,this.#O=this.options,this.#k=this.#C.state),i}getCurrentResult(){return this.#M}trackResult(t,e){return new Proxy(t,{get:(t,r)=>(this.trackProp(r),e?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#x.status||this.#x.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,r))})}trackProp(t){this.#z.add(t)}getCurrentQuery(){return this.#C}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#u.defaultQueryOptions(t),r=this.#u.getQueryCache().build(this.#u,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#F({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#M))}#F(t){this.#Y();let e=this.#C.fetch(this.options,t);return t?.throwOnError||(e=e.catch(y)),e}#q(){this.#H();let t=_(this.options.staleTime,this.#C);if(g||this.#M.isStale||!m(t))return;let e=b(this.#M.dataUpdatedAt,t);this.#P=p.setTimeout(()=>{this.#M.isStale||this.updateResult()},e+1)}#Q(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#C):this.options.refetchInterval)??!1}#W(t){this.#$(),this.#U=t,!g&&!1!==w(this.options.enabled,this.#C)&&m(this.#U)&&0!==this.#U&&(this.#j=p.setInterval(()=>{(this.options.refetchIntervalInBackground||U.isFocused())&&this.#F()},this.#U))}#V(){this.#q(),this.#W(this.#Q())}#H(){this.#P&&(p.clearTimeout(this.#P),this.#P=void 0)}#$(){this.#j&&(p.clearInterval(this.#j),this.#j=void 0)}createResult(t,e){let r,n=this.#C,i=this.options,a=this.#M,s=this.#k,o=this.#O,c=t!==n?t.state:this.#D,{state:l}=t,u={...l},h=!1;if(e._optimisticResults){let r=this.hasListeners(),a=!r&&tu(t,e),s=r&&td(t,n,e,i);(a||s)&&(u={...u,...W(l.data,t.options)}),"isRestoring"===e._optimisticResults&&(u.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:p}=u;r=u.data;let g=!1;if(void 0!==e.placeholderData&&void 0===r&&"pending"===p){let t;a?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(t=a.data,g=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#L?.state.data,this.#L):e.placeholderData,void 0!==t&&(p="success",r=M(a?.data,t,e),h=!0)}if(e.select&&void 0!==r&&!g)if(a&&r===s?.data&&e.select===this.#R)r=this.#B;else try{this.#R=e.select,r=e.select(r),r=M(a?.data,r,e),this.#B=r,this.#N=null}catch(t){this.#N=t}this.#N&&(d=this.#N,r=this.#B,f=Date.now(),p="error");let y="fetching"===u.fetchStatus,m="pending"===p,b="error"===p,_=m&&y,E=void 0!==r,v={status:p,fetchStatus:u.fetchStatus,isPending:m,isSuccess:"success"===p,isError:b,isInitialLoading:_,isLoading:_,data:r,dataUpdatedAt:u.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!m,isLoadingError:b&&!E,isPaused:"paused"===u.fetchStatus,isPlaceholderData:h,isRefetchError:b&&E,isStale:tf(t,e),refetch:this.refetch,promise:this.#x,isEnabled:!1!==w(e.enabled,t)};if(this.options.experimental_prefetchInRender){let e=void 0!==v.data,r="error"===v.status&&!e,i=t=>{r?t.reject(v.error):e&&t.resolve(v.data)},a=()=>{i(this.#x=v.promise=F())},s=this.#x;switch(s.status){case"pending":t.queryHash===n.queryHash&&i(s);break;case"fulfilled":(r||v.data!==s.value)&&a();break;case"rejected":r&&v.error===s.reason||a()}}return v}updateResult(){let t=this.#M,e=this.createResult(this.#C,this.options);if(this.#k=this.#C.state,this.#O=this.options,void 0!==this.#k.data&&(this.#L=this.#C),N(e,t))return;this.#M=e;let r=()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#z.size)return!0;let n=new Set(r??this.#z);return this.options.throwOnError&&n.add("error"),Object.keys(this.#M).some(e=>this.#M[e]!==t[e]&&n.has(e))};this.#Z({listeners:r()})}#Y(){let t=this.#u.getQueryCache().build(this.#u,this.options);if(t===this.#C)return;let e=this.#C;this.#C=t,this.#D=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#V()}#Z(t){P.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#M)}),this.#u.getQueryCache().notify({query:this.#C,type:"observerResultsUpdated"})})}};function tu(t,e){return!1!==w(e.enabled,t)&&void 0===t.state.data&&("error"!==t.state.status||!1!==e.retryOnMount)||void 0!==t.state.data&&th(t,e,e.refetchOnMount)}function th(t,e,r){if(!1!==w(e.enabled,t)&&"static"!==_(e.staleTime,t)){let n="function"==typeof r?r(t):r;return"always"===n||!1!==n&&tf(t,e)}return!1}function td(t,e,r,n){return(t!==e||!1===w(n.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&tf(t,r)}function tf(t,e){return!1!==w(e.enabled,t)&&t.isStaleByTime(_(e.staleTime,t))}var tp=l.createContext((o=!1,{clearReset:()=>{o=!1},reset:()=>{o=!0},isReset:()=>o})),tg=l.createContext(!1);tg.Provider;var ty=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()}),tm=class extends j{#u;#M=void 0;#G;#K;constructor(t,e){super(),this.#u=t,this.setOptions(e),this.bindMethods(),this.#X()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#u.defaultMutationOptions(t),N(this.options,e)||this.#u.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#G,observer:this}),e?.mutationKey&&this.options.mutationKey&&A(e.mutationKey)!==A(this.options.mutationKey)?this.reset():this.#G?.state.status==="pending"&&this.#G.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#G?.removeObserver(this)}onMutationUpdate(t){this.#X(),this.#Z(t)}getCurrentResult(){return this.#M}reset(){this.#G?.removeObserver(this),this.#G=void 0,this.#X(),this.#Z()}mutate(t,e){return this.#K=e,this.#G?.removeObserver(this),this.#G=this.#u.getMutationCache().build(this.#u,this.options),this.#G.addObserver(this),this.#G.execute(t)}#X(){let t=this.#G?.state??J();this.#M={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#Z(t){P.batch(()=>{if(this.#K&&this.hasListeners()){let e=this.#M.variables,r=this.#M.context,n={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#K.onSuccess?.(t.data,e,r,n)}catch(t){Promise.reject(t)}try{this.#K.onSettled?.(t.data,null,e,r,n)}catch(t){Promise.reject(t)}}else if(t?.type==="error"){try{this.#K.onError?.(t.error,e,r,n)}catch(t){Promise.reject(t)}try{this.#K.onSettled?.(void 0,t.error,e,r,n)}catch(t){Promise.reject(t)}}}this.listeners.forEach(t=>{t(this.#M)})})}},tb=Object.defineProperty,t_=(t,e,r)=>{let n;return(n="symbol"!=typeof e?e+"":e)in t?tb(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},tw=class extends c.default{},tE=class extends Error{constructor(){super(...arguments),t_(this,"name","ConnectorNotConnectedError"),t_(this,"message","Connector not connected")}},tv=class extends Error{constructor(){super(...arguments),t_(this,"name","ConnectorNotFoundError"),t_(this,"message","Connector not found")}},tI=class extends Error{constructor(){super(...arguments),t_(this,"name","UserRejectedRequestError"),t_(this,"message","User rejected request")}},tA=class extends Error{constructor(){super(...arguments),t_(this,"name","UserNotConnectedError"),t_(this,"message","User not connected")}},tT={argentX:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2NS4xOTUwOCA1Ny43MzU2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUuMTk1MDggNTcuNzM1NjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkY4NzVCO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjk4NTkyLDBIMjQuMjA4ODhjLTAuNTYsMC0xLjAxMDAxLDAuNDUxMDItMS4wMjE5NywxLjAxMjAyCgljLTAuMzM4OTksMTUuNzU1LTguNTgyMDMsMzAuNzA4OTgtMjIuNzcwMDIsNDEuMzAwOTljLTAuNDUwMDEsMC4zMzcwMS0wLjU1Mjk4LDAuOTY3OTktMC4yMjQsMS40MjNsOS44MTU5OCwxMy41NzMKCWMwLjMzNDA1LDAuNDYyMDEsMC45ODUwNSwwLjU2NTk4LDEuNDQyOTksMC4yMjY5OWM4Ljg3MTAzLTYuNTc5MDEsMTYuMDA3MDItMTQuNTE3LDIxLjE0NjA2LTIzLjMxNQoJYzUuMTM4LDguNzk4LDEyLjI3Mzk5LDE2LjczNTk5LDIxLjE0NiwyMy4zMTVjMC40NTY5NywwLjMzODk5LDEuMTA3OTcsMC4yMzUwMiwxLjQ0MTk2LTAuMjI2OTlsOS44MTYwNC0xMy41NzMKCWMwLjMyODk4LTAuNDU1MDIsMC4yMjY5OS0xLjA4Ni0wLjIyNC0xLjQyM0M1MC41ODk4NiwzMS43MjEwMSw0Mi4zNDY4OCwxNi43NjcwMyw0Mi4wMDc4OSwxLjAxMjAyCglDNDEuOTk1ODcsMC40NTEwMiw0MS41NDY4OSwwLDQwLjk4NTkyLDAiLz4KPC9zdmc+Cg==",braavos:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMjMuNDQgNDEuMzg4NkMzMjQuMTk4IDQyLjY3MjggMzIzLjE5NSA0NC4yNjAzIDMyMS43MDQgNDQuMjYwM0MyOTEuNTEgNDQuMjYwMyAyNjYuOTY1IDY4LjE2NTYgMjY2LjM4OSA5Ny44NzFDMjU2LjA1IDk1Ljk0MDcgMjQ1LjMzNyA5NS43OTU2IDIzNC43NTQgOTcuNTc4N0MyMzQuMDIzIDY4LjAwOSAyMDkuNTQgNDQuMjYwMyAxNzkuNDQ1IDQ0LjI2MDNDMTc3Ljk1MyA0NC4yNjAzIDE3Ni45NDkgNDIuNjcxNiAxNzcuNzA3IDQxLjM4NjVDMTkyLjMyMyAxNi42MzMgMjE5LjQ4MyAwIDI1MC41NzMgMEMyODEuNjY0IDAgMzA4LjgyNCAxNi42MzM5IDMyMy40NCA0MS4zODg2WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik00MTguNzU2IDIyNi44OTRDNDI2LjM3IDIyOS4yIDQzMy41ODEgMjIyLjUxNyA0MzEuMDM2IDIxNC45NzlDNDA0LjUwNyAxMzYuNDAxIDMxNi41MzUgMTA0LjM1OCAyNTAuMTU5IDEwNC4zNThDMTgzLjY3NCAxMDQuMzU4IDkzLjczOTEgMTM3LjQxOCA2OS4zMDUxIDIxNS4zMzFDNjYuOTU3NCAyMjIuODE4IDc0LjE0NjUgMjI5LjI3NSA4MS42NDc5IDIyNi45NzdMMjQ0LjI1IDE3Ny4xNTFDMjQ3LjU2OSAxNzYuMTM0IDI1MS4xMTYgMTc2LjEyOCAyNTQuNDM5IDE3Ny4xMzVMNDE4Ljc1NiAyMjYuODk0WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik02OS43MTY1IDIzOS40MjZMMjQ0LjM3IDE4Ni40NTZDMjQ3LjY2OSAxODUuNDU2IDI1MS4xOTEgMTg1LjQ1MyAyNTQuNDkyIDE4Ni40NDhMNDMwLjIzMiAyMzkuNDUyQzQ0NC43NiAyNDMuODMzIDQ1NC43MDEgMjU3LjIxNiA0NTQuNzAxIDI3Mi4zOVY0MzAuNDgxQzQ1NC4wMjggNDY5LjA3IDQxOS4zNjIgNTAwIDM4MC43ODYgNTAwSDMxNi43MTJDMzEwLjM3OSA1MDAgMzA1LjI1IDQ5NC44NzcgMzA1LjI1IDQ4OC41NDNWNDMzLjExNUMzMDUuMjUgNDExLjI4OSAzMTguMTY3IDM5MS41MzUgMzM4LjE1NSAzODIuNzkyQzM2NC45NDkgMzcxLjA3MSAzOTYuNjQ2IDM1NS4yMTggNDAyLjYwOCAzMjMuNDA2QzQwNC41MzIgMzEzLjEzOCAzOTcuODM3IDMwMy4yMzQgMzg3LjU5NSAzMDEuMTk4QzM2MS42OTkgMjk2LjA1MSAzMzIuOTg5IDI5OC4wMzkgMzA4LjcxMSAzMDguODk4QzI4MS4xNSAzMjEuMjI1IDI3My45NCAzNDEuNzMxIDI3MS4yNzEgMzY5LjI3TDI2OC4wMzYgMzk4LjkzOEMyNjcuMDQ3IDQwOC4wMDUgMjU4LjU0NiA0MTQuOTUyIDI0OS40MjkgNDE0Ljk1MkMyMzkuOTk4IDQxNC45NTIgMjMyLjkyNiA0MDcuNzY5IDIzMS45MDMgMzk4LjM4OEwyMjguNzI4IDM2OS4yN0MyMjYuNDQyIDM0NS42ODEgMjIyLjI5OCAzMjIuNzY3IDE5Ny45MTIgMzExLjg2QzE3MC4wOTUgMjk5LjQxOSAxNDIuMTQxIDI5NS4yODcgMTEyLjQwNCAzMDEuMTk4QzEwMi4xNjIgMzAzLjIzNCA5NS40NjcgMzEzLjEzOCA5Ny4zOTEzIDMyMy40MDZDMTAzLjQwNSAzNTUuNDk1IDEzNC44NTQgMzcwLjk4NSAxNjEuODQ0IDM4Mi43OTJDMTgxLjgzMyAzOTEuNTM1IDE5NC43NSA0MTEuMjg5IDE5NC43NSA0MzMuMTE1VjQ4OC41MzNDMTk0Ljc1IDQ5NC44NjcgMTg5LjYyMiA1MDAgMTgzLjI4OSA1MDBIMTE5LjIxNEM4MC42Mzc0IDUwMCA0NS45NzE2IDQ2OS4wNyA0NS4yOTc5IDQzMC40ODFWMjcyLjM0OUM0NS4yOTc5IDI1Ny4xOTQgNTUuMjE0MiAyNDMuODI0IDY5LjcxNjUgMjM5LjQyNloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8yMzI0XzYxODY5KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4="},tS=class extends tw{constructor({options:t}){super(),t_(this,"_wallet"),t_(this,"_options"),this._options=t}get id(){return this._options.id}get name(){return this.ensureWallet(),this._options.name??this._wallet?.name??this._options.id}get icon(){this.ensureWallet();let t={dark:tT[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0id2hpdGUiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+Cg==",light:tT[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iYmxhY2siPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+"};return this._options.icon||this._wallet?.icon||t}available(){return this.ensureWallet(),void 0!==this._wallet}async chainId(){this.ensureWallet();let t=await this.isLocked();if(!this._wallet||t)throw new tE;return await this.requestChainId()}async ready(){if(this.ensureWallet(),!this._wallet)return!1;let t=await this.request({type:"wallet_getPermissions"});return!!t&&t.includes(u.Permission.ACCOUNTS)}async account(t,e){if(this.ensureWallet(),await this.isLocked()||!this._wallet)throw new tE;return await h.WalletAccount.connect(t,this._wallet,void 0,e,!0)}async connect(t={}){if(this.ensureWallet(),!this._wallet)throw new tv;this._wallet.on("accountsChanged",async t=>{await this.onAccountsChanged(t)}),this._wallet.on("networkChanged",(t,e)=>{this.onNetworkChanged(t,e)});let e=await this.request({type:"wallet_requestAccounts"});if(!e)throw new tI;t.chainIdHint&&await this.requestChainId()!==t.chainIdHint&&await this.switchChain(t.chainIdHint);let[r]=e,n=await this.requestChainId();return this.emit("connect",{account:r,chainId:n}),{account:r,chainId:n}}async disconnect(){if(this.ensureWallet(),!this._wallet)throw new tv;this.emit("disconnect")}async request(t){if(this.ensureWallet(),!this._wallet)throw new tE;return await this._wallet.request(t)}async isLocked(){return 0===(await this.request({type:"wallet_requestAccounts",params:{silent_mode:!0}})).length}async requestChainId(){return BigInt(await this.request({type:"wallet_requestChainId"}))}ensureWallet(){let t=globalThis,e=t?.[`starknet_${this._options.id}`];e&&(this._wallet=e)}async onAccountsChanged(t){if(t){let[e]=t;if(e){let t=await this.requestChainId();this.emit("change",{account:e,chainId:t})}else this.emit("disconnect")}else this.emit("disconnect")}onNetworkChanged(t,e){if(t){let r=BigInt(t),[n]=e||[];this.emit("change",{chainId:r,account:n})}else this.emit("change",{})}async switchChain(t){await this.request({type:"wallet_switchStarknetChain",params:{chainId:h.num.toHex(t)}})}},tN={argentX:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2NS4xOTUwOCA1Ny43MzU2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUuMTk1MDggNTcuNzM1NjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkY4NzVCO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjk4NTkyLDBIMjQuMjA4ODhjLTAuNTYsMC0xLjAxMDAxLDAuNDUxMDItMS4wMjE5NywxLjAxMjAyCgljLTAuMzM4OTksMTUuNzU1LTguNTgyMDMsMzAuNzA4OTgtMjIuNzcwMDIsNDEuMzAwOTljLTAuNDUwMDEsMC4zMzcwMS0wLjU1Mjk4LDAuOTY3OTktMC4yMjQsMS40MjNsOS44MTU5OCwxMy41NzMKCWMwLjMzNDA1LDAuNDYyMDEsMC45ODUwNSwwLjU2NTk4LDEuNDQyOTksMC4yMjY5OWM4Ljg3MTAzLTYuNTc5MDEsMTYuMDA3MDItMTQuNTE3LDIxLjE0NjA2LTIzLjMxNQoJYzUuMTM4LDguNzk4LDEyLjI3Mzk5LDE2LjczNTk5LDIxLjE0NiwyMy4zMTVjMC40NTY5NywwLjMzODk5LDEuMTA3OTcsMC4yMzUwMiwxLjQ0MTk2LTAuMjI2OTlsOS44MTYwNC0xMy41NzMKCWMwLjMyODk4LTAuNDU1MDIsMC4yMjY5OS0xLjA4Ni0wLjIyNC0xLjQyM0M1MC41ODk4NiwzMS43MjEwMSw0Mi4zNDY4OCwxNi43NjcwMyw0Mi4wMDc4OSwxLjAxMjAyCglDNDEuOTk1ODcsMC40NTEwMiw0MS41NDY4OSwwLDQwLjk4NTkyLDAiLz4KPC9zdmc+Cg==",braavos:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMjMuNDQgNDEuMzg4NkMzMjQuMTk4IDQyLjY3MjggMzIzLjE5NSA0NC4yNjAzIDMyMS43MDQgNDQuMjYwM0MyOTEuNTEgNDQuMjYwMyAyNjYuOTY1IDY4LjE2NTYgMjY2LjM4OSA5Ny44NzFDMjU2LjA1IDk1Ljk0MDcgMjQ1LjMzNyA5NS43OTU2IDIzNC43NTQgOTcuNTc4N0MyMzQuMDIzIDY4LjAwOSAyMDkuNTQgNDQuMjYwMyAxNzkuNDQ1IDQ0LjI2MDNDMTc3Ljk1MyA0NC4yNjAzIDE3Ni45NDkgNDIuNjcxNiAxNzcuNzA3IDQxLjM4NjVDMTkyLjMyMyAxNi42MzMgMjE5LjQ4MyAwIDI1MC41NzMgMEMyODEuNjY0IDAgMzA4LjgyNCAxNi42MzM5IDMyMy40NCA0MS4zODg2WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik00MTguNzU2IDIyNi44OTRDNDI2LjM3IDIyOS4yIDQzMy41ODEgMjIyLjUxNyA0MzEuMDM2IDIxNC45NzlDNDA0LjUwNyAxMzYuNDAxIDMxNi41MzUgMTA0LjM1OCAyNTAuMTU5IDEwNC4zNThDMTgzLjY3NCAxMDQuMzU4IDkzLjczOTEgMTM3LjQxOCA2OS4zMDUxIDIxNS4zMzFDNjYuOTU3NCAyMjIuODE4IDc0LjE0NjUgMjI5LjI3NSA4MS42NDc5IDIyNi45NzdMMjQ0LjI1IDE3Ny4xNTFDMjQ3LjU2OSAxNzYuMTM0IDI1MS4xMTYgMTc2LjEyOCAyNTQuNDM5IDE3Ny4xMzVMNDE4Ljc1NiAyMjYuODk0WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik02OS43MTY1IDIzOS40MjZMMjQ0LjM3IDE4Ni40NTZDMjQ3LjY2OSAxODUuNDU2IDI1MS4xOTEgMTg1LjQ1MyAyNTQuNDkyIDE4Ni40NDhMNDMwLjIzMiAyMzkuNDUyQzQ0NC43NiAyNDMuODMzIDQ1NC43MDEgMjU3LjIxNiA0NTQuNzAxIDI3Mi4zOVY0MzAuNDgxQzQ1NC4wMjggNDY5LjA3IDQxOS4zNjIgNTAwIDM4MC43ODYgNTAwSDMxNi43MTJDMzEwLjM3OSA1MDAgMzA1LjI1IDQ5NC44NzcgMzA1LjI1IDQ4OC41NDNWNDMzLjExNUMzMDUuMjUgNDExLjI4OSAzMTguMTY3IDM5MS41MzUgMzM4LjE1NSAzODIuNzkyQzM2NC45NDkgMzcxLjA3MSAzOTYuNjQ2IDM1NS4yMTggNDAyLjYwOCAzMjMuNDA2QzQwNC41MzIgMzEzLjEzOCAzOTcuODM3IDMwMy4yMzQgMzg3LjU5NSAzMDEuMTk4QzM2MS42OTkgMjk2LjA1MSAzMzIuOTg5IDI5OC4wMzkgMzA4LjcxMSAzMDguODk4QzI4MS4xNSAzMjEuMjI1IDI3My45NCAzNDEuNzMxIDI3MS4yNzEgMzY5LjI3TDI2OC4wMzYgMzk4LjkzOEMyNjcuMDQ3IDQwOC4wMDUgMjU4LjU0NiA0MTQuOTUyIDI0OS40MjkgNDE0Ljk1MkMyMzkuOTk4IDQxNC45NTIgMjMyLjkyNiA0MDcuNzY5IDIzMS45MDMgMzk4LjM4OEwyMjguNzI4IDM2OS4yN0MyMjYuNDQyIDM0NS42ODEgMjIyLjI5OCAzMjIuNzY3IDE5Ny45MTIgMzExLjg2QzE3MC4wOTUgMjk5LjQxOSAxNDIuMTQxIDI5NS4yODcgMTEyLjQwNCAzMDEuMTk4QzEwMi4xNjIgMzAzLjIzNCA5NS40NjcgMzEzLjEzOCA5Ny4zOTEzIDMyMy40MDZDMTAzLjQwNSAzNTUuNDk1IDEzNC44NTQgMzcwLjk4NSAxNjEuODQ0IDM4Mi43OTJDMTgxLjgzMyAzOTEuNTM1IDE5NC43NSA0MTEuMjg5IDE5NC43NSA0MzMuMTE1VjQ4OC41MzNDMTk0Ljc1IDQ5NC44NjcgMTg5LjYyMiA1MDAgMTgzLjI4OSA1MDBIMTE5LjIxNEM4MC42Mzc0IDUwMCA0NS45NzE2IDQ2OS4wNyA0NS4yOTc5IDQzMC40ODFWMjcyLjM0OUM0NS4yOTc5IDI1Ny4xOTQgNTUuMjE0MiAyNDMuODI0IDY5LjcxNjUgMjM5LjQyNloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8yMzI0XzYxODY5KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4="},tx=class extends tw{constructor({options:t}){super(),t_(this,"_wallet"),t_(this,"_options"),this._options=t}get id(){return this._options.id}get name(){return this._options.name??this._wallet?.name??this._options.id}get icon(){let t={dark:tN[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0id2hpdGUiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+Cg==",light:tN[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iYmxhY2siPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+"};return this._options.icon||this._wallet?.icon||t}available(){return this.ensureWallet(),void 0!==this._wallet}async chainId(){if(this.ensureWallet(),!this._wallet||!this._wallet.provider)throw new tE;return BigInt(await this._wallet.provider.getChainId())}async ready(){return this.ensureWallet(),!!this._wallet&&await this._wallet.isPreauthorized()}async connect(t={}){let e;if(this.ensureWallet(),!this._wallet)throw new tv;try{e=await this._wallet.enable({starknetVersion:"v5"})}catch{throw new tI}if(!this._wallet.isConnected||!this._wallet.account||!e)throw new tI;this._wallet.on("accountsChanged",async t=>{t&&await this.onAccountsChanged(t)}),this._wallet.on("networkChanged",t=>{this.onNetworkChanged(t)}),await this.onAccountsChanged(e);let r=this._wallet.account.address,n=await this.chainId();return this.emit("connect",{account:r,chainId:n}),{account:r,chainId:n}}async disconnect(){if(this.ensureWallet(),!this.available())throw new tv;if(!this._wallet?.isConnected)throw new tA;this.emit("disconnect")}async account(){if(this.ensureWallet(),!this._wallet||!this._wallet.account)throw new tE;return this._wallet.account}async request(t){if(this.ensureWallet(),!this._wallet)throw new tE;try{switch(t.type){case"wallet_getPermissions":if(this._wallet)return[u.Permission.ACCOUNTS];return[];case"wallet_requestAccounts":if(this._wallet.account)return[this._wallet.account.address];return[];case"wallet_requestChainId":if(this._wallet.chainId)return this._wallet.chainId;return null;case"wallet_addInvokeTransaction":{if(!this._wallet)throw Error("Send transaction failed");let e=(t.params.calls??[]).map(({calldata:t,contract_address:e,entry_point:r})=>({calldata:t,contractAddress:e,entrypoint:r}));return await this._wallet.account?.execute(e)}default:throw Error(`Wallet API method ${t.type} is not supported.`)}}catch{throw new tI}}ensureWallet(){var t;let e=Object.values(Object.getOwnPropertyNames(t=globalThis).reduce((e,r)=>{if(r.startsWith("starknet")){let n=t[r];(function(t){try{return t&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(e=>e in t)}catch(t){}return!1})(n)&&!e[n.id]&&(e[n.id]=n)}return e},{})).filter(t=>t.id===this._options.id)[0];e&&(this._wallet=e)}async onAccountsChanged(t){let e;if(e="string"==typeof t?t:t[0]){let t=await this.chainId();this.emit("change",{account:e,chainId:t})}else this.emit("disconnect")}onNetworkChanged(t){switch(t){case"SN_MAIN":case"mainnet-alpha":this.emit("change",{chainId:d.mainnet.id});break;case"SN_SEPOLIA":case"sepolia-alpha":this.emit("change",{chainId:d.sepolia.id});break;default:this.emit("change",{})}}};function tC(){return new tS({options:{id:"argentX",name:"Ready Wallet (formerly Argent)"}})}function tD(){return new tS({options:{id:"braavos",name:"Braavos"}})}function tM({recommended:t,includeRecommended:e="always",order:r="alphabetical",shimLegacyConnectors:n=[]}){let[i,a]=(0,l.useState)([]),s=(0,l.useCallback)(()=>{var t;a(Object.values(Object.getOwnPropertyNames(t=window).reduce((e,r)=>{if(r.startsWith("starknet")){let n=t[r];(function(t){try{return t&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(e=>e in t)}catch(t){}return!1})(n)&&!e[n.id]&&(e[n.id]=n)}return e},{})).map(t=>n.includes(t.id)?function({id:t}){return new tx({options:{id:t}})}({id:t.id}):function({id:t}){return new tS({options:{id:t}})}({id:t.id})))},[n.includes]);return(0,l.useEffect)(()=>{s()},[s]),{connectors:(0,l.useMemo)(()=>(function(t,e,{includeRecommended:r,order:n}){let i=new Set(e.map(t=>t.id)),a="always"===r||"onlyIfNoConnectors"===r&&0===t.length,s=[];return(a&&s.push(...e),s.push(...t.filter(t=>!i.has(t.id))),"random"===n)?function(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}(s):s.sort((t,e)=>t.id.localeCompare(e.id))})(i,t??[],{includeRecommended:e,order:r}),[i,t,e,r])}}var tk=l.default.createContext({account:void 0,address:void 0});function tO({address:t,account:e,children:r}){return(0,ta.jsx)(tk.Provider,{value:{account:e,address:t},children:r})}var tR=new ti,tB=(0,l.createContext)(void 0);function tL(){let t=(0,l.useContext)(tB);if(!t)throw Error("useStarknet must be used within a StarknetProvider or StarknetConfig");return t}function tP({chains:t,provider:e,paymasterProvider:r,connectors:n,explorer:i,autoConnect:a,queryClient:s,defaultChainId:o,children:c}){let{account:u,address:d,...f}=function({chains:t,provider:e,paymasterProvider:r,explorer:n,connectors:i=[],autoConnect:a=!1,defaultChainId:s}){let o=s?t.find(t=>t.id===s)??t[0]:t[0];if(void 0===o)throw Error("Must provide at least one chain.");let c=new Set;for(let e of t){if(c.has(e.id))throw Error(`Duplicated chain id found: ${e.id}`);c.add(e.id)}let{chain:u,provider:h}=tj(o,e),{paymasterProvider:d}=tU(o,r),f=(0,l.useRef)(),[p,g]=(0,l.useState)({currentChain:o,currentProvider:h,currentPaymasterProvider:d,connectors:i}),y=(0,l.useCallback)(({chainId:n})=>{if(n){for(let i of t)if(i.id===n){let{chain:t,provider:n}=tj(i,e),{paymasterProvider:a}=tU(i,r);g(e=>({...e,currentChain:t,currentProvider:n,currentPaymasterProvider:a}));return}}},[t,e,r]),m=(0,l.useCallback)(async({chainId:t,account:e})=>{t&&y({chainId:t}),e&&f.current&&g(t=>({...t,currentAddress:e}))},[y]);(0,l.useEffect)(()=>{f.current||g(t=>({...t,currentChain:o,currentProvider:tj(o,e).provider,currentPaymasterProvider:tU(o,r).paymasterProvider}))},[o]);let b=(0,l.useCallback)(async()=>{if(g(t=>({...t,currentAddress:void 0,currentProvider:h,currentPaymasterProvider:d,currentChain:o})),a&&localStorage.removeItem("lastUsedConnector"),f.current){f.current.off("change",m),f.current.off("disconnect",b);try{await f.current.disconnect()}catch{}f.current=void 0}},[a,m,h,d,o]),_=(0,l.useCallback)(async({connector:t})=>{if(!t)throw Error("Must provide a connector.");let e=f.current?.id!==t.id;e&&(f.current?.off("change",m),f.current?.off("disconnect",b));try{let{chainId:r,account:n}=await t.connect({chainIdHint:o.id});n!==p.currentAddress&&(f.current=t,g(t=>({...t,currentAddress:n}))),a&&localStorage.setItem("lastUsedConnector",t.id),e&&(t.on("change",m),t.on("disconnect",b)),y({chainId:r})}catch(t){throw g(t=>({...t,error:new tv})),t}},[a,p.currentAddress,o.id,m,y,b]);return(0,l.useEffect)(()=>{async function t(t){let e=localStorage.getItem("lastUsedConnector");if(null===e)return;let r=t.find(t=>t.id===e);if(void 0!==r)try{if(!await r.ready())return;_({connector:r})}catch{}}a&&!f.current&&t(i)},[]),{address:p.currentAddress,provider:p.currentProvider,paymasterProvider:p.currentPaymasterProvider,chain:p.currentChain,connector:f.current,explorer:n,connect:_,disconnect:b,connectors:i,chains:t}}({chains:t,provider:e,paymasterProvider:r??function({apiKey:t}){return function({rpc:t}){return e=>{let r=t(e);return r?new h.PaymasterRpc(r):null}}({rpc:e=>{let r=e.paymasterRpcUrls.avnu.http[0];return r?{nodeUrl:r,headers:{"x-paymaster-api-key":t??""}}:null}})}({}),explorer:i,connectors:n,autoConnect:a,defaultChainId:o});return(0,ta.jsx)(tc,{client:s??tR,children:(0,ta.jsx)(tB.Provider,{value:f,children:(0,ta.jsx)(tO,{address:d,account:u,children:c})})})}function tj(t,e){let r=e(t);if(r)return{chain:t,provider:r};throw Error(`No provider found for chain ${t.name}`)}function tU(t,e){let r=e(t);if(r)return{chain:t,paymasterProvider:r};throw Error(`No paymaster provider found for chain ${t.name}`)}function tz({children:t,...e}){return(0,ta.jsx)(tP,{...e,children:t})}var tF=class{constructor(t){t_(this,"name","Voyager"),t_(this,"link"),this.link=t.explorers?.voyager?.toString()??""}block(t){if(void 0!==t.number&&void 0===t.hash)throw Error("The voyager explorer doesn't support numbers for blocks. Please provide a hash.");return`${this.link}/block/${t.hash}`}transaction(t){return`${this.link}/tx/${t}`}contract(t){return`${this.link}/contract/${t}`}class(t){return`${this.link}/class/${t}`}},tV=t=>new tF(t);function tH(t){return(0,h.validateAndParseAddress)(t)}function t$(){let{provider:t,paymasterProvider:e}=tL();return{provider:t,paymasterProvider:e}}function tY(){let{connector:t,chain:e}=tL(),{provider:r,paymasterProvider:n}=t$(),{address:i}=function(){let{account:t,address:e}=(0,l.useContext)(tk);return{account:t,address:e}}(),[a,s]=(0,l.useState)(void 0===i?{status:"disconnected"}:{status:"connected",connector:t,chainId:e.id,account:void 0,address:tH(i),isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1}),o=(0,l.useCallback)(async()=>{if(!t||!r||!i)return s({status:"disconnected",connector:void 0,chainId:void 0,account:void 0,address:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1});s({status:"connected",connector:t,chainId:e.id,account:void 0,address:tH(i),isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1}),t.account(r,n).then(t=>s(e=>({...e,account:t})))},[r,n,t,e.id,i]);return(0,l.useEffect)(()=>{o()},[o]),a}function tq(t){let e=function(t,e,r){let n,i=l.useContext(tg),a=l.useContext(tp),s=to(r),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let c=s.getQueryCache().get(o.queryHash);if(o._optimisticResults=i?"isRestoring":"optimistic",o.suspense){let t=t=>"static"===t?t:Math.max(t??1e3,1e3),e=o.staleTime;o.staleTime="function"==typeof e?(...r)=>t(e(...r)):t(e),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}n=c?.state.error&&"function"==typeof o.throwOnError?L(o.throwOnError,[c.state.error,c]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||n)&&!a.isReset()&&(o.retryOnMount=!1),l.useEffect(()=>{a.clearReset()},[a]);let u=!s.getQueryCache().get(o.queryHash),[h]=l.useState(()=>new e(s,o)),d=h.getOptimisticResult(o),f=!i&&!1!==t.subscribed;if(l.useSyncExternalStore(l.useCallback(t=>{let e=f?h.subscribe(P.batchCalls(t)):y;return h.updateResult(),e},[h,f]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),l.useEffect(()=>{h.setOptions(o)},[o,h]),o?.suspense&&d.isPending)throw ty(o,h,a);if((({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&void 0===t.data||L(r,[t.error,n])))({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:c,suspense:o.suspense}))throw d.error;if(s.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!g&&d.isLoading&&d.isFetching&&!i){let t=u?ty(o,h,a):c?.promise;t?.catch(y).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?d:h.trackResult(d)}({...t,structuralSharing:!1},tl,void 0);return{data:e.data,error:e.error,status:e.status,isSuccess:e.isSuccess,isError:e.isError,isPending:e.isPending,fetchStatus:e.fetchStatus,isFetching:e.isFetching,isLoading:e.isLoading,refetch:e.refetch}}function tQ(t){let e=function(t,e){let r=to(void 0),[n]=l.useState(()=>new tm(r,t));l.useEffect(()=>{n.setOptions(t)},[n,t]);let i=l.useSyncExternalStore(l.useCallback(t=>n.subscribe(P.batchCalls(t)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=l.useCallback((t,e)=>{n.mutate(t,e).catch(y)},[n]);if(i.error&&L(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}(t);return{data:e.data,error:e.error,reset:e.reset,isError:e.isError,isIdle:e.isIdle,isPending:e.isPending,isSuccess:e.isSuccess,isPaused:e.isPaused,mutate:e.mutate,mutateAsync:e.mutateAsync,status:e.status,variables:e.variables}}function tW({abi:t,address:e,provider:r}){let{provider:n}=tL();return{contract:(0,l.useMemo)(()=>{let i=r||n;if(t&&e&&i)return new h.Contract({abi:t,address:e,providerOrAccount:i}).typedv2(t)},[t,e,r,n])}}function tZ({enabled:t=!0,queryKey:e}){let r=to(),[n,i]=(0,l.useState)(),{data:a}=function({blockIdentifier:t=h.BlockTag.LATEST,...e}={}){let{provider:r}=tL();return tq({queryKey:function({blockIdentifier:t}){return[{entity:"blockNumber",blockIdentifier:t}]}({blockIdentifier:t}),queryFn:function({provider:t,blockIdentifier:e}){return async()=>{let r=await t.getBlock(e);if("PENDING"!==r.status)return r.block_number}}({provider:r,blockIdentifier:t}),...e})}({enabled:t});(0,l.useEffect)(()=>n?a!==n?(r.invalidateQueries({queryKey:e},{cancelRefetch:!1}),i(a)):void 0:i(a),[a,n,e,r])}function tG(){let{chain:t,chains:e}=tL();return{chain:t,chains:e}}function tK({token:t,address:e,refetchInterval:r,watch:n=!1,enabled:i=!0,blockIdentifier:a=h.BlockTag.LATEST,...s}){let{chain:o}=tG(),c=t??o.nativeCurrency.address,{contract:u}=tW({abi:tX,address:c}),d=(0,l.useMemo)(()=>(function({chain:t,token:e,address:r,blockIdentifier:n}){return[{entity:"balance",chainId:t?.name,token:e,address:r,blockIdentifier:n}]})({chain:o,token:c,address:e,blockIdentifier:a}),[o,c,e,a]),f=(0,l.useMemo)(()=>!!(i&&u&&e),[i,u,e]),p=r??(a===h.BlockTag.PRE_CONFIRMED&&n?5e3:void 0);return tZ({enabled:!!(f&&n),queryKey:d}),tq({enabled:f,refetchInterval:p,queryKey:d,queryFn:function({chain:t,token:e,address:r,contract:n,blockIdentifier:i}){return async()=>{if(!r)throw Error("address is required");if(!n)throw Error("contract is required");let a={blockIdentifier:i},s=e===t.nativeCurrency.address,o=t.nativeCurrency.symbol;if(!s){let t=await n.withOptions(a).symbol();o=h.shortString.decodeShortString(h.num.toHex(t))}let c=t.nativeCurrency.decimals;s||(c=Number(await n.withOptions(a).decimals()));let l=await n.withOptions(a).balanceOf(r),u=function(t,e){let r=t.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,a]=[(r=r.padStart(e,"0")).slice(0,r.length-e),r.slice(r.length-e)];return a=a.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${a?`.${a}`:""}`}(l,c);return{value:l,decimals:c,symbol:o,formatted:u}}}({chain:o,contract:u,token:c,address:e,blockIdentifier:a}),...s})}var tX=[{name:"core::integer::u256",type:"struct",members:[{name:"low",type:"core::integer::u128"},{name:"high",type:"core::integer::u128"}]},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"symbol",type:"function",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{name:"decimals",type:"function",inputs:[],outputs:[{type:"core::integer::u8"}],state_mutability:"view"}];function tJ(t={}){let{connector:e,connectors:r,connect:n,chain:i}=tL(),{mutate:a,mutateAsync:s,variables:o,...c}=tQ({mutationKey:[{entity:"connect",chainId:i.name}],mutationFn:n,...t}),u=(0,l.useCallback)(t=>a(t??{connector:e}),[a,e]),h=(0,l.useCallback)(t=>s(t??{connector:e}),[s,e]);return{connector:e,connectors:r,pendingConnector:o?.connector,connect:u,connectAsync:h,variables:o,...c}}function t0(t={}){let{disconnect:e,chain:r}=tL(),{mutate:n,mutateAsync:i,...a}=tQ({mutationKey:[{entity:"disconnect",chainId:r.name}],mutationFn:e,...t});return{disconnect:n,disconnectAsync:i,...a}}function t1(t){return function({abi:t,address:e,functionName:r,args:n,blockIdentifier:i=h.BlockTag.LATEST,refetchInterval:a,watch:s=!1,enabled:o=!0,parseArgs:c,parseResult:u,...d}){let{chain:f}=tG(),{contract:p}=tW({abi:t,address:e}),g=(0,l.useMemo)(()=>(function({chain:t,contract:e,functionName:r,args:n,blockIdentifier:i}){return[{entity:"readContract",chainId:t?.name,contract:e?.address,functionName:r,args:JSON.stringify(n,(t,e)=>"bigint"==typeof e?e.toString(10):e),blockIdentifier:i}]})({chain:f,contract:p,functionName:r,args:n,blockIdentifier:i}),[f,p,r,n,i]),y=(0,l.useMemo)(()=>!!(o&&p&&r&&n),[o,p,r,n]),m=a??(i===h.BlockTag.PRE_CONFIRMED&&s?5e3:void 0);return tZ({enabled:!!(y&&s),queryKey:g}),tq({queryKey:g,queryFn:function({contract:t,functionName:e,args:r,blockIdentifier:n,parseArgs:i=!0,parseResult:a=!0}){return async()=>{if(!t)throw Error("contract is required");if(void 0===t.functions[e])throw Error(`function ${e} not found in contract`);return t.call(e,r,{parseRequest:i,parseResponse:a,blockIdentifier:n})}}({contract:p,functionName:r,args:n,blockIdentifier:i,parseArgs:c,parseResult:u}),refetchInterval:m,enabled:y,...d})}(t)}function t2(t){let{calls:e,...r}=t,{request:n,requestAsync:i,...a}=function(t){let{connector:e}=tL(),{type:r,params:n,...i}=t,{mutate:a,mutateAsync:s,...o}=tQ({mutationKey:function({type:t,params:e}){return[{entity:"walletRequest",type:t,params:e}]}({type:r,params:n}),mutationFn:function({connector:t}){return async({type:e,params:r})=>{if(!t)throw Error("No connector connected");if(!e)throw Error("Type is required");return await t.request({type:e,params:r})}}({connector:e}),...i});return{request:(0,l.useCallback)(t=>a(t??{type:r,params:n}),[a,r,n]),requestAsync:(0,l.useCallback)(t=>s(t??{type:r,params:n}),[s,r,n]),...o}}({type:"wallet_addInvokeTransaction",params:e?{calls:t5(e)}:void 0,...r});return{send:t=>n(t?{params:{calls:t5(t)},type:"wallet_addInvokeTransaction"}:void 0),sendAsync:t=>i(t?{params:{calls:t5(t)},type:"wallet_addInvokeTransaction"}:void 0),...a}}function t5(t){return t.map(t=>({contract_address:t.contractAddress,entry_point:t.entrypoint,calldata:t.calldata}))}function t4(){return function({rpc:t}){return e=>{let r=t(e);if(!r)return null;let n=function(t){switch(t){case d.mainnet.id:return h.constants.StarknetChainId.SN_MAIN;case d.sepolia.id:return h.constants.StarknetChainId.SN_SEPOLIA;default:return}}(e.id);return new h.RpcProvider({...r,chainId:n})}}({rpc:t=>{let e=t.rpcUrls.public.http,r=e[Math.floor(Math.random()*e.length)];return r?{nodeUrl:r,specVersion:"0.8.1"}:null}})}t.s(["StarknetConfig",()=>tz,"braavos",()=>tD,"publicProvider",()=>t4,"ready",()=>tC,"useAccount",()=>tY,"useBalance",()=>tK,"useConnect",()=>tJ,"useContract",()=>tW,"useDisconnect",()=>t0,"useInjectedConnectors",()=>tM,"useProvider",()=>t$,"useReadContract",()=>t1,"useSendTransaction",()=>t2,"voyager",()=>tV],23529)}]);