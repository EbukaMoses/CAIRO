module.exports=[17589,a=>{"use strict";var b={id:BigInt("0x534e5f5345504f4c4941"),network:"devnet",name:"Starknet Devnet",nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},testnet:!0,rpcUrls:{default:{http:[]},public:{http:["http://localhost:5050/rpc"]}},paymasterRpcUrls:{avnu:{http:["http://localhost:5050"]}}};function c(a){return{id:BigInt(a),network:`slot-${a}`,name:`${a}`,nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},testnet:!0,rpcUrls:{default:{http:[]},public:{http:[`https://api.cartridge.gg/x/${a}/katana`]}},paymasterRpcUrls:{avnu:{http:["https://sepolia.paymaster.avnu.fi/"]}}}}var d={id:BigInt("0x534e5f4d41494e"),network:"mainnet",name:"Starknet",nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://starknet-mainnet.g.alchemy.com/v2"]},blast:{http:["https://starknet-mainnet.blastapi.io"]},infura:{http:["https://starknet-mainnet.infura.io/v3"]},lava:{http:["https://g.w.lavanet.xyz:443/gateway/strk/rpc-http"]},cartridge:{http:["https://api.cartridge.gg/x/starknet/mainnet"]},default:{http:[]},public:{http:["https://starknet-mainnet.public.blastapi.io/rpc/v0_8","https://rpc.starknet.lava.build"]}},paymasterRpcUrls:{avnu:{http:["https://starknet.paymaster.avnu.fi/"]}},explorers:{starkCompass:["https://www.starkcompass.com"],cartridge:["https://explorer.cartridge.gg"],starkscan:["https://starkscan.co"],viewblock:["https://viewblock.io/starknet"],voyager:["https://voyager.online"]}},e={id:BigInt("0x534e5f5345504f4c4941"),network:"sepolia",name:"Starknet Sepolia Testnet",nativeCurrency:{address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",name:"Ether",symbol:"ETH",decimals:18},testnet:!0,rpcUrls:{blast:{http:["https://starknet-sepolia.blastapi.io"]},infura:{http:["https://starknet-sepolia.infura.io/v3"]},cartridge:{http:["https://api.cartridge.gg/x/starknet/sepolia"]},default:{http:[]},public:{http:["https://starknet-sepolia.public.blastapi.io"]}},paymasterRpcUrls:{avnu:{http:["https://sepolia.paymaster.avnu.fi/"]}},explorers:{cartridge:["https://starknet-sepolia.explorer.cartridge.gg"],starkscan:["https://sepolia.starkscan.co"],voyager:["https://sepolia.voyager.online"]}};a.s(["devnet",()=>b,"getSlotChain",()=>c,"mainnet",()=>d,"sepolia",()=>e])},53686,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},61607,65678,49112,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k=a.i(53686).default;a.s(["default",0,k],61607),a.s(["Permission",0,{ACCOUNTS:"accounts"}],65678),a.s([],62269);var l,m,n,o=a.i(62269);a.s([],14374),a.i(14374),a.s([],4423),a.i(4423),a.s([],68617),a.i(68617),a.s([],12773),a.i(12773),a.s([],94063),a.i(94063);let p="ACCEPTED_ON_L2",q="ACCEPTED_ON_L1",r="SUCCEEDED",s="REVERTED",t="PENDING",u="REJECTED",v="RECEIVED",w="DECLARE",x="DEPLOY",y="DEPLOY_ACCOUNT",z="INVOKE",A="L1_HANDLER",B="struct",C="event",D="function",E="constructor",F="l1_handler",G="enum",H="view",I="external",J={BLOB:"BLOB",CALLDATA:"CALLDATA"},K={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},L={DECLARE:w,DEPLOY:x,DEPLOY_ACCOUNT:y,INVOKE:z,L1_HANDLER:A},M={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},N={RECEIVED:v,REJECTED:u,ACCEPTED_ON_L2:p,ACCEPTED_ON_L1:q},O={ACCEPTED_ON_L2:p,ACCEPTED_ON_L1:q},P={SUCCEEDED:r,REVERTED:s},Q={LATEST:"latest",PENDING:"pending"},R={L1:"L1",L2:"L2"},S={L1:0,L2:1},T={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},U={V0:T.V0,V1:T.V1,V2:T.V2,F0:T.F0,F1:T.F1,F2:T.F2},V={V3:T.V3,F3:T.F3};a.s(["ABI_TYPE_CONSTRUCTOR",0,E,"ABI_TYPE_ENUM",0,G,"ABI_TYPE_FUNCTION",0,D,"ABI_TYPE_L1_HANDLER",0,F,"CALL_TYPE",0,K,"EBlockTag",0,Q,"EDAMode",0,S,"EDataAvailabilityMode",0,R,"ESimulationFlag",0,M,"ETransactionExecutionStatus",0,P,"ETransactionFinalityStatus",0,O,"ETransactionStatus",0,N,"ETransactionType",0,L,"ETransactionVersion",0,T,"ETransactionVersion2",0,U,"ETransactionVersion3",0,V,"EVENT_ABI_TYPE",0,C,"L1_DA_MODE",0,J,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,I,"STATE_MUTABILITY_VIEW",0,H,"STATUS_ACCEPTED_ON_L1",0,q,"STATUS_ACCEPTED_ON_L2",0,p,"STATUS_PENDING",0,t,"STATUS_RECEIVED",0,v,"STATUS_REJECTED",0,u,"STATUS_REVERTED",0,s,"STATUS_SUCCEEDED",0,r,"STRUCT_ABI_TYPE",0,B,"TXN_TYPE_DECLARE",0,w,"TXN_TYPE_DEPLOY",0,x,"TXN_TYPE_DEPLOY_ACCOUNT",0,y,"TXN_TYPE_INVOKE",0,z,"TXN_TYPE_L1_HANDLER",0,A],56716),a.i(56716),a.s([],89268),a.i(89268),a.s([],48390),a.i(48390),a.s(["ABI_TYPE_CONSTRUCTOR",0,E,"ABI_TYPE_ENUM",0,G,"ABI_TYPE_FUNCTION",0,D,"ABI_TYPE_L1_HANDLER",0,F,"CALL_TYPE",0,K,"CONTRACT",0,o,"EBlockTag",0,Q,"EDAMode",0,S,"EDataAvailabilityMode",0,R,"ESimulationFlag",0,M,"ETransactionExecutionStatus",0,P,"ETransactionFinalityStatus",0,O,"ETransactionStatus",0,N,"ETransactionType",0,L,"ETransactionVersion",0,T,"ETransactionVersion2",0,U,"ETransactionVersion3",0,V,"EVENT_ABI_TYPE",0,C,"L1_DA_MODE",0,J,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,I,"STATE_MUTABILITY_VIEW",0,H,"STATUS_ACCEPTED_ON_L1",0,q,"STATUS_ACCEPTED_ON_L2",0,p,"STATUS_PENDING",0,t,"STATUS_RECEIVED",0,v,"STATUS_REJECTED",0,u,"STATUS_REVERTED",0,s,"STATUS_SUCCEEDED",0,r,"STRUCT_ABI_TYPE",0,B,"TXN_TYPE_DECLARE",0,w,"TXN_TYPE_DEPLOY",0,x,"TXN_TYPE_DEPLOY_ACCOUNT",0,y,"TXN_TYPE_INVOKE",0,z,"TXN_TYPE_L1_HANDLER",0,A],72146);var W=a.i(72146);a.s([],84770),a.i(84770);let X={ACCOUNTS:"accounts"};a.s(["Permission",0,X],40137),a.i(40137);let Y={ACTIVE:"1",LEGACY:"0"};a.s(["TypedDataRevision",0,Y],72090),a.i(72090),a.s([],25916),a.i(25916),a.s([],68525),a.i(68525),a.s([],4669),a.i(4669),a.s([],70969),a.i(70969),a.s([],93180),a.i(93180),a.s(["Permission",0,X,"TypedDataRevision",0,Y],57957);var Z=a.i(57957);a.s([],63881),a.i(63881),a.s([],93312),a.i(93312),a.s([],94815),a.i(94815),a.s([],91118),a.i(91118),a.s([],97496),a.i(97496),a.s([],95246);var $=a.i(95246);a.s([],38820),a.i(38820),a.s(["ABI_TYPE_CONSTRUCTOR",0,E,"ABI_TYPE_ENUM",0,G,"ABI_TYPE_FUNCTION",0,D,"ABI_TYPE_L1_HANDLER",0,F,"API",0,W,"CALL_TYPE",0,K,"CONTRACT",()=>o,"EBlockTag",0,Q,"EDAMode",0,S,"EDataAvailabilityMode",0,R,"ESimulationFlag",0,M,"ETransactionExecutionStatus",0,P,"ETransactionFinalityStatus",0,O,"ETransactionStatus",0,N,"ETransactionType",0,L,"ETransactionVersion",0,T,"ETransactionVersion2",0,U,"ETransactionVersion3",0,V,"EVENT_ABI_TYPE",0,C,"L1_DA_MODE",0,J,"PAYMASTER_API",0,$,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","Permission",0,X,"STATE_MUTABILITY_EXTERNAL",0,I,"STATE_MUTABILITY_VIEW",0,H,"STATUS_ACCEPTED_ON_L1",0,q,"STATUS_ACCEPTED_ON_L2",0,p,"STATUS_PENDING",0,t,"STATUS_RECEIVED",0,v,"STATUS_REJECTED",0,u,"STATUS_REVERTED",0,s,"STATUS_SUCCEEDED",0,r,"STRUCT_ABI_TYPE",0,B,"TXN_TYPE_DECLARE",0,w,"TXN_TYPE_DEPLOY",0,x,"TXN_TYPE_DEPLOY_ACCOUNT",0,y,"TXN_TYPE_INVOKE",0,z,"TXN_TYPE_L1_HANDLER",0,A,"TypedDataRevision",0,Y,"WALLET_API",0,Z],29752);var _=a.i(29752);a.s([],11896);var aa=a.i(11896);a.s([],2018),a.i(2018),a.s([],19859),a.i(19859),a.s([],27464),a.i(27464),a.s([],25977),a.i(25977),a.s([],68706),a.i(68706);let ab="ACCEPTED_ON_L2",ac="ACCEPTED_ON_L1",ad="SUCCEEDED",ae="REVERTED",af="RECEIVED",ag="CANDIDATE",ah="PRE_CONFIRMED",ai=ah.toLowerCase(),aj="DECLARE",ak="DEPLOY",al="DEPLOY_ACCOUNT",am="INVOKE",an="L1_HANDLER",ao="struct",ap="event",aq="function",ar="constructor",as="l1_handler",at="enum",au="view",av="external",aw={BLOB:"BLOB",CALLDATA:"CALLDATA"},ax={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},ay={DECLARE:aj,DEPLOY:ak,DEPLOY_ACCOUNT:al,INVOKE:am,L1_HANDLER:an},az={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},aA={RECEIVED:af,CANDIDATE:ag,PRE_CONFIRMED:ah,ACCEPTED_ON_L2:ab,ACCEPTED_ON_L1:ac},aB={PRE_CONFIRMED:ah,ACCEPTED_ON_L2:ab,ACCEPTED_ON_L1:ac},aC={SUCCEEDED:ad,REVERTED:ae},aD={LATEST:"latest",PRE_CONFIRMED:ai,L1_ACCEPTED:"l1_accepted"},aE={PRE_CONFIRMED:ah,ACCEPTED_ON_L2:ab,ACCEPTED_ON_L1:ac},aF={L1:"L1",L2:"L2"},aG={L1:0,L2:1},aH={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},aI={V0:aH.V0,V1:aH.V1,V2:aH.V2,F0:aH.F0,F1:aH.F1,F2:aH.F2},aJ={V3:aH.V3,F3:aH.F3};a.s(["ABI_TYPE_CONSTRUCTOR",0,ar,"ABI_TYPE_ENUM",0,at,"ABI_TYPE_FUNCTION",0,aq,"ABI_TYPE_L1_HANDLER",0,as,"CALL_TYPE",0,ax,"EBlockStatus",0,aE,"EBlockTag",0,aD,"EDAMode",0,aG,"EDataAvailabilityMode",0,aF,"ESimulationFlag",0,az,"ETransactionExecutionStatus",0,aC,"ETransactionFinalityStatus",0,aB,"ETransactionStatus",0,aA,"ETransactionType",0,ay,"ETransactionVersion",0,aH,"ETransactionVersion2",0,aI,"ETransactionVersion3",0,aJ,"EVENT_ABI_TYPE",0,ap,"L1_DA_MODE",0,aw,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,av,"STATE_MUTABILITY_VIEW",0,au,"STATUS_ACCEPTED_ON_L1",0,ac,"STATUS_ACCEPTED_ON_L2",0,ab,"STATUS_CANDIDATE",0,ag,"STATUS_PRE_CONFIRMED",0,ah,"STATUS_PRE_CONFIRMED_LOWERCASE",0,ai,"STATUS_RECEIVED",0,af,"STATUS_REVERTED",0,ae,"STATUS_SUCCEEDED",0,ad,"STRUCT_ABI_TYPE",0,ao,"TXN_TYPE_DECLARE",0,aj,"TXN_TYPE_DEPLOY",0,ak,"TXN_TYPE_DEPLOY_ACCOUNT",0,al,"TXN_TYPE_INVOKE",0,am,"TXN_TYPE_L1_HANDLER",0,an],32918),a.i(32918),a.s([],8942),a.i(8942),a.s([],45154),a.i(45154),a.s(["ABI_TYPE_CONSTRUCTOR",0,ar,"ABI_TYPE_ENUM",0,at,"ABI_TYPE_FUNCTION",0,aq,"ABI_TYPE_L1_HANDLER",0,as,"CALL_TYPE",0,ax,"CONTRACT",0,aa,"EBlockStatus",0,aE,"EBlockTag",0,aD,"EDAMode",0,aG,"EDataAvailabilityMode",0,aF,"ESimulationFlag",0,az,"ETransactionExecutionStatus",0,aC,"ETransactionFinalityStatus",0,aB,"ETransactionStatus",0,aA,"ETransactionType",0,ay,"ETransactionVersion",0,aH,"ETransactionVersion2",0,aI,"ETransactionVersion3",0,aJ,"EVENT_ABI_TYPE",0,ap,"L1_DA_MODE",0,aw,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","STATE_MUTABILITY_EXTERNAL",0,av,"STATE_MUTABILITY_VIEW",0,au,"STATUS_ACCEPTED_ON_L1",0,ac,"STATUS_ACCEPTED_ON_L2",0,ab,"STATUS_CANDIDATE",0,ag,"STATUS_PRE_CONFIRMED",0,ah,"STATUS_PRE_CONFIRMED_LOWERCASE",0,ai,"STATUS_RECEIVED",0,af,"STATUS_REVERTED",0,ae,"STATUS_SUCCEEDED",0,ad,"STRUCT_ABI_TYPE",0,ao,"TXN_TYPE_DECLARE",0,aj,"TXN_TYPE_DEPLOY",0,ak,"TXN_TYPE_DEPLOY_ACCOUNT",0,al,"TXN_TYPE_INVOKE",0,am,"TXN_TYPE_L1_HANDLER",0,an],30610);var aK=a.i(30610);a.s([],29722),a.i(29722);let aL={ACCOUNTS:"accounts"};a.s(["Permission",0,aL],1181),a.i(1181);let aM={ACTIVE:"1",LEGACY:"0"};a.s(["TypedDataRevision",0,aM],32104),a.i(32104),a.s([],57706),a.i(57706),a.s([],83575),a.i(83575),a.s([],61634),a.i(61634),a.s([],46482),a.i(46482),a.s([],88100),a.i(88100),a.s(["Permission",0,aL,"TypedDataRevision",0,aM],72151);var aN=a.i(72151);a.s([],92899),a.i(92899),a.s([],30718),a.i(30718),a.s([],55417),a.i(55417),a.s([],15858),a.i(15858),a.s([],20254),a.i(20254),a.s([],6795);var aO=a.i(6795);a.s([],63553),a.i(63553),a.s(["ABI_TYPE_CONSTRUCTOR",0,ar,"ABI_TYPE_ENUM",0,at,"ABI_TYPE_FUNCTION",0,aq,"ABI_TYPE_L1_HANDLER",0,as,"API",0,aK,"CALL_TYPE",0,ax,"CONTRACT",()=>aa,"EBlockStatus",0,aE,"EBlockTag",0,aD,"EDAMode",0,aG,"EDataAvailabilityMode",0,aF,"ESimulationFlag",0,az,"ETransactionExecutionStatus",0,aC,"ETransactionFinalityStatus",0,aB,"ETransactionStatus",0,aA,"ETransactionType",0,ay,"ETransactionVersion",0,aH,"ETransactionVersion2",0,aI,"ETransactionVersion3",0,aJ,"EVENT_ABI_TYPE",0,ap,"L1_DA_MODE",0,aw,"PAYMASTER_API",0,aO,"PRICE_UNIT_FRI",0,"FRI","PRICE_UNIT_WEI",0,"WEI","Permission",0,aL,"STATE_MUTABILITY_EXTERNAL",0,av,"STATE_MUTABILITY_VIEW",0,au,"STATUS_ACCEPTED_ON_L1",0,ac,"STATUS_ACCEPTED_ON_L2",0,ab,"STATUS_CANDIDATE",0,ag,"STATUS_PRE_CONFIRMED",0,ah,"STATUS_PRE_CONFIRMED_LOWERCASE",0,ai,"STATUS_RECEIVED",0,af,"STATUS_REVERTED",0,ae,"STATUS_SUCCEEDED",0,ad,"STRUCT_ABI_TYPE",0,ao,"TXN_TYPE_DECLARE",0,aj,"TXN_TYPE_DEPLOY",0,ak,"TXN_TYPE_DEPLOY_ACCOUNT",0,al,"TXN_TYPE_INVOKE",0,am,"TXN_TYPE_L1_HANDLER",0,an,"TypedDataRevision",0,aM,"WALLET_API",0,aN],25684);var aP=a.i(25684);function aQ(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function aR(a,b){return!!Array.isArray(b)&&(0===b.length||(a?b.every(a=>"string"==typeof a):b.every(a=>Number.isSafeInteger(a))))}function aS(a){if("function"!=typeof a)throw Error("function expected");return!0}function aT(a,b){if("string"!=typeof b)throw Error(`${a}: string expected`);return!0}function aU(a){if(!Number.isSafeInteger(a))throw Error(`invalid integer: ${a}`)}function aV(a){if(!Array.isArray(a))throw Error("array expected")}function aW(a,b){if(!aR(!0,b))throw Error(`${a}: array of strings expected`)}function aX(a,b){if(!aR(!1,b))throw Error(`${a}: array of numbers expected`)}function aY(...a){let b=a=>a,c=(a,b)=>c=>a(b(c));return{encode:a.map(a=>a.encode).reduceRight(c,b),decode:a.map(a=>a.decode).reduce(c,b)}}function aZ(a){let b="string"==typeof a?a.split(""):a,c=b.length;aW("alphabet",b);let d=new Map(b.map((a,b)=>[a,b]));return{encode:d=>(aV(d),d.map(d=>{if(!Number.isSafeInteger(d)||d<0||d>=c)throw Error(`alphabet.encode: digit index outside alphabet "${d}". Allowed: ${a}`);return b[d]})),decode:b=>(aV(b),b.map(b=>{aT("alphabet.decode",b);let c=d.get(b);if(void 0===c)throw Error(`Unknown letter: "${b}". Allowed: ${a}`);return c}))}}function a$(a=""){return aT("join",a),{encode:b=>(aW("join.decode",b),b.join(a)),decode:b=>(aT("join.decode",b),b.split(a))}}function a_(a,b,c){if(b<2)throw Error(`convertRadix: invalid from=${b}, base cannot be less than 2`);if(c<2)throw Error(`convertRadix: invalid to=${c}, base cannot be less than 2`);if(aV(a),!a.length)return[];let d=0,e=[],f=Array.from(a,a=>{if(aU(a),a<0||a>=b)throw Error(`invalid integer: ${a}`);return a}),g=f.length;for(;;){let a=0,h=!0;for(let e=d;e<g;e++){let g=f[e],i=b*a,j=i+g;if(!Number.isSafeInteger(j)||i/b!==a||j-g!==i)throw Error("convertRadix: carry overflow");let k=j/c;a=j%c;let l=Math.floor(k);if(f[e]=l,!Number.isSafeInteger(l)||l*c+a!==j)throw Error("convertRadix: carry overflow");h&&(l?h=!1:d=e)}if(e.push(a),h)break}for(let b=0;b<a.length-1&&0===a[b];b++)e.push(0);return e.reverse()}let a0=(a,b)=>0===b?a:a0(b,a%b),a1=(a,b)=>a+(b-a0(a,b)),a2=(()=>{let a=[];for(let b=0;b<40;b++)a.push(2**b);return a})();function a3(a,b,c,d){if(aV(a),b<=0||b>32)throw Error(`convertRadix2: wrong from=${b}`);if(c<=0||c>32)throw Error(`convertRadix2: wrong to=${c}`);if(a1(b,c)>32)throw Error(`convertRadix2: carry overflow from=${b} to=${c} carryBits=${a1(b,c)}`);let e=0,f=0,g=a2[b],h=a2[c]-1,i=[];for(let d of a){if(aU(d),d>=g)throw Error(`convertRadix2: invalid data word=${d} from=${b}`);if(e=e<<b|d,f+b>32)throw Error(`convertRadix2: carry overflow pos=${f} from=${b}`);for(f+=b;f>=c;f-=c)i.push((e>>f-c&h)>>>0);let a=a2[f];if(void 0===a)throw Error("invalid carry");e&=a-1}if(e=e<<c-f&h,!d&&f>=b)throw Error("Excess padding");if(!d&&e>0)throw Error(`Non-zero padding: ${e}`);return d&&f>0&&i.push(e>>>0),i}let a4=aY(function(a,b=!1){aU(6),!1;if(a1(8,6)>32||a1(6,8)>32)throw Error("radix2: carry overflow");return{encode:a=>{if(!aQ(a))throw Error("radix2.encode input should be Uint8Array");return a3(Array.from(a),8,6,!b)},decode:a=>(aX("radix2.decode",a),Uint8Array.from(a3(a,6,8,b)))}}(6),aZ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),function(a,b="="){return aU(6),aT("padding",b),{encode(a){for(aW("padding.encode",a);6*a.length%8;)a.push(b);return a},decode(a){aW("padding.decode",a);let c=a.length;if(6*c%8)throw Error("padding: invalid, string should have whole number of bytes");for(;c>0&&a[c-1]===b;c--)if((c-1)*6%8==0)throw Error("padding: invalid, string has too much padding");return a.slice(0,c)}}}(6),a$("")),a5=(aU(58),aY(aZ("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a$("")));function a6(a){throw Error("config is deprecated, support for circularRefs is removed from the library. If you encounter circular references in your data structures, please rethink your datastructures: better prevent circular references in the first place.")}function a7(a){return a8.test(a)}aS(a=>{if("string"!=typeof a||a.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()});let a8=/^-?[0-9]+$/;function a9(a){return ba.test(a)}let ba=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function bb(a,b){if(a7(a))return Number.isSafeInteger(Number.parseInt(a,10));let c=String(Number.parseFloat(a));if(a===c)return!0;let d=bh(a),e=bh(c);return!!(d===e||b?.approx===!0&&!a7(a)&&e.length>=14&&d.startsWith(e.substring(0,14)))||!1}let bc=((l={}).underflow="underflow",l.overflow="overflow",l.truncate_integer="truncate_integer",l.truncate_float="truncate_float",l);function bd(a){if(bb(a,{approx:!1}))return;if(a7(a))return bc.truncate_integer;let b=Number.parseFloat(a);return Number.isFinite(b)?0===b?bc.underflow:bc.truncate_float:bc.overflow}function be(a,b){let c=Number.parseFloat(a),d=bd(a);if(b?.approx===!0?d&&d!==bc.truncate_float:d){let b=d?.replace(/_\w+$/,"");throw Error(`Cannot safely convert to number: the value '${a}' would ${b} and become ${c}`)}return c}function bf(a){let b=a.match(/^(-?)(\d+\.?\d*)([eE]([+-]?\d+))?$/);if(!b)throw SyntaxError(`Invalid number: ${a}`);let c=b[1],d=b[2],e=void 0!==b[4]?Number.parseInt(b[4],10):0,f=d.indexOf(".");e+=-1!==f?f-1:d.length-1;let g=d.replace(".","").replace(/^0*/,a=>(e-=a.length,"")).replace(/0*$/,"");return g.length>0?{sign:c,digits:g,exponent:e}:{sign:c,digits:"0",exponent:e+1}}function bg(a,b){if(a===b)return 0;let c=bf(a),d=bf(b),e="-"===c.sign?-1:1;return c.sign!==d.sign?"0"===c.digits&&"0"===d.digits?0:e:c.exponent!==d.exponent?c.exponent>d.exponent?e:c.exponent<d.exponent?-e:0:c.digits>d.digits?e:c.digits<d.digits?-e:0}function bh(a){let{start:b,end:c}=bi(a),d=a.substring(b,c),e=d.indexOf(".");return -1===e?d:d.substring(0,e)+d.substring(e+1)}function bi(a){let b=0;for("-"===a[0]&&b++;"0"===a[b]||"."===a[b];)b++;let c=a.lastIndexOf("e");for(-1===c&&(c=a.lastIndexOf("E")),-1===c&&(c=a.length);("0"===a[c-1]||"."===a[c-1])&&c>b;)c--;return{start:b,end:c}}class bj{isLosslessNumber=!0;constructor(a){if(!a9(a))throw Error(`Invalid number (value: "${a}")`);this.value=a}valueOf(){let a=bd(this.value);if(void 0===a||a===bc.truncate_float)return Number.parseFloat(this.value);if(a7(this.value))return BigInt(this.value);throw Error(`Cannot safely convert to number: the value '${this.value}' would ${a} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function bk(a){return a&&"object"==typeof a&&a.isLosslessNumber||!1}function bl(a){if(function(a){let{start:b,end:c}=bi(a),d=a.indexOf(".");return -1===d||d<b||d>c?c-b:c-b-1}(String(a))>15)throw Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${a})`);if(Number.isNaN(a))throw Error("Invalid number: NaN");if(!Number.isFinite(a))throw Error(`Invalid number: ${a}`);return new bj(String(a))}function bm(a,b){return bg(a.value,b.value)}function bn(a){return new bj(a)}function bo(a){return a7(a)?BigInt(a):Number.parseFloat(a)}function bp(a,b,c){let d="function"==typeof c?{parseNumber:c}:c,e=d?.parseNumber??bn,f=d?.onDuplicateKey??function(a){let{key:b,position:c}=a;throw SyntaxError(`Duplicate key '${b}' encountered at position ${c}`)},g=0,h=function b(){j();let c=k()??function(){let b=g;if(a.charCodeAt(g)===bF&&(g++,m(b)),a.charCodeAt(g)===bG)g++;else{var c;if((c=a.charCodeAt(g))>=bH&&c<=bI)for(g++;br(a.charCodeAt(g));)g++}if(a.charCodeAt(g)===bK)for(g++,m(b);br(a.charCodeAt(g));)g++;if(a.charCodeAt(g)===bP||a.charCodeAt(g)===bO)for(g++,(a.charCodeAt(g)===bF||a.charCodeAt(g)===bE)&&g++,m(b);br(a.charCodeAt(g));)g++;if(g>b)return e(a.slice(b,g))}()??function(){if(a.charCodeAt(g)===bv){g++,j();let c={},d=!0;for(;g<a.length&&a.charCodeAt(g)!==bw;){d?d=!1:(l(),j());let e=g,h=k();if(void 0===h)return void function(){throw SyntaxError(`Quoted object key expected ${o()}`)}();j(),function(){if(a.charCodeAt(g)!==bL)throw SyntaxError(`Colon ':' expected after property name ${o()}`);g++}();let i=b();if(void 0===i)return void function(){throw SyntaxError(`Object value expected after ':' ${n()}`)}();if(Object.prototype.hasOwnProperty.call(c,h)&&!function a(b,c){return b===c||(Array.isArray(b)&&Array.isArray(c)?b.length===c.length&&b.every((b,d)=>a(b,c[d])):!!(bs(b)&&bs(c))&&[...new Set([...Object.keys(b),...Object.keys(c)])].every(d=>a(b[d],c[d])))}(i,c[h])){let a=f({key:h,position:e+1,oldValue:c[h],newValue:i});void 0!==a&&(c[h]=a)}else c[h]=i}return a.charCodeAt(g)!==bw&&function(){throw SyntaxError(`Quoted object key or end of object '}' expected ${o()}`)}(),g++,c}}()??function(){if(a.charCodeAt(g)===bx){g++,j();let c=[],d=!0;for(;g<a.length&&a.charCodeAt(g)!==by;){d?d=!1:l();let a=b();(function(a){if(void 0===a)throw SyntaxError(`Array item expected ${o()}`)})(a),c.push(a)}return a.charCodeAt(g)!==by&&function(){throw SyntaxError(`Array item or end of array ']' expected ${o()}`)}(),g++,c}}()??i("true",!0)??i("false",!1)??i("null",null);return j(),c}();return function(a){if(void 0===a)throw SyntaxError(`JSON value expected ${o()}`)}(h),function(){if(g<a.length)throw SyntaxError(`Expected end of input ${o()}`)}(),b?function a(b,c,d,e){return Array.isArray(d)?e.call(b,c,function(b,c){for(let d=0;d<b.length;d++)b[d]=a(b,String(d),b[d],c);return b}(d,e)):d&&"object"==typeof d&&!bk(d)?e.call(b,c,function(b,c){for(let d of Object.keys(b)){let e=a(b,d,b[d],c);void 0!==e?b[d]=e:delete b[d]}return b}(d,e)):e.call(b,c,d)}({"":h},"",h,b):h;function i(b,c){if(a.slice(g,g+b.length)===b)return g+=b.length,c}function j(){for(var b;(b=a.charCodeAt(g))===bz||b===bA||b===bB||b===bC;)g++}function k(){if(a.charCodeAt(g)===bD){g++;let c="";for(;g<a.length&&a.charCodeAt(g)!==bD;){if(a.charCodeAt(g)===bu){let b=a[g+1],d=bt[b];void 0!==d?(c+=d,g++):"u"===b?bq(a.charCodeAt(g+2))&&bq(a.charCodeAt(g+3))&&bq(a.charCodeAt(g+4))&&bq(a.charCodeAt(g+5))?(c+=String.fromCharCode(Number.parseInt(a.slice(g+2,g+6),16)),g+=5):function(b){let c=a.slice(b,b+6);throw SyntaxError(`Invalid unicode character '${c}' ${n()}`)}(g):function(b){let c=a.slice(b,b+2);throw SyntaxError(`Invalid escape character '${c}' ${n()}`)}(g)}else{var b;(b=a.charCodeAt(g))>=32&&b<=1114111?c+=a[g]:function(a){throw SyntaxError(`Invalid character '${a}' ${n()}`)}(a[g])}g++}return function(){if(a.charCodeAt(g)!==bD)throw SyntaxError(`End of string '"' expected ${o()}`)}(),g++,c}}function l(){if(a.charCodeAt(g)!==bJ)throw SyntaxError(`Comma ',' expected after value ${o()}`);g++}function m(b){if(!br(a.charCodeAt(g))){let c=a.slice(b,g);throw SyntaxError(`Invalid number '${c}', expecting a digit ${o()}`)}}function n(){return`at position ${g}`}function o(){return`${g<a.length?`but got '${a[g]}'`:"but reached end of input"} ${n()}`}}function bq(a){return a>=bG&&a<=bI||a>=bM&&a<=bQ||a>=bN&&a<=bR}function br(a){return a>=bG&&a<=bI}function bs(a){return"object"==typeof a&&null!==a}let bt={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},bu=92,bv=123,bw=125,bx=91,by=93,bz=32,bA=10,bB=9,bC=13,bD=34,bE=43,bF=45,bG=48,bH=49,bI=57,bJ=44,bK=46,bL=58,bM=65,bN=97,bO=69,bP=101,bQ=70,bR=102;function bS(a,b){return"string"==typeof b&&bT.test(b)?new Date(b):b}let bT=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/;function bU(a,b,c,d){var e;let f="number"==typeof(e=c)?" ".repeat(e):"string"==typeof e&&""!==e?e:void 0;return function a(e,g){if(Array.isArray(d)){let a=d.find(a=>a.test(e));if(a){let b=a.stringify(e);if("string"!=typeof b||!a9(b))throw Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${b})`);return b}}return"boolean"==typeof e||"number"==typeof e||"string"==typeof e||null===e||e instanceof Date||e instanceof Boolean||e instanceof Number||e instanceof String?JSON.stringify(e):e?.isLosslessNumber||"bigint"==typeof e?e.toString():Array.isArray(e)?function(c,d){if(0===c.length)return"[]";let e=f?d+f:void 0,g=f?"[\n":"[";for(let d=0;d<c.length;d++){let h="function"==typeof b?b.call(c,String(d),c[d]):c[d];f&&(g+=e),void 0!==h&&"function"!=typeof h?g+=a(h,e):g+="null",d<c.length-1&&(g+=f?",\n":",")}return g+(f?`
${d}]`:"]")}(e,g):e&&"object"==typeof e?function(d,e){if("function"==typeof d.toJSON)return bU(d.toJSON(),b,c,void 0);let g=Array.isArray(b)?b.map(String):Object.keys(d);if(0===g.length)return"{}";let h=f?e+f:void 0,i=!0,j=f?"{\n":"{";for(let c of g){var k;let e="function"==typeof b?b.call(d,c,d[c]):d[c];if(void 0!==(k=e)&&"function"!=typeof k&&"symbol"!=typeof k){i?i=!1:j+=f?",\n":",";let b=JSON.stringify(c);j+=f?`${h+b}: `:`${b}:`,j+=a(e,h)}}return j+(f?`
${e}}`:"}")}(e,g):void 0}("function"==typeof b?b.call({"":a},"",a):a,"")}a.s([],45226),a.s([],37291),a.i(37291),a.i(45226),a.s(["LosslessNumber",()=>bj,"UnsafeNumberReason",()=>bc,"compareLosslessNumber",()=>bm,"compareNumber",()=>bg,"config",()=>a6,"getUnsafeNumberReason",()=>bd,"isInteger",()=>a7,"isLosslessNumber",()=>bk,"isNumber",()=>a9,"isSafeNumber",()=>bb,"parse",()=>bp,"parseLosslessNumber",()=>bn,"parseNumberAndBigInt",()=>bo,"reviveDate",()=>bS,"splitNumber",()=>bf,"stringify",()=>bU,"toLosslessNumber",()=>bl,"toSafeNumberOrThrow",()=>be],41961),a.i(41961);let bV=BigInt(0),bW=BigInt(1),bX=BigInt(2);function bY(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function bZ(a){if(!bY(a))throw Error("Uint8Array expected")}function b$(a,b){if("boolean"!=typeof b)throw Error(a+" boolean expected, got "+b)}let b_=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function b0(a){bZ(a);let b="";for(let c=0;c<a.length;c++)b+=b_[a[c]];return b}function b1(a){let b=a.toString(16);return 1&b.length?"0"+b:b}function b2(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return""===a?bV:BigInt("0x"+a)}function b3(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function b4(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=b3(a.charCodeAt(e)),f=b3(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function b5(a){return b2(b0(a))}function b6(a){return bZ(a),b2(b0(Uint8Array.from(a).reverse()))}function b7(a,b){return b4(a.toString(16).padStart(2*b,"0"))}function b8(a,b){return b7(a,b).reverse()}function b9(a){return b4(b1(a))}function ca(a,b,c){let d;if("string"==typeof b)try{d=b4(b)}catch(b){throw Error(a+" must be hex string or Uint8Array, cause: "+b)}else if(bY(b))d=Uint8Array.from(b);else throw Error(a+" must be hex string or Uint8Array");let e=d.length;if("number"==typeof c&&e!==c)throw Error(a+" of length "+c+" expected, got "+e);return d}function cb(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];bZ(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}function cc(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}function cd(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}let ce=a=>"bigint"==typeof a&&bV<=a;function cf(a,b,c){return ce(a)&&ce(b)&&ce(c)&&b<=a&&a<c}function cg(a,b,c,d){if(!cf(b,c,d))throw Error("expected valid "+a+": "+c+" <= n < "+d+", got "+b)}function ch(a){let b;for(b=0;a>bV;a>>=bW,b+=1);return b}function ci(a,b){return a>>BigInt(b)&bW}function cj(a,b,c){return a|(c?bW:bV)<<BigInt(b)}let ck=a=>(bX<<BigInt(a-1))-bW,cl=a=>new Uint8Array(a);function cm(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=cl(a),e=cl(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=cl())=>{let b;if(e=h((b=[0],Uint8Array.from(b)),a),d=h(),0!==a.length){let b;e=h((b=[1],Uint8Array.from(b)),a),d=h()}},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return cb(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}}let cn={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||bY(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function co(a,b,c={}){let d=(b,c,d)=>{let e=cn[c];if("function"!=typeof e)throw Error("invalid validator function");let f=a[b];if((!d||void 0!==f)&&!e(f,a))throw Error("param "+String(b)+" is invalid. Expected "+c+", got "+f)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}function cp(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}}function cq(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function cr(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function cs(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function ct(a,b){cr(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}a.s(["aInRange",()=>cg,"abool",()=>b$,"abytes",()=>bZ,"bitGet",()=>ci,"bitLen",()=>ch,"bitMask",0,ck,"bitSet",()=>cj,"bytesToHex",()=>b0,"bytesToNumberBE",()=>b5,"bytesToNumberLE",()=>b6,"concatBytes",()=>cb,"createHmacDrbg",()=>cm,"ensureBytes",()=>ca,"equalBytes",()=>cc,"hexToBytes",()=>b4,"hexToNumber",()=>b2,"inRange",()=>cf,"isBytes",()=>bY,"memoized",()=>cp,"notImplemented",0,()=>{throw Error("not implemented")},"numberToBytesBE",()=>b7,"numberToBytesLE",()=>b8,"numberToHexUnpadded",()=>b1,"numberToVarBytesBE",()=>b9,"utf8ToBytes",()=>cd,"validateObject",()=>co],7140);var cu=a.i(66680);let cv=cu&&"object"==typeof cu&&"webcrypto"in cu?cu.webcrypto:cu&&"object"==typeof cu&&"randomBytes"in cu?cu:void 0,cw=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),cx=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),cy=(a,b)=>a<<32-b|a>>>b,cz=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],cA=a=>a<<24&0xff000000|a<<8&0xff0000|a>>>8&65280|a>>>24&255,cB=cz?a=>a:a=>cA(a);function cC(a){for(let b=0;b<a.length;b++)a[b]=cA(a[b])}function cD(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array(new TextEncoder().encode(a))}function cE(a){return"string"==typeof a&&(a=cD(a)),cr(a),a}class cF{clone(){return this._cloneInto()}}function cG(a){let b=b=>a().update(cE(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}function cH(a=32){if(cv&&"function"==typeof cv.getRandomValues)return cv.getRandomValues(new Uint8Array(a));if(cv&&"function"==typeof cv.randomBytes)return cv.randomBytes(a);throw Error("crypto.getRandomValues must be defined")}let cI=(a,b,c)=>a&b^~a&c,cJ=(a,b,c)=>a&b^a&c^b&c;class cK extends cF{constructor(a,b,c,d){super(),this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=cx(this.buffer)}update(a){cs(this);let{view:b,buffer:c,blockLen:d}=this,e=(a=cE(a)).length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=cx(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){cs(this),ct(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:d,isLE:e}=this,{pos:f}=this;b[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>d-f&&(this.process(c,0),f=0);for(let a=f;a<d;a++)b[a]=0;!function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}(c,d-8,BigInt(8*this.length),e),this.process(c,0);let g=cx(a),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen should be aligned to 32bit");let i=h/4,j=this.get();if(i>j.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<i;a++)g.setUint32(4*a,j[a],e)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.length=d,a.pos=g,a.finished=e,a.destroyed=f,d%b&&a.buffer.set(c),a}}let cL=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),cM=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),cN=new Uint32Array(64);class cO extends cK{constructor(){super(64,32,8,!1),this.A=0|cM[0],this.B=0|cM[1],this.C=0|cM[2],this.D=0|cM[3],this.E=0|cM[4],this.F=0|cM[5],this.G=0|cM[6],this.H=0|cM[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)cN[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=cN[a-15],c=cN[a-2],d=cy(b,7)^cy(b,18)^b>>>3,e=cy(c,17)^cy(c,19)^c>>>10;cN[a]=e+cN[a-7]+d+cN[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){let b=j+(cy(g,6)^cy(g,11)^cy(g,25))+cI(g,h,i)+cL[a]+cN[a]|0,k=(cy(c,2)^cy(c,13)^cy(c,22))+cJ(c,d,e)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+k|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){cN.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let cP=cG(()=>new cO),cQ=BigInt(0x100000000-1),cR=BigInt(32);function cS(a,b=!1){return b?{h:Number(a&cQ),l:Number(a>>cR&cQ)}:{h:0|Number(a>>cR&cQ),l:0|Number(a&cQ)}}let cT=[],cU=[],cV=[],cW=BigInt(0),cX=BigInt(1),cY=BigInt(2),cZ=BigInt(7),c$=BigInt(256),c_=BigInt(113);for(let a=0,b=cX,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],cT.push(2*(5*d+c)),cU.push((a+1)*(a+2)/2%64);let e=cW;for(let a=0;a<7;a++)(b=(b<<cX^(b>>cZ)*c_)%c$)&cY&&(e^=cX<<(cX<<BigInt(a))-cX);cV.push(e)}let[c0,c1]=function(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let e=0;e<a.length;e++){let{h:f,l:g}=cS(a[e],b);[c[e],d[e]]=[f,g]}return[c,d]}(cV,!0),c2=(a,b,c)=>c>32?b<<c-32|a>>>64-c:a<<c|b>>>32-c,c3=(a,b,c)=>c>32?a<<c-32|b>>>64-c:b<<c|a>>>32-c;class c4 extends cF{constructor(a,b,c,d=!1,e=24){if(super(),this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=d,this.rounds=e,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cq(c),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=cw(this.state)}keccak(){cz||cC(this.state32),function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=c2(f,g,1)^c[d],i=c3(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=cU[c],f=c2(b,e,d),g=c3(b,e,d),h=cT[c];b=a[h],e=a[h+1],a[h]=f,a[h+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=c0[d],a[1]^=c1[d]}c.fill(0)}(this.state32,this.rounds),cz||cC(this.state32),this.posOut=0,this.pos=0}update(a){cs(this);let{blockLen:b,state:c}=this,d=(a=cE(a)).length;for(let e=0;e<d;){let f=Math.min(b-this.pos,d-e);for(let b=0;b<f;b++)c[this.pos++]^=a[e++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){cs(this,!1),cr(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return cq(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(ct(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new c4(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}let c5=cG(()=>new c4(136,1,32)),c6=BigInt(0),c7=BigInt(1),c8=BigInt(2),c9=BigInt(3),da=BigInt(4),db=BigInt(5),dc=BigInt(8);function dd(a,b){let c=a%b;return c>=c6?c:b+c}function de(a,b,c){let d=a;for(;b-- >c6;)d*=d,d%=c;return d}function df(a,b){if(a===c6)throw Error("invert: expected non-zero number");if(b<=c6)throw Error("invert: expected positive modulus, got "+b);let c=dd(a,b),d=b,e=c6,f=c7,g=c7,h=c6;for(;c!==c6;){let a=d/c,b=d%c,i=e-g*a,j=f-h*a;d=c,c=b,e=g,f=h,g=i,h=j}if(d!==c7)throw Error("invert: does not exist");return dd(e,b)}let dg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dh(a){return co(a,dg.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function di(a,b,c){if(c<c6)throw Error("invalid exponent, negatives unsupported");if(c===c6)return a.ONE;if(c===c7)return b;let d=a.ONE,e=b;for(;c>c6;)c&c7&&(d=a.mul(d,e)),e=a.sqr(e),c>>=c7;return d}function dj(a,b){let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function dk(a,b,c=!1,d={}){let e;if(a<=c6)throw Error("invalid field: expected ORDER > 0, got "+a);let{nBitLength:f,nByteLength:g}=dj(a,b);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:a,BITS:f,BYTES:g,MASK:ck(f),ZERO:c6,ONE:c7,create:b=>dd(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return c6<=b&&b<a},is0:a=>a===c6,isOdd:a=>(a&c7)===c7,neg:b=>dd(-b,a),eql:(a,b)=>a===b,sqr:b=>dd(b*b,a),add:(b,c)=>dd(b+c,a),sub:(b,c)=>dd(b-c,a),mul:(b,c)=>dd(b*c,a),pow:(a,b)=>di(h,a,b),div:(b,c)=>dd(b*df(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>df(b,a),sqrt:d.sqrt||(b=>(e||(e=function(a){if(a%da===c9){let b=(a+c7)/da;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}if(a%dc===db){let b=(a-db)/dc;return function(a,c){let d=a.mul(c,c8),e=a.pow(d,b),f=a.mul(c,e),g=a.mul(a.mul(f,c8),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),c))throw Error("Cannot find square root");return h}}return function(a){let b,c,d,e=(a-c7)/c8;for(b=a-c7,c=0;b%c8===c6;b/=c8,c++);for(d=c8;d<a&&function(a,b,c){if(b<c6)throw Error("invalid exponent, negatives unsupported");if(c<=c6)throw Error("invalid modulus");if(c===c7)return c6;let d=c7;for(;b>c6;)b&c7&&(d=d*a%c),a=a*a%c,b>>=c7;return d}(d,e,a)!==a-c7;d++)if(d>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===c){let b=(a+c7)/da;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+c7)/c8;return function(a,g){if(a.pow(g,e)===a.neg(a.ONE))throw Error("Cannot find square root");let h=c,i=a.pow(a.mul(a.ONE,d),b),j=a.pow(g,f),k=a.pow(g,b);for(;!a.eql(k,a.ONE);){if(a.eql(k,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(k);b<h&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(i,c7<<BigInt(h-b-1));i=a.sqr(c),j=a.mul(j,c),k=a.mul(k,i),h=b}return j}}(a)}(a)),e(h,b))),invertBatch:a=>{let b,c,d;return b=Array(a.length),c=a.reduce((a,c,d)=>h.is0(c)?a:(b[d]=a,h.mul(a,c)),h.ONE),d=h.inv(c),a.reduceRight((a,c,d)=>h.is0(c)?a:(b[d]=h.mul(a,b[d]),h.mul(a,c)),d),b},cmov:(a,b,c)=>c?b:a,toBytes:a=>c?b8(a,g):b7(a,g),fromBytes:a=>{if(a.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+a.length);return c?b6(a):b5(a)}});return Object.freeze(h)}function dl(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function dm(a){let b=dl(a);return b+Math.ceil(b/2)}function dn(a){let{Fp:b,mds:c,reversePartialPowIdx:d,roundConstants:e}=a,{roundsFull:f,roundsPartial:g,sboxPower:h,t:i}=a;for(let c of(dh(b),["t","roundsFull","roundsPartial"]))if("number"!=typeof a[c]||!Number.isSafeInteger(a[c]))throw Error("invalid number "+c);if(!Array.isArray(c)||c.length!==i)throw Error("Poseidon: invalid MDS matrix");let j=c.map(a=>{if(!Array.isArray(a)||a.length!==i)throw Error("invalid MDS matrix row: "+a);return a.map(a=>{if("bigint"!=typeof a)throw Error("invalid MDS matrix bigint: "+a);return b.create(a)})});if(void 0!==d&&"boolean"!=typeof d)throw Error("invalid param reversePartialPowIdx="+d);if(1&f)throw Error("roundsFull is not even"+f);let k=f+g;if(!Array.isArray(e)||e.length!==k)throw Error("Poseidon: invalid round constants");let l=e.map(a=>{if(!Array.isArray(a)||a.length!==i)throw Error("invalid round constants");return a.map(a=>{if("bigint"!=typeof a||!b.isValid(a))throw Error("invalid round constant");return b.create(a)})});if(!h||![3,5,7].includes(h))throw Error("invalid sboxPower");let m=BigInt(h),n=a=>di(b,a,m);return 3===h?n=a=>b.mul(b.sqrN(a),a):5===h&&(n=a=>b.mul(b.sqrN(b.sqrN(a)),a)),Object.freeze({...a,rounds:k,sboxFn:n,roundConstants:l,mds:j})}function dp(a,b){if("number"!=typeof b)throw Error("poseidonSplitConstants: invalid t");if(!Array.isArray(a)||a.length%b)throw Error("poseidonSplitConstants: invalid rc");let c=[],d=[];for(let e=0;e<a.length;e++)d.push(a[e]),d.length===b&&(c.push(d),d=[]);return c}function dq(a){let b=dn(a),{Fp:c,mds:d,roundConstants:e,rounds:f,roundsPartial:g,sboxFn:h,t:i}=b,j=b.roundsFull/2,k=b.reversePartialPowIdx?i-1:0,l=(a,b,f)=>(a=a.map((a,b)=>c.add(a,e[f][b])),b?a=a.map(a=>h(a)):a[k]=h(a[k]),a=d.map(b=>b.reduce((b,d,e)=>c.add(b,c.mulN(d,a[e])),c.ZERO))),m=function(a){if(!Array.isArray(a)||a.length!==i)throw Error("invalid values, expected array of bigints with length "+i);a=a.map(a=>{if("bigint"!=typeof a)throw Error("invalid bigint="+a);return c.create(a)});let b=0;for(let c=0;c<j;c++)a=l(a,!0,b++);for(let c=0;c<g;c++)a=l(a,!1,b++);for(let c=0;c<j;c++)a=l(a,!0,b++);if(b!==f)throw Error("invalid number of rounds");return a};return m.roundConstants=e,m}a.s(["poseidon",()=>dq,"splitConstants",()=>dp,"validateOpts",()=>dn],56587);let dr=BigInt(0),ds=BigInt(1);function dt(a,b){let c=b.negate();return a?c:b}function du(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function dv(a,b){return du(a,b),{windows:Math.ceil(b/a)+1,windowSize:2**(a-1)}}let dw=new WeakMap,dx=new WeakMap;function dy(a){return dx.get(a)||1}function dz(a){return dh(a.Fp),co(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dj(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}var dA=a.i(7140);function dB(a){void 0!==a.lowS&&b$("lowS",a.lowS),void 0!==a.prehash&&b$("prehash",a.prehash)}let{bytesToNumberBE:dC,hexToBytes:dD}=dA,dE={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=dE;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=dA.numberToHexUnpadded(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let f=d>127?dA.numberToHexUnpadded(e.length/2|128):"";return dA.numberToHexUnpadded(a)+f+e+b},decode(a,b){let{Err:c}=dE,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=dE;if(a<dF)throw new b("integer: negative integers are not allowed");let c=dA.numberToHexUnpadded(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=dE;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return dC(a)}},toSig(a){let{Err:b,_int:c,_tlv:d}=dE,e="string"==typeof a?dD(a):a;dA.abytes(e);let{v:f,l:g}=d.decode(48,e);if(g.length)throw new b("invalid signature: left bytes after parsing");let{v:h,l:i}=d.decode(2,f),{v:j,l:k}=d.decode(2,i);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(h),s:c.decode(j)}},hexFromSig(a){let{_tlv:b,_int:c}=dE,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}},dF=BigInt(0),dG=BigInt(1),dH=BigInt(2),dI=BigInt(3),dJ=BigInt(4);function dK(a){var b;let c=function(a){let b=dz(a);dA.validateObject(b,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...b})}(a),{Fp:d}=c,e=dk(c.n,c.nBitLength),f=c.toBytes||((a,b,c)=>{let e=b.toAffine();return dA.concatBytes(Uint8Array.from([4]),d.toBytes(e.x),d.toBytes(e.y))}),g=c.fromBytes||(a=>{let b=a.subarray(1);return{x:d.fromBytes(b.subarray(0,d.BYTES)),y:d.fromBytes(b.subarray(d.BYTES,2*d.BYTES))}});function h(a){let{a:b,b:e}=c,f=d.sqr(a),g=d.mul(f,a);return d.add(d.add(g,d.mul(a,b)),e)}if(!d.eql(d.sqr(c.Gy),h(c.Gx)))throw Error("bad generator point: equation left != right");function i(a){let b,{allowedPrivateKeyLengths:d,nByteLength:e,wrapPrivateKey:f,n:g}=c;if(d&&"bigint"!=typeof a){if(dA.isBytes(a)&&(a=dA.bytesToHex(a)),"string"!=typeof a||!d.includes(a.length))throw Error("invalid private key");a=a.padStart(2*e,"0")}try{b="bigint"==typeof a?a:dA.bytesToNumberBE(ca("private key",a,e))}catch(b){throw Error("invalid private key, expected hex or "+e+" bytes, got "+typeof a)}return f&&(b=dd(b,g)),dA.aInRange("private key",b,dG,g),b}function j(a){if(!(a instanceof m))throw Error("ProjectivePoint expected")}let k=cp((a,b)=>{let{px:c,py:e,pz:f}=a;if(d.eql(f,d.ONE))return{x:c,y:e};let g=a.is0();null==b&&(b=g?d.ONE:d.inv(f));let h=d.mul(c,b),i=d.mul(e,b),j=d.mul(f,b);if(g)return{x:d.ZERO,y:d.ZERO};if(!d.eql(j,d.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),l=cp(a=>{if(a.is0()){if(c.allowInfinityPoint&&!d.is0(a.py))return;throw Error("bad point: ZERO")}let{x:b,y:e}=a.toAffine();if(!d.isValid(b)||!d.isValid(e))throw Error("bad point: x or y not FE");let f=d.sqr(e),g=h(b);if(!d.eql(f,g))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class m{constructor(a,b,c){if(this.px=a,this.py=b,this.pz=c,null==a||!d.isValid(a))throw Error("x required");if(null==b||!d.isValid(b))throw Error("y required");if(null==c||!d.isValid(c))throw Error("z required");Object.freeze(this)}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!d.isValid(b)||!d.isValid(c))throw Error("invalid affine point");if(a instanceof m)throw Error("projective point not allowed");let e=a=>d.eql(a,d.ZERO);return e(b)&&e(c)?m.ZERO:new m(b,c,d.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=d.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(m.fromAffine)}static fromHex(a){let b=m.fromAffine(g(ca("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return m.BASE.multiply(i(a))}static msm(a,b){return function(a,b,c,d){if(!Array.isArray(c))throw Error("array expected");c.forEach((b,c)=>{if(!(b instanceof a))throw Error("invalid point at index "+c)});if(!Array.isArray(d))throw Error("array of scalars expected");if(d.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)}),c.length!==d.length)throw Error("arrays of points and scalars must have equal length");let e=a.ZERO,f=ch(BigInt(c.length)),g=f>12?f-3:f>4?f-2:f?2:1,h=(1<<g)-1,i=Array(h+1).fill(e),j=Math.floor((b.BITS-1)/g)*g,k=e;for(let a=j;a>=0;a-=g){i.fill(e);for(let b=0;b<d.length;b++){let e=Number(d[b]>>BigInt(a)&BigInt(h));i[e]=i[e].add(c[b])}let b=e;for(let a=i.length-1,c=e;a>0;a--)c=c.add(i[a]),b=b.add(c);if(k=k.add(b),0!==a)for(let a=0;a<g;a++)k=k.double()}return k}(m,e,a,b)}_setWindowSize(a){o.setWindowSize(this,a)}assertValidity(){l(this)}hasEvenY(){let{y:a}=this.toAffine();if(d.isOdd)return!d.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){j(a);let{px:b,py:c,pz:e}=this,{px:f,py:g,pz:h}=a,i=d.eql(d.mul(b,h),d.mul(f,e)),k=d.eql(d.mul(c,h),d.mul(g,e));return i&&k}negate(){return new m(this.px,d.neg(this.py),this.pz)}double(){let{a,b}=c,e=d.mul(b,dI),{px:f,py:g,pz:h}=this,i=d.ZERO,j=d.ZERO,k=d.ZERO,l=d.mul(f,f),n=d.mul(g,g),o=d.mul(h,h),p=d.mul(f,g);return p=d.add(p,p),k=d.mul(f,h),k=d.add(k,k),i=d.mul(a,k),j=d.mul(e,o),j=d.add(i,j),i=d.sub(n,j),j=d.add(n,j),j=d.mul(i,j),i=d.mul(p,i),k=d.mul(e,k),o=d.mul(a,o),p=d.sub(l,o),p=d.mul(a,p),p=d.add(p,k),k=d.add(l,l),l=d.add(k,l),l=d.add(l,o),l=d.mul(l,p),j=d.add(j,l),o=d.mul(g,h),o=d.add(o,o),l=d.mul(o,p),i=d.sub(i,l),k=d.mul(o,n),k=d.add(k,k),new m(i,j,k=d.add(k,k))}add(a){j(a);let{px:b,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,k=d.ZERO,l=d.ZERO,n=d.ZERO,o=c.a,p=d.mul(c.b,dI),q=d.mul(b,g),r=d.mul(e,h),s=d.mul(f,i),t=d.add(b,e),u=d.add(g,h);t=d.mul(t,u),u=d.add(q,r),t=d.sub(t,u),u=d.add(b,f);let v=d.add(g,i);return u=d.mul(u,v),v=d.add(q,s),u=d.sub(u,v),v=d.add(e,f),k=d.add(h,i),v=d.mul(v,k),k=d.add(r,s),v=d.sub(v,k),n=d.mul(o,u),k=d.mul(p,s),n=d.add(k,n),k=d.sub(r,n),n=d.add(r,n),l=d.mul(k,n),r=d.add(q,q),r=d.add(r,q),s=d.mul(o,s),u=d.mul(p,u),r=d.add(r,s),s=d.sub(q,s),s=d.mul(o,s),u=d.add(u,s),q=d.mul(r,u),l=d.add(l,q),q=d.mul(v,u),k=d.mul(t,k),k=d.sub(k,q),q=d.mul(t,r),n=d.mul(v,n),new m(k,l,n=d.add(n,q))}subtract(a){return this.add(a.negate())}is0(){return this.equals(m.ZERO)}wNAF(a){return o.wNAFCached(this,a,m.normalizeZ)}multiplyUnsafe(a){let{endo:b,n:e}=c;dA.aInRange("scalar",a,dF,e);let f=m.ZERO;if(a===dF)return f;if(this.is0()||a===dG)return this;if(!b||o.hasPrecomputes(this))return o.wNAFCachedUnsafe(this,a,m.normalizeZ);let{k1neg:g,k1:h,k2neg:i,k2:j}=b.splitScalar(a),k=f,l=f,n=this;for(;h>dF||j>dF;)h&dG&&(k=k.add(n)),j&dG&&(l=l.add(n)),n=n.double(),h>>=dG,j>>=dG;return g&&(k=k.negate()),i&&(l=l.negate()),l=new m(d.mul(l.px,b.beta),l.py,l.pz),k.add(l)}multiply(a){let b,e,{endo:f,n:g}=c;if(dA.aInRange("scalar",a,dG,g),f){let{k1neg:c,k1:g,k2neg:h,k2:i}=f.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:n}=this.wNAF(i);j=o.constTimeNegate(c,j),l=o.constTimeNegate(h,l),l=new m(d.mul(l.px,f.beta),l.py,l.pz),b=j.add(l),e=k.add(n)}else{let{p:c,f:d}=this.wNAF(a);b=c,e=d}return m.normalizeZ([b,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=m.BASE,e=(a,b)=>b!==dF&&b!==dG&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return k(this,a)}isTorsionFree(){let{h:a,isTorsionFree:b}=c;if(a===dG)return!0;if(b)return b(m,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=c;return a===dG?this:b?b(m,this):this.multiplyUnsafe(c.h)}toRawBytes(a=!0){return b$("isCompressed",a),this.assertValidity(),f(m,this,a)}toHex(a=!0){return b$("isCompressed",a),dA.bytesToHex(this.toRawBytes(a))}}m.BASE=new m(c.Gx,c.Gy,d.ONE),m.ZERO=new m(d.ZERO,d.ONE,d.ZERO);let n=c.nBitLength,o=(b=c.endo?Math.ceil(n/2):n,{constTimeNegate:dt,hasPrecomputes:a=>1!==dy(a),unsafeLadder(a,b,c=m.ZERO){let d=a;for(;b>dr;)b&ds&&(c=c.add(d)),d=d.double(),b>>=ds;return c},precomputeWindow(a,c){let{windows:d,windowSize:e}=dv(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,c,d){let{windows:e,windowSize:f}=dv(a,b),g=m.ZERO,h=m.BASE,i=BigInt(2**a-1),j=2**a,k=BigInt(a);for(let a=0;a<e;a++){let b=a*f,e=Number(d&i);d>>=k,e>f&&(e-=j,d+=ds);let l=b+Math.abs(e)-1,m=a%2!=0,n=e<0;0===e?h=h.add(dt(m,c[b])):g=g.add(dt(n,c[l]))}return{p:g,f:h}},wNAFUnsafe(a,c,d,e=m.ZERO){let{windows:f,windowSize:g}=dv(a,b),h=BigInt(2**a-1),i=2**a,j=BigInt(a);for(let a=0;a<f;a++){let b=a*g;if(d===dr)break;let f=Number(d&h);if(d>>=j,f>g&&(f-=i,d+=ds),0===f)continue;let k=c[b+Math.abs(f)-1];f<0&&(k=k.negate()),e=e.add(k)}return e},getPrecomputes(a,b,c){let d=dw.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&dw.set(b,c(d))),d},wNAFCached(a,b,c){let d=dy(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=dy(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){du(c,b),dx.set(a,c),dw.delete(a)}});return{CURVE:c,ProjectivePoint:m,normPrivateKeyToScalar:i,weierstrassEquation:h,isWithinCurveOrder:function(a){return dA.inRange(a,dG,c.n)}}}function dL(a){let b,c=(b=dz(a),dA.validateObject(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:d,n:e}=c,f=d.BYTES+1,g=2*d.BYTES+1;function h(a){return dd(a,e)}let{ProjectivePoint:i,normPrivateKeyToScalar:j,weierstrassEquation:k,isWithinCurveOrder:l}=dK({...c,toBytes(a,b,c){let e=b.toAffine(),f=d.toBytes(e.x),g=dA.concatBytes;return(b$("isCompressed",c),c)?g(Uint8Array.from([b.hasEvenY()?2:3]),f):g(Uint8Array.from([4]),f,d.toBytes(e.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b===f&&(2===c||3===c)){let a,b=dA.bytesToNumberBE(e);if(!dA.inRange(b,dG,d.ORDER))throw Error("Point is not on curve");let f=k(b);try{a=d.sqrt(f)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return(1&c)==1!=((a&dG)===dG)&&(a=d.neg(a)),{x:b,y:a}}if(b===g&&4===c)return{x:d.fromBytes(e.subarray(0,d.BYTES)),y:d.fromBytes(e.subarray(d.BYTES,2*d.BYTES))};throw Error("invalid Point, expected length of "+f+", or uncompressed "+g+", got "+b)}}),m=a=>dA.bytesToHex(dA.numberToBytesBE(a,c.nByteLength)),n=(a,b,c)=>dA.bytesToNumberBE(a.slice(b,c));class o{constructor(a,b,c){this.r=a,this.s=b,this.recovery=c,this.assertValidity()}static fromCompact(a){let b=c.nByteLength;return new o(n(a=ca("compactSignature",a,2*b),0,b),n(a,b,2*b))}static fromDER(a){let{r:b,s:c}=dE.toSig(ca("DER",a));return new o(b,c)}assertValidity(){dA.aInRange("r",this.r,dG,e),dA.aInRange("s",this.s,dG,e)}addRecoveryBit(a){return new o(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:f,recovery:g}=this,j=r(ca("msgHash",a));if(null==g||![0,1,2,3].includes(g))throw Error("recovery id invalid");let k=2===g||3===g?b+c.n:b;if(k>=d.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&g)==0?"02":"03",n=i.fromHex(l+m(k)),o=df(k,e),p=h(-j*o),q=h(f*o),s=i.BASE.multiplyAndAddUnsafe(n,p,q);if(!s)throw Error("point at infinify");return s.assertValidity(),s}hasHighS(){return this.s>e>>dG}normalizeS(){return this.hasHighS()?new o(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return dA.hexToBytes(this.toDERHex())}toDERHex(){return dE.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dA.hexToBytes(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}function p(a){let b=dA.isBytes(a),c="string"==typeof a,d=(b||c)&&a.length;return b?d===f||d===g:c?d===2*f||d===2*g:a instanceof i}let q=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=dA.bytesToNumberBE(a),d=8*a.length-c.nBitLength;return d>0?b>>BigInt(d):b},r=c.bits2int_modN||function(a){return h(q(a))},s=dA.bitMask(c.nBitLength);function t(a){return dA.aInRange("num < 2^"+c.nBitLength,a,dF,s),dA.numberToBytesBE(a,c.nByteLength)}let u={lowS:c.lowS,prehash:!1},v={lowS:c.lowS,prehash:!1};return i.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return i.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(p(a))throw Error("first arg must be private key");if(!p(b))throw Error("second arg must be public key");return i.fromHex(b).multiply(j(a)).toRawBytes(c)},sign:function(a,b,f=u){let{seed:g,k2sig:k}=function(a,b,f=u){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:k}=c,{lowS:m,prehash:n,extraEntropy:p}=f;null==m&&(m=!0),a=ca("msgHash",a),dB(f),n&&(a=ca("prehashed msgHash",g(a)));let s=r(a),v=j(b),w=[t(v),t(s)];if(null!=p&&!1!==p){let a=!0===p?k(d.BYTES):p;w.push(ca("extraEntropy",a))}return{seed:dA.concatBytes(...w),k2sig:function(a){var b;let c=q(a);if(!l(c))return;let d=df(c,e),f=i.BASE.multiply(c).toAffine(),g=h(f.x);if(g===dF)return;let j=h(d*h(s+g*v));if(j===dF)return;let k=2*(f.x!==g)|Number(f.y&dG),n=j;return m&&j>e>>dG&&(n=(b=j)>e>>dG?h(-b):b,k^=1),new o(g,n,k)}}}(a,b,f);return dA.createHmacDrbg(c.hash.outputLen,c.nByteLength,c.hmac)(g,k)},verify:function(a,b,d,f=v){let g,j;b=ca("msgHash",b),d=ca("publicKey",d);let{lowS:k,prehash:l,format:m}=f;if(dB(f),"strict"in f)throw Error("options.strict was renamed to lowS");if(void 0!==m&&"compact"!==m&&"der"!==m)throw Error("format must be compact or der");let n="string"==typeof a||dA.isBytes(a),p=!n&&!m&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!n&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(j=new o(a.r,a.s)),n){try{"compact"!==m&&(j=o.fromDER(a))}catch(a){if(!(a instanceof dE.Err))throw a}j||"der"===m||(j=o.fromCompact(a))}g=i.fromHex(d)}catch(a){return!1}if(!j||k&&j.hasHighS())return!1;l&&(b=c.hash(b));let{r:q,s}=j,t=r(b),u=df(s,e),w=h(t*u),x=h(q*u),y=i.BASE.multiplyAndAddUnsafe(g,w,x)?.toAffine();return!!y&&h(y.x)===q},ProjectivePoint:i,Signature:o,utils:{isValidPrivateKey(a){try{return j(a),!0}catch(a){return!1}},normPrivateKeyToScalar:j,randomPrivateKey:()=>{let a=dm(c.n);return function(a,b,c=!1){let d=a.length,e=dl(b),f=dm(b);if(d<16||d<f||d>1024)throw Error("expected "+f+"-1024 bytes of input, got "+d);let g=dd(c?b5(a):b6(a),b-c7)+c7;return c?b8(g,e):b7(g,e)}(c.randomBytes(a),c.n)},precompute:(a=8,b=i.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}}function dM(a,b){let c=a.ORDER,d=dF;for(let a=c-dG;a%dH===dF;a/=dH)d+=dG;let e=d,f=dH<<e-dG-dG,g=f*dH,h=(c-dG)/g,i=(h-dG)/dH,j=g-dG,k=a.pow(b,h),l=a.pow(b,(h+dG)/dH),m=(b,c)=>{let d=k,g=a.pow(c,j),h=a.sqr(g);h=a.mul(h,c);let m=a.mul(b,h);m=a.pow(m,i),m=a.mul(m,g),g=a.mul(m,c),h=a.mul(m,b);let n=a.mul(h,g);m=a.pow(n,f);let o=a.eql(m,a.ONE);g=a.mul(h,l),m=a.mul(n,d),h=a.cmov(g,h,o),n=a.cmov(m,n,o);for(let b=e;b>dG;b--){let c=b-dH;c=dH<<c-dG;let e=a.pow(n,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(n,d),h=a.cmov(g,h,f),n=a.cmov(e,n,f)}return{isValid:o,value:h}};if(a.ORDER%dJ===dI){let c=(a.ORDER-dI)/dJ,d=a.sqrt(a.neg(b));m=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b),l=a.cmov(i,h,k);return{isValid:k,value:l}}}return m}function dN(a,b){if(dh(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let c=dM(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return d=>{let e,f,g,h,i,j,k,l;e=a.sqr(d),e=a.mul(e,b.Z),f=a.sqr(e),f=a.add(f,e),g=a.add(f,a.ONE),g=a.mul(g,b.B),h=a.cmov(b.Z,a.neg(f),!a.eql(f,a.ZERO)),h=a.mul(h,b.A),f=a.sqr(g),j=a.sqr(h),i=a.mul(j,b.A),f=a.add(f,i),f=a.mul(f,g),j=a.mul(j,h),i=a.mul(j,b.B),f=a.add(f,i),k=a.mul(e,g);let{isValid:m,value:n}=c(f,j);l=a.mul(e,d),l=a.mul(l,n),k=a.cmov(k,g,m),l=a.cmov(l,n,m);let o=a.isOdd(d)===a.isOdd(l);return l=a.cmov(a.neg(l),l,o),{x:k=a.div(k,h),y:l}}}a.s(["DER",0,dE,"SWUFpSqrtRatio",()=>dM,"mapToCurveSimpleSWU",()=>dN,"weierstrass",()=>dL,"weierstrassPoints",()=>dK],42587);class dO extends cF{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,function(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.wrapConstructor");cq(a.outputLen),cq(a.blockLen)}(a);const c=cE(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,e=new Uint8Array(d);e.set(c.length>d?a.create().update(c).digest():c);for(let a=0;a<e.length;a++)e[a]^=54;this.iHash.update(e),this.oHash=a.create();for(let a=0;a<e.length;a++)e[a]^=106;this.oHash.update(e),e.fill(0)}update(a){return cs(this),this.iHash.update(a),this}digestInto(a){cs(this),cr(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let dP=(a,b,c)=>new dO(a,b).update(c).digest();function dQ(a){return{hash:a,hmac:(b,...c)=>dP(a,b,function(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];cr(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}(...c)),randomBytes:cH}}dP.create=(a,b)=>new dO(a,b);let dR=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),dS=BigInt("0x800000000000000000000000000000000000000000000000000000000000000");function dT(a){for(;0===a[0];)a=a.subarray(1);let b=8*a.length-252,c=b5(a);return b>0?c>>BigInt(b):c}function dU(a){return"string"==typeof a&&1&(a=d7(a)).length&&(a="0"+a),b4(a)}let dV=dL({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:dk(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:dR,nBitLength:252,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...dQ(cP),bits2int:dT,bits2int_modN:a=>{let b=b5(a).toString(16);return 63===b.length&&(a=dU(b+"0")),dd(dT(a),dR)}});function dW(a){return ca("","string"==typeof a?dU(a):a)}function dX(a){return b0(dW(a)).padStart(64,"0")}function dY(a,b=!1){return dV.getPublicKey(dX(a),b)}function dZ(a,b){return dV.getSharedSecret(dX(a),b)}function d$(a){let{r:b,s:c}=a;if(b<0n||b>=dS)throw Error(`Signature.r should be [1, ${dS})`);let d=df(c,dR);if(d<0n||d>=dS)throw Error(`inv(Signature.s) should be [1, ${dS})`)}function d_(a){let b=dW(a);if(b5(b)>=dS)throw Error(`msgHash should be [0, ${dS})`);return b}function d0(a,b,c){let d=dV.sign(d_(a),dX(b),c);return d$(d),d}function d1(a,b,c){if(!(a instanceof d4)){let b=dW(a);try{a=d4.fromDER(b)}catch(c){if(!(c instanceof dE.Err))throw c;a=d4.fromCompact(b)}}return d$(a),dV.verify(a,d_(b),dW(c))}let{CURVE:d2,ProjectivePoint:d3,Signature:d4,utils:d5}=dV;function d6(a){let b=b0(a.subarray(1)).replace(/^0+/gm,"");return`0x${b}`}function d7(a){return a.replace(/^0x/i,"")}function d8(a){let b=dW(a),c=2n**256n,d=c-dd(c,dR);for(let a=0;;a++){let c=el(cb(b,b9(BigInt(a))));if(c<d)return dd(c,dR).toString(16);if(1e5===a)throw Error("grindKey is broken: tried 100k vals")}}function d9(a){return d6(dY(a,!0))}function ea(a){if(130!==(a=d7(a)).length)throw Error("Wrong ethereum signature");return d8(a.substring(0,64))}let eb=2n**31n-1n;function ec(a,b,c,d){let e=Number(el(a)&eb),f=Number(el(b)&eb),g=b2(d7(c));return`m/2645'/${e}'/${f}'/${Number(g&eb)}'/${Number(g>>31n&eb)}'/${d}`}let ed=[new d3(0x49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804n,0x3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268an,1n),new d3(0x234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47bn,0x3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615n,1n),new d3(0x4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378n,0x3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54dn,1n),new d3(0x4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997n,0x40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219cn,1n),new d3(0x54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202n,0x1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426n,1n)];function ee(a,b){let c=[],d=a;for(let a=0;a<248;a++)c.push(d),d=d.double();d=b;for(let a=0;a<4;a++)c.push(d),d=d.double();return c}let ef=ee(ed[1],ed[2]),eg=ee(ed[3],ed[4]);function eh(a,b,c){let d=function(a){let b;if("bigint"==typeof a)b=a;else if("number"==typeof a){if(!Number.isSafeInteger(a))throw Error(`Invalid pedersenArg: ${a}`);b=BigInt(a)}else b=b5(dW(a));if(!(0n<=b&&b<dV.CURVE.Fp.ORDER))throw Error(`PedersenArg should be 0 <= value < CURVE.P: ${b}`);return b}(b);for(let b=0;b<252;b++){let e=c[b];if(!e)throw Error("invalid constant index");if(e.equals(a))throw Error("Same point");(1n&d)!==0n&&(a=a.add(e)),d>>=1n}return a}function ei(a,b){let c=ed[0];return c=eh(c,a,ef),d6((c=eh(c,b,eg)).toRawBytes(!0))}let ej=ck(250),ek=a=>b5(c5(a))&ej,el=a=>b5(cP(a)),em=dk(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function en(a,b,c){let d=a.fromBytes(cP(cD(`${b}${c}`)));return a.create(d)}function eo(a,b,c,d=0){let e=[],f=[];for(let g=0;g<c;g++)e.push(en(a,`${b}x`,d*c+g)),f.push(en(a,`${b}y`,d*c+g));if(new Set([...e,...f]).size!==2*c)throw Error("X and Y values are not distinct");return e.map(b=>f.map(c=>a.inv(a.sub(b,c))))}function ep(a,b){if(dh(a.Fp),!Number.isSafeInteger(a.rate)||!Number.isSafeInteger(a.capacity))throw Error(`Wrong poseidon opts: ${a}`);let c=a.rate+a.capacity,d=a.roundsFull+a.roundsPartial,e=[];for(let b=0;b<d;b++){let d=[];for(let e=0;e<c;e++)d.push(en(a.Fp,"Hades",c*b+e));e.push(d)}let f=dq({...a,t:c,sboxPower:3,reversePartialPowIdx:!0,mds:b,roundConstants:e});return f.m=c,f.rate=a.rate,f.capacity=a.capacity,f}function eq(a,b=0){let c=a.rate+a.capacity;if(!Number.isSafeInteger(b))throw Error(`Wrong mdsAttempt=${b}`);return ep(a,eo(a.Fp,"HadesMDS",c,b))}let er=ep({Fp:em,rate:2,capacity:1,roundsFull:8,roundsPartial:83},[[3,1,1],[1,-1,1],[1,1,-2]].map(a=>a.map(BigInt)));function es(a,b,c=er){return c([a,b,2n])[0]}function et(a,b,c=er){return b9(es(b5(a),b5(b),c))}function eu(a,b=er){return b([a,0n,1n])[0]}function ev(a,b=er){let{m:c,rate:d}=b;if(!Array.isArray(a))throw Error("bigint array expected in values");let e=Array.from(a);for(e.push(1n);e.length%d!=0;)e.push(0n);let f=Array(c).fill(0n);for(let a=0;a<e.length;a+=d){for(let b=0;b<d;b++){let c=e[a+b];if(void 0===c)throw Error("invalid index");if(void 0===f[b])throw Error("state[j] is undefined");f[b]=f[b]+c}f=b(f)}return f[0]}a.s(["CURVE",()=>d2,"Fp251",0,em,"MAX_VALUE",0,dS,"ProjectivePoint",()=>d3,"Signature",()=>d4,"_poseidonMDS",()=>eo,"_starkCurve",0,dV,"computeHashOnElements",0,(a,b=ei)=>[0,...a,a.length].reduce((a,c)=>b(a,c)),"ethSigToPrivate",()=>ea,"getAccountPath",()=>ec,"getPublicKey",()=>dY,"getSharedSecret",()=>dZ,"getStarkKey",()=>d9,"grindKey",()=>d8,"keccak",0,ek,"normalizePrivateKey",()=>dX,"pedersen",()=>ei,"poseidonBasic",()=>ep,"poseidonCreate",()=>eq,"poseidonHash",()=>es,"poseidonHashFunc",()=>et,"poseidonHashMany",()=>ev,"poseidonHashSingle",()=>eu,"poseidonSmall",0,er,"sign",()=>d0,"utils",()=>d5,"verify",()=>d1],24852);var ew=a.i(56587),ex=a.i(24852),ey=a.i(42587);let ez=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class eA extends cF{constructor(a,b,c={},d,e,f){if(super(),this.blockLen=a,this.outputLen=b,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,cq(a),cq(b),cq(d),b<0||b>d)throw Error("outputLen bigger than keyLen");if(void 0!==c.key&&(c.key.length<1||c.key.length>d))throw Error("key length must be undefined or 1.."+d);if(void 0!==c.salt&&c.salt.length!==e)throw Error("salt must be undefined or "+e);if(void 0!==c.personalization&&c.personalization.length!==f)throw Error("personalization must be undefined or "+f);this.buffer=new Uint8Array(a),this.buffer32=cw(this.buffer)}update(a){cs(this);let{blockLen:b,buffer:c,buffer32:d}=this,e=(a=cE(a)).length,f=a.byteOffset,g=a.buffer;for(let h=0;h<e;){this.pos===b&&(cz||cC(d),this.compress(d,0,!1),cz||cC(d),this.pos=0);let i=Math.min(b-this.pos,e-h),j=f+h;if(i===b&&!(j%4)&&h+i<e){let a=new Uint32Array(g,j,Math.floor((e-h)/4));cz||cC(a);for(let c=0;h+b<e;c+=d.length,h+=b)this.length+=b,this.compress(a,c,!1);cz||cC(a);continue}c.set(a.subarray(h,h+i),this.pos),this.pos+=i,this.length+=i,h+=i}return this}digestInto(a){cs(this),ct(a,this);let{pos:b,buffer32:c}=this;this.finished=!0,this.buffer.subarray(b).fill(0),cz||cC(c),this.compress(c,0,!0),cz||cC(c);let d=cw(a);this.get().forEach((a,b)=>d[b]=cB(a))}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){let{buffer:b,length:c,finished:d,destroyed:e,outputLen:f,pos:g}=this;return a||(a=new this.constructor({dkLen:f})),a.set(...this.get()),a.length=c,a.finished=d,a.destroyed=e,a.outputLen=f,a.buffer.set(b),a.pos=g,a}}let eB=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]);function eC(a,b,c,d,e){return c=c+(d=cy(d^(a=a+b+e|0),16))|0,{a,b:b=cy(b^c,12),c,d}}function eD(a,b,c,d,e){return c=c+(d=cy(d^(a=a+b+e|0),8))|0,{a,b:b=cy(b^c,7),c,d}}class eE extends eA{constructor(a={}){super(64,void 0===a.dkLen?32:a.dkLen,a,32,8,8),this.v0=0|eB[0],this.v1=0|eB[1],this.v2=0|eB[2],this.v3=0|eB[3],this.v4=0|eB[4],this.v5=0|eB[5],this.v6=0|eB[6],this.v7=0|eB[7];const b=a.key?a.key.length:0;if(this.v0^=this.outputLen|b<<8|0x1010000,a.salt){const b=cw(cE(a.salt));this.v4^=cB(b[0]),this.v5^=cB(b[1])}if(a.personalization){const b=cw(cE(a.personalization));this.v6^=cB(b[0]),this.v7^=cB(b[1])}if(a.key){const b=new Uint8Array(this.blockLen);b.set(cE(a.key)),this.update(b)}}get(){let{v0:a,v1:b,v2:c,v3:d,v4:e,v5:f,v6:g,v7:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.v0=0|a,this.v1=0|b,this.v2=0|c,this.v3=0|d,this.v4=0|e,this.v5=0|f,this.v6=0|g,this.v7=0|h}compress(a,b,c){let{h:d,l:e}=cS(BigInt(this.length)),{v0:f,v1:g,v2:h,v3:i,v4:j,v5:k,v6:l,v7:m,v8:n,v9:o,v10:p,v11:q,v12:r,v13:s,v14:t,v15:u}=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){let u=0;for(let d=0;d<10;d++)({a:e,b:i,c:m,d:q}=eC(e,i,m,q,c[b+a[u++]])),({a:e,b:i,c:m,d:q}=eD(e,i,m,q,c[b+a[u++]])),({a:f,b:j,c:n,d:r}=eC(f,j,n,r,c[b+a[u++]])),({a:f,b:j,c:n,d:r}=eD(f,j,n,r,c[b+a[u++]])),({a:g,b:k,c:o,d:s}=eC(g,k,o,s,c[b+a[u++]])),({a:g,b:k,c:o,d:s}=eD(g,k,o,s,c[b+a[u++]])),({a:h,b:l,c:p,d:t}=eC(h,l,p,t,c[b+a[u++]])),({a:h,b:l,c:p,d:t}=eD(h,l,p,t,c[b+a[u++]])),({a:e,b:j,c:o,d:t}=eC(e,j,o,t,c[b+a[u++]])),({a:e,b:j,c:o,d:t}=eD(e,j,o,t,c[b+a[u++]])),({a:f,b:k,c:p,d:q}=eC(f,k,p,q,c[b+a[u++]])),({a:f,b:k,c:p,d:q}=eD(f,k,p,q,c[b+a[u++]])),({a:g,b:l,c:m,d:r}=eC(g,l,m,r,c[b+a[u++]])),({a:g,b:l,c:m,d:r}=eD(g,l,m,r,c[b+a[u++]])),({a:h,b:i,c:n,d:s}=eC(h,i,n,s,c[b+a[u++]])),{a:h,b:i,c:n,d:s}=eD(h,i,n,s,c[b+a[u++]]);return{v0:e,v1:f,v2:g,v3:h,v4:i,v5:j,v6:k,v7:l,v8:m,v9:n,v10:o,v11:p,v12:q,v13:r,v14:s,v15:t}}(ez,b,a,0,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,eB[0],eB[1],eB[2],eB[3],e^eB[4],d^eB[5],c?~eB[6]:eB[6],eB[7]);this.v0^=f^n,this.v1^=g^o,this.v2^=h^p,this.v3^=i^q,this.v4^=j^r,this.v5^=k^s,this.v6^=l^t,this.v7^=m^u}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}}let eF=(m=a=>new eE(a),(g=(a,b)=>m(b).update(cE(a)).digest()).outputLen=(h=m({})).outputLen,g.blockLen=h.blockLen,g.create=a=>m(a),g);function eG(a){let b=a.length;for(;--b>=0;)a[b]=0}let eH=573,eI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eJ=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eK=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),eL=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eM=Array(576);eG(eM);let eN=Array(60);eG(eN);let eO=Array(512);eG(eO);let eP=Array(256);eG(eP);let eQ=Array(29);eG(eQ);let eR=Array(30);function eS(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function eT(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}eG(eR);let eU=a=>a<256?eO[a]:eO[256+(a>>>7)],eV=(a,b)=>{a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255},eW=(a,b,c)=>{a.bi_valid>16-c?(a.bi_buf|=b<<a.bi_valid&65535,eV(a,a.bi_buf),a.bi_buf=b>>16-a.bi_valid,a.bi_valid+=c-16):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)},eX=(a,b,c)=>{eW(a,c[2*b],c[2*b+1])},eY=(a,b)=>{let c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0)return c>>>1},eZ=(a,b,c)=>{let d,e,f=Array(16),g=0;for(d=1;d<=15;d++)g=g+c[d-1]<<1,f[d]=g;for(e=0;e<=b;e++){let b=a[2*e+1];0!==b&&(a[2*e]=eY(f[b]++,b))}},e$=a=>{let b;for(b=0;b<286;b++)a.dyn_ltree[2*b]=0;for(b=0;b<30;b++)a.dyn_dtree[2*b]=0;for(b=0;b<19;b++)a.bl_tree[2*b]=0;a.dyn_ltree[512]=1,a.opt_len=a.static_len=0,a.sym_next=a.matches=0},e_=a=>{a.bi_valid>8?eV(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},e0=(a,b,c,d)=>{let e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]},e1=(a,b,c)=>{let d=a.heap[c],e=c<<1;for(;e<=a.heap_len&&(e<a.heap_len&&e0(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!e0(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d},e2=(a,b,c)=>{let d,e,f,g,h=0;if(0!==a.sym_next)do d=(255&a.pending_buf[a.sym_buf+h++])+((255&a.pending_buf[a.sym_buf+h++])<<8),e=a.pending_buf[a.sym_buf+h++],0===d?eX(a,e,b):(eX(a,(f=eP[e])+256+1,b),0!==(g=eI[f])&&eW(a,e-=eQ[f],g),eX(a,f=eU(--d),c),0!==(g=eJ[f])&&eW(a,d-=eR[f],g));while(h<a.sym_next)eX(a,256,b)},e3=(a,b)=>{let c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(c=0,a.heap_len=0,a.heap_max=eH;c<i;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)f[2*(e=a.heap[++a.heap_len]=j<2?++j:0)]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)e1(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],e1(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,e1(a,f,1);while(a.heap_len>=2)a.heap[--a.heap_max]=a.heap[1],((a,b)=>{let c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;f<=15;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;c<eH;c++)(f=i[2*i[2*(d=a.heap[c])+1]+1]+1)>o&&(f=o,p++),i[2*d+1]=f,!(d>j)&&(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0)for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)!((e=a.heap[--c])>j)&&(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}})(a,b),eZ(f,j,a.bl_count)},e4=(a,b,c)=>{let d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[(c+1)*2+1]=65535,d=0;d<=c;d++)e=g,g=b[(d+1)*2+1],++h<i&&e===g||(h<j?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[32]++):h<=10?a.bl_tree[34]++:a.bl_tree[36]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))},e5=(a,b,c)=>{let d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),d=0;d<=c;d++)if(e=g,g=b[(d+1)*2+1],!(++h<i)||e!==g){if(h<j)do eX(a,e,a.bl_tree);while(0!=--h)else 0!==e?(e!==f&&(eX(a,e,a.bl_tree),h--),eX(a,16,a.bl_tree),eW(a,h-3,2)):h<=10?(eX(a,17,a.bl_tree),eW(a,h-3,3)):(eX(a,18,a.bl_tree),eW(a,h-11,7));h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4)}},e6=!1,e7=(a,b,c,d)=>{eW(a,0+ +!!d,3),e_(a),eV(a,c),eV(a,~c),c&&a.pending_buf.set(a.window.subarray(b,b+c),a.pending),a.pending+=c};var e8={_tr_init:a=>{e6||((()=>{let a,e,f,g,h,i=Array(16);for(g=0,f=0;g<28;g++)for(a=0,eQ[g]=f;a<1<<eI[g];a++)eP[f++]=g;for(eP[f-1]=g,h=0,g=0;g<16;g++)for(a=0,eR[g]=h;a<1<<eJ[g];a++)eO[h++]=g;for(h>>=7;g<30;g++)for(a=0,eR[g]=h<<7;a<1<<eJ[g]-7;a++)eO[256+h++]=g;for(e=0;e<=15;e++)i[e]=0;for(a=0;a<=143;)eM[2*a+1]=8,a++,i[8]++;for(;a<=255;)eM[2*a+1]=9,a++,i[9]++;for(;a<=279;)eM[2*a+1]=7,a++,i[7]++;for(;a<=287;)eM[2*a+1]=8,a++,i[8]++;for(eZ(eM,287,i),a=0;a<30;a++)eN[2*a+1]=5,eN[2*a]=eY(a,5);b=new eS(eM,eI,257,286,15),c=new eS(eN,eJ,0,30,15),d=new eS([],eK,0,19,7)})(),e6=!0),a.l_desc=new eT(a.dyn_ltree,b),a.d_desc=new eT(a.dyn_dtree,c),a.bl_desc=new eT(a.bl_tree,d),a.bi_buf=0,a.bi_valid=0,e$(a)},_tr_stored_block:e7,_tr_flush_block:(a,b,c,d)=>{let e,f,g=0;a.level>0?(2===a.strm.data_type&&(a.strm.data_type=(a=>{let b,c=0xf3ffc07f;for(b=0;b<=31;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(b=32;b<256;b++)if(0!==a.dyn_ltree[2*b])return 1;return 0})(a)),e3(a,a.l_desc),e3(a,a.d_desc),g=(a=>{let b;for(e4(a,a.dyn_ltree,a.l_desc.max_code),e4(a,a.dyn_dtree,a.d_desc.max_code),e3(a,a.bl_desc),b=18;b>=3&&0===a.bl_tree[2*eL[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b})(a),e=a.opt_len+3+7>>>3,(f=a.static_len+3+7>>>3)<=e&&(e=f)):e=f=c+5,c+4<=e&&-1!==b?e7(a,b,c,d):4===a.strategy||f===e?(eW(a,2+ +!!d,3),e2(a,eM,eN)):(eW(a,4+ +!!d,3),((a,b,c,d)=>{let e;for(eW(a,b-257,5),eW(a,c-1,5),eW(a,d-4,4),e=0;e<d;e++)eW(a,a.bl_tree[2*eL[e]+1],3);e5(a,a.dyn_ltree,b-1),e5(a,a.dyn_dtree,c-1)})(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),e2(a,a.dyn_ltree,a.dyn_dtree)),e$(a),d&&e_(a)},_tr_tally:(a,b,c)=>(a.pending_buf[a.sym_buf+a.sym_next++]=b,a.pending_buf[a.sym_buf+a.sym_next++]=b>>8,a.pending_buf[a.sym_buf+a.sym_next++]=c,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[(eP[c]+256+1)*2]++,a.dyn_dtree[2*eU(b)]++),a.sym_next===a.sym_end),_tr_align:a=>{eW(a,2,3),eX(a,256,eM),16===a.bi_valid?(eV(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}},e9=(a,b,c,d)=>{let e=65535&a,f=a>>>16&65535,g=0;for(;0!==c;){g=c>2e3?2e3:c,c-=g;do f=f+(e=e+b[d++]|0)|0;while(--g)e%=65521,f%=65521}return e|f<<16};let fa=new Uint32Array((()=>{let a,b=[];for(var c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?0xedb88320^a>>>1:a>>>1;b[c]=a}return b})());var fb=(a,b,c,d)=>{let e=d+c;a^=-1;for(let c=d;c<e;c++)a=a>>>8^fa[(a^b[c])&255];return -1^a},fc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:fe,_tr_stored_block:ff,_tr_flush_block:fg,_tr_tally:fh,_tr_align:fi}=e8,{Z_NO_FLUSH:fj,Z_PARTIAL_FLUSH:fk,Z_FULL_FLUSH:fl,Z_FINISH:fm,Z_BLOCK:fn,Z_OK:fo,Z_STREAM_END:fp,Z_STREAM_ERROR:fq,Z_DATA_ERROR:fr,Z_BUF_ERROR:fs,Z_DEFAULT_COMPRESSION:ft,Z_FILTERED:fu,Z_HUFFMAN_ONLY:fv,Z_RLE:fw,Z_FIXED:fx,Z_DEFAULT_STRATEGY:fy,Z_UNKNOWN:fz,Z_DEFLATED:fA}=fd,fB=573,fC=(a,b)=>(a.msg=fc[b],b),fD=a=>2*a-9*(a>4),fE=a=>{let b=a.length;for(;--b>=0;)a[b]=0},fF=a=>{let b,c,d,e=a.w_size;d=b=a.hash_size;do c=a.head[--d],a.head[d]=c>=e?c-e:0;while(--b)d=b=e;do c=a.prev[--d],a.prev[d]=c>=e?c-e:0;while(--b)},fG=(a,b,c)=>(b<<a.hash_shift^c)&a.hash_mask,fH=a=>{let b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(a.output.set(b.pending_buf.subarray(b.pending_out,b.pending_out+c),a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))},fI=(a,b)=>{fg(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,fH(a.strm)},fJ=(a,b)=>{a.pending_buf[a.pending++]=b},fK=(a,b)=>{a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b},fL=(a,b,c,d)=>{let e=a.avail_in;return(e>d&&(e=d),0===e)?0:(a.avail_in-=e,b.set(a.input.subarray(a.next_in,a.next_in+e),c),1===a.state.wrap?a.adler=e9(a.adler,b,e,c):2===a.state.wrap&&(a.adler=fb(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)},fM=(a,b)=>{let c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+258,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do{if(j[(c=b)+g]!==o||j[c+g-1]!==n||j[c]!==j[f]||j[++c]!==j[f+1])continue;f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&f<m)if(d=258-(m-f),f=m-258,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!=--e)return g<=a.lookahead?g:a.lookahead},fN=a=>{let b,c,d,e=a.w_size;do{if(c=a.window_size-a.lookahead-a.strstart,a.strstart>=e+(e-262)&&(a.window.set(a.window.subarray(e,e+e-c),0),a.match_start-=e,a.strstart-=e,a.block_start-=e,a.insert>a.strstart&&(a.insert=a.strstart),fF(a),c+=e),0===a.strm.avail_in)break;if(b=fL(a.strm,a.window,a.strstart+a.lookahead,c),a.lookahead+=b,a.lookahead+a.insert>=3)for(d=a.strstart-a.insert,a.ins_h=a.window[d],a.ins_h=fG(a,a.ins_h,a.window[d+1]);a.insert&&(a.ins_h=fG(a,a.ins_h,a.window[d+3-1]),a.prev[d&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=d,d++,a.insert--,!(a.lookahead+a.insert<3)););}while(a.lookahead<262&&0!==a.strm.avail_in)},fO=(a,b)=>{let c=a.pending_buf_size-5>a.w_size?a.w_size:a.pending_buf_size-5,d,e,f,g=0,h=a.strm.avail_in;do{if(d=65535,f=a.bi_valid+42>>3,a.strm.avail_out<f||(f=a.strm.avail_out-f,d>(e=a.strstart-a.block_start)+a.strm.avail_in&&(d=e+a.strm.avail_in),d>f&&(d=f),d<c&&(0===d&&b!==fm||b===fj||d!==e+a.strm.avail_in)))break;g=+(b===fm&&d===e+a.strm.avail_in),ff(a,0,0,g),a.pending_buf[a.pending-4]=d,a.pending_buf[a.pending-3]=d>>8,a.pending_buf[a.pending-2]=~d,a.pending_buf[a.pending-1]=~d>>8,fH(a.strm),e&&(e>d&&(e=d),a.strm.output.set(a.window.subarray(a.block_start,a.block_start+e),a.strm.next_out),a.strm.next_out+=e,a.strm.avail_out-=e,a.strm.total_out+=e,a.block_start+=e,d-=e),d&&(fL(a.strm,a.strm.output,a.strm.next_out,d),a.strm.next_out+=d,a.strm.avail_out-=d,a.strm.total_out+=d)}while(0===g)return((h-=a.strm.avail_in)&&(h>=a.w_size?(a.matches=2,a.window.set(a.strm.input.subarray(a.strm.next_in-a.w_size,a.strm.next_in),0),a.strstart=a.w_size,a.insert=a.strstart):(a.window_size-a.strstart<=h&&(a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,a.insert>a.strstart&&(a.insert=a.strstart)),a.window.set(a.strm.input.subarray(a.strm.next_in-h,a.strm.next_in),a.strstart),a.strstart+=h,a.insert+=h>a.w_size-a.insert?a.w_size-a.insert:h),a.block_start=a.strstart),a.high_water<a.strstart&&(a.high_water=a.strstart),g)?4:b!==fj&&b!==fm&&0===a.strm.avail_in&&a.strstart===a.block_start?2:(f=a.window_size-a.strstart,a.strm.avail_in>f&&a.block_start>=a.w_size&&(a.block_start-=a.w_size,a.strstart-=a.w_size,a.window.set(a.window.subarray(a.w_size,a.w_size+a.strstart),0),a.matches<2&&a.matches++,f+=a.w_size,a.insert>a.strstart&&(a.insert=a.strstart)),f>a.strm.avail_in&&(f=a.strm.avail_in),f&&(fL(a.strm,a.window,a.strstart,f),a.strstart+=f,a.insert+=f>a.w_size-a.insert?a.w_size-a.insert:f),a.high_water<a.strstart&&(a.high_water=a.strstart),f=a.bi_valid+42>>3,c=(f=a.pending_buf_size-f>65535?65535:a.pending_buf_size-f)>a.w_size?a.w_size:f,((e=a.strstart-a.block_start)>=c||(e||b===fm)&&b!==fj&&0===a.strm.avail_in&&e<=f)&&(d=e>f?f:e,g=+(b===fm&&0===a.strm.avail_in&&d===e),ff(a,a.block_start,d,g),a.block_start+=d,fH(a.strm)),g?3:1)},fP=(a,b)=>{let c,d;for(;;){if(a.lookahead<262){if(fN(a),a.lookahead<262&&b===fj)return 1;if(0===a.lookahead)break}if(c=0,a.lookahead>=3&&(a.ins_h=fG(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-262&&(a.match_length=fM(a,c)),a.match_length>=3)if(d=fh(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=3){a.match_length--;do a.strstart++,a.ins_h=fG(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!=--a.match_length)a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=fG(a,a.ins_h,a.window[a.strstart+1]);else d=fh(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(fI(a,!1),0===a.strm.avail_out))return 1}return(a.insert=a.strstart<2?a.strstart:2,b===fm)?(fI(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(fI(a,!1),0===a.strm.avail_out)?1:2},fQ=(a,b)=>{let c,d,e;for(;;){if(a.lookahead<262){if(fN(a),a.lookahead<262&&b===fj)return 1;if(0===a.lookahead)break}if(c=0,a.lookahead>=3&&(a.ins_h=fG(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-262&&(a.match_length=fM(a,c),a.match_length<=5&&(a.strategy===fu||3===a.match_length&&a.strstart-a.match_start>4096)&&(a.match_length=2)),a.prev_length>=3&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3,d=fh(a,a.strstart-1-a.prev_match,a.prev_length-3),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=fG(a,a.ins_h,a.window[a.strstart+3-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!=--a.prev_length)if(a.match_available=0,a.match_length=2,a.strstart++,d&&(fI(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((d=fh(a,0,a.window[a.strstart-1]))&&fI(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return(a.match_available&&(d=fh(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<2?a.strstart:2,b===fm)?(fI(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(fI(a,!1),0===a.strm.avail_out)?1:2};function fR(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}let fS=[new fR(0,0,0,0,fO),new fR(4,4,8,4,fP),new fR(4,5,16,8,fP),new fR(4,6,32,32,fP),new fR(4,4,16,16,fQ),new fR(8,16,32,32,fQ),new fR(8,16,128,128,fQ),new fR(8,32,128,256,fQ),new fR(32,128,258,1024,fQ),new fR(32,258,258,4096,fQ)];function fT(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*fB),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),fE(this.dyn_ltree),fE(this.dyn_dtree),fE(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),fE(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),fE(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let fU=a=>{if(!a)return 1;let b=a.state;return b&&b.strm===a&&(42===b.status||57===b.status||69===b.status||73===b.status||91===b.status||103===b.status||113===b.status||666===b.status)?0:1};var fV=(a,b)=>{if(fU(a)||b>fn||b<0)return a?fC(a,fq):fq;let c=a.state;if(!a.output||0!==a.avail_in&&!a.input||666===c.status&&b!==fm)return fC(a,0===a.avail_out?fs:fq);let d=c.last_flush;if(c.last_flush=b,0!==c.pending){if(fH(a),0===a.avail_out)return c.last_flush=-1,fo}else if(0===a.avail_in&&fD(b)<=fD(d)&&b!==fm)return fC(a,fs);if(666===c.status&&0!==a.avail_in)return fC(a,fs);if(42===c.status&&0===c.wrap&&(c.status=113),42===c.status){let b=fA+(c.w_bits-8<<4)<<8;if(b|=(c.strategy>=fv||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(b|=32),fK(c,b+=31-b%31),0!==c.strstart&&(fK(c,a.adler>>>16),fK(c,65535&a.adler)),a.adler=1,c.status=113,fH(a),0!==c.pending)return c.last_flush=-1,fo}if(57===c.status){if(a.adler=0,fJ(c,31),fJ(c,139),fJ(c,8),c.gzhead)fJ(c,+!!c.gzhead.text+2*!!c.gzhead.hcrc+4*!!c.gzhead.extra+8*!!c.gzhead.name+16*!!c.gzhead.comment),fJ(c,255&c.gzhead.time),fJ(c,c.gzhead.time>>8&255),fJ(c,c.gzhead.time>>16&255),fJ(c,c.gzhead.time>>24&255),fJ(c,9===c.level?2:4*(c.strategy>=fv||c.level<2)),fJ(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(fJ(c,255&c.gzhead.extra.length),fJ(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(a.adler=fb(a.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69;else if(fJ(c,0),fJ(c,0),fJ(c,0),fJ(c,0),fJ(c,0),fJ(c,9===c.level?2:4*(c.strategy>=fv||c.level<2)),fJ(c,3),c.status=113,fH(a),0!==c.pending)return c.last_flush=-1,fo}if(69===c.status){if(c.gzhead.extra){let b=c.pending,d=(65535&c.gzhead.extra.length)-c.gzindex;for(;c.pending+d>c.pending_buf_size;){let e=c.pending_buf_size-c.pending;if(c.pending_buf.set(c.gzhead.extra.subarray(c.gzindex,c.gzindex+e),c.pending),c.pending=c.pending_buf_size,c.gzhead.hcrc&&c.pending>b&&(a.adler=fb(a.adler,c.pending_buf,c.pending-b,b)),c.gzindex+=e,fH(a),0!==c.pending)return c.last_flush=-1,fo;b=0,d-=e}let e=new Uint8Array(c.gzhead.extra);c.pending_buf.set(e.subarray(c.gzindex,c.gzindex+d),c.pending),c.pending+=d,c.gzhead.hcrc&&c.pending>b&&(a.adler=fb(a.adler,c.pending_buf,c.pending-b,b)),c.gzindex=0}c.status=73}if(73===c.status){if(c.gzhead.name){let b,d=c.pending;do{if(c.pending===c.pending_buf_size){if(c.gzhead.hcrc&&c.pending>d&&(a.adler=fb(a.adler,c.pending_buf,c.pending-d,d)),fH(a),0!==c.pending)return c.last_flush=-1,fo;d=0}b=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,fJ(c,b)}while(0!==b)c.gzhead.hcrc&&c.pending>d&&(a.adler=fb(a.adler,c.pending_buf,c.pending-d,d)),c.gzindex=0}c.status=91}if(91===c.status){if(c.gzhead.comment){let b,d=c.pending;do{if(c.pending===c.pending_buf_size){if(c.gzhead.hcrc&&c.pending>d&&(a.adler=fb(a.adler,c.pending_buf,c.pending-d,d)),fH(a),0!==c.pending)return c.last_flush=-1,fo;d=0}b=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,fJ(c,b)}while(0!==b)c.gzhead.hcrc&&c.pending>d&&(a.adler=fb(a.adler,c.pending_buf,c.pending-d,d))}c.status=103}if(103===c.status){if(c.gzhead.hcrc){if(c.pending+2>c.pending_buf_size&&(fH(a),0!==c.pending))return c.last_flush=-1,fo;fJ(c,255&a.adler),fJ(c,a.adler>>8&255),a.adler=0}if(c.status=113,fH(a),0!==c.pending)return c.last_flush=-1,fo}if(0!==a.avail_in||0!==c.lookahead||b!==fj&&666!==c.status){let d=0===c.level?fO(c,b):c.strategy===fv?((a,b)=>{let c;for(;;){if(0===a.lookahead&&(fN(a),0===a.lookahead)){if(b===fj)return 1;break}if(a.match_length=0,c=fh(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(fI(a,!1),0===a.strm.avail_out))return 1}return(a.insert=0,b===fm)?(fI(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(fI(a,!1),0===a.strm.avail_out)?1:2})(c,b):c.strategy===fw?((a,b)=>{let c,d,e,f,g=a.window;for(;;){if(a.lookahead<=258){if(fN(a),a.lookahead<=258&&b===fj)return 1;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=3&&a.strstart>0&&(d=g[e=a.strstart-1])===g[++e]&&d===g[++e]&&d===g[++e]){f=a.strstart+258;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f)a.match_length=258-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=3?(c=fh(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=fh(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(fI(a,!1),0===a.strm.avail_out))return 1}return(a.insert=0,b===fm)?(fI(a,!0),0===a.strm.avail_out)?3:4:a.sym_next&&(fI(a,!1),0===a.strm.avail_out)?1:2})(c,b):fS[c.level].func(c,b);if((3===d||4===d)&&(c.status=666),1===d||3===d)return 0===a.avail_out&&(c.last_flush=-1),fo;if(2===d&&(b===fk?fi(c):b!==fn&&(ff(c,0,0,!1),b===fl&&(fE(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),fH(a),0===a.avail_out))return c.last_flush=-1,fo}return b!==fm?fo:c.wrap<=0?fp:(2===c.wrap?(fJ(c,255&a.adler),fJ(c,a.adler>>8&255),fJ(c,a.adler>>16&255),fJ(c,a.adler>>24&255),fJ(c,255&a.total_in),fJ(c,a.total_in>>8&255),fJ(c,a.total_in>>16&255),fJ(c,a.total_in>>24&255)):(fK(c,a.adler>>>16),fK(c,65535&a.adler)),fH(a),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?fo:fp)},fW=a=>{if(fU(a))return fq;let b=a.state.status;return a.state=null,113===b?fC(a,fr):fo};let fX=(a,b)=>Object.prototype.hasOwnProperty.call(a,b);var fY=function(a){let b=Array.prototype.slice.call(arguments,1);for(;b.length;){let c=b.shift();if(c){if("object"!=typeof c)throw TypeError(c+"must be non-object");for(let b in c)fX(c,b)&&(a[b]=c[b])}}return a},fZ=a=>{let b=0;for(let c=0,d=a.length;c<d;c++)b+=a[c].length;let c=new Uint8Array(b);for(let b=0,d=0,e=a.length;b<e;b++){let e=a[b];c.set(e,d),d+=e.length}return c};let f$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){f$=!1}let f_=new Uint8Array(256);for(let a=0;a<256;a++)f_[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;f_[254]=f_[254]=1;var f0=a=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let b,c,d,e,f,g=a.length,h=0;for(e=0;e<g;e++)(64512&(c=a.charCodeAt(e)))==55296&&e+1<g&&(64512&(d=a.charCodeAt(e+1)))==56320&&(c=65536+(c-55296<<10)+(d-56320),e++),h+=c<128?1:c<2048?2:c<65536?3:4;for(f=0,b=new Uint8Array(h),e=0;f<h;e++)(64512&(c=a.charCodeAt(e)))==55296&&e+1<g&&(64512&(d=a.charCodeAt(e+1)))==56320&&(c=65536+(c-55296<<10)+(d-56320),e++),c<128?b[f++]=c:(c<2048?b[f++]=192|c>>>6:(c<65536?b[f++]=224|c>>>12:(b[f++]=240|c>>>18,b[f++]=128|c>>>12&63),b[f++]=128|c>>>6&63),b[f++]=128|63&c);return b},f1=(a,b)=>{let c,d,e=b||a.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,b));let f=Array(2*e);for(d=0,c=0;c<e;){let b=a[c++];if(b<128){f[d++]=b;continue}let g=f_[b];if(g>4){f[d++]=65533,c+=g-1;continue}for(b&=2===g?31:3===g?15:7;g>1&&c<e;)b=b<<6|63&a[c++],g--;if(g>1){f[d++]=65533;continue}b<65536?f[d++]=b:(b-=65536,f[d++]=55296|b>>10&1023,f[d++]=56320|1023&b)}var g=d;if(g<65534&&f.subarray&&f$)return String.fromCharCode.apply(null,f.length===g?f:f.subarray(0,g));let h="";for(let a=0;a<g;a++)h+=String.fromCharCode(f[a]);return h},f2=(a,b)=>{(b=b||a.length)>a.length&&(b=a.length);let c=b-1;for(;c>=0&&(192&a[c])==128;)c--;return c<0||0===c?b:c+f_[a[c]]>b?c:b},f3=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let f4=Object.prototype.toString,{Z_NO_FLUSH:f5,Z_SYNC_FLUSH:f6,Z_FULL_FLUSH:f7,Z_FINISH:f8,Z_OK:f9,Z_STREAM_END:ga,Z_DEFAULT_COMPRESSION:gb,Z_DEFAULT_STRATEGY:gc,Z_DEFLATED:gd}=fd;function ge(a){let b,c;this.options=fY({level:gb,method:gd,chunkSize:16384,windowBits:15,memLevel:8,strategy:gc},a||{});let d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f3,this.strm.avail_out=0;let e=((a,b,c,d,e,f)=>{var g,h;let i;if(!a)return fq;let j=1;if(b===ft&&(b=6),d<0?(j=0,d=-d):d>15&&(j=2,d-=16),e<1||e>9||c!==fA||d<8||d>15||b<0||b>9||f<0||f>fx||8===d&&1!==j)return fC(a,fq);8===d&&(d=9);let k=new fT;return a.state=k,k.strm=a,k.status=42,k.wrap=j,k.gzhead=null,k.w_bits=d,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=e+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+3-1)/3),k.window=new Uint8Array(2*k.w_size),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<e+6,k.pending_buf_size=4*k.lit_bufsize,k.pending_buf=new Uint8Array(k.pending_buf_size),k.sym_buf=k.lit_bufsize,k.sym_end=(k.lit_bufsize-1)*3,k.level=b,k.strategy=f,k.method=c,(i=(a=>{if(fU(a))return fC(a,fq);a.total_in=a.total_out=0,a.data_type=fz;let b=a.state;return b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=2===b.wrap?57:b.wrap?42:113,a.adler=+(2!==b.wrap),b.last_flush=-2,fe(b),fo})(g=a))===fo&&((h=g.state).window_size=2*h.w_size,fE(h.head),h.max_lazy_match=fS[h.level].max_lazy,h.good_match=fS[h.level].good_length,h.nice_match=fS[h.level].nice_length,h.max_chain_length=fS[h.level].max_chain,h.strstart=0,h.block_start=0,h.lookahead=0,h.insert=0,h.match_length=h.prev_length=2,h.match_available=0,h.ins_h=0),i})(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(e!==f9)throw Error(fc[e]);if(d.header&&(b=this.strm,c=d.header,fU(b)||2!==b.state.wrap||(b.state.gzhead=c)),d.dictionary){let a;if(a="string"==typeof d.dictionary?f0(d.dictionary):"[object ArrayBuffer]"===f4.call(d.dictionary)?new Uint8Array(d.dictionary):d.dictionary,(e=((a,b)=>{let c=b.length;if(fU(a))return fq;let d=a.state,e=d.wrap;if(2===e||1===e&&42!==d.status||d.lookahead)return fq;if(1===e&&(a.adler=e9(a.adler,b,c,0)),d.wrap=0,c>=d.w_size){0===e&&(fE(d.head),d.strstart=0,d.block_start=0,d.insert=0);let a=new Uint8Array(d.w_size);a.set(b.subarray(c-d.w_size,c),0),b=a,c=d.w_size}let f=a.avail_in,g=a.next_in,h=a.input;for(a.avail_in=c,a.next_in=0,a.input=b,fN(d);d.lookahead>=3;){let a=d.strstart,b=d.lookahead-2;do d.ins_h=fG(d,d.ins_h,d.window[a+3-1]),d.prev[a&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=a,a++;while(--b)d.strstart=a,d.lookahead=2,fN(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=2,d.match_available=0,a.next_in=g,a.input=h,a.avail_in=f,d.wrap=e,fo})(this.strm,a))!==f9)throw Error(fc[e]);this._dict_set=!0}}function gf(a,b){let c=new ge(b);if(c.push(a,!0),c.err)throw c.msg||fc[c.err];return c.result}ge.prototype.push=function(a,b){let c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;for(d=b===~~b?b:!0===b?f8:f5,"string"==typeof a?e.input=f0(a):"[object ArrayBuffer]"===f4.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;;){if(0===e.avail_out&&(e.output=new Uint8Array(f),e.next_out=0,e.avail_out=f),(d===f6||d===f7)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if((c=fV(e,d))===ga)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),c=fW(this.strm),this.onEnd(c),this.ended=!0,c===f9;if(0===e.avail_out){this.onData(e.output);continue}if(d>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(0===e.avail_in)break}return!0},ge.prototype.onData=function(a){this.chunks.push(a)},ge.prototype.onEnd=function(a){a===f9&&(this.result=fZ(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};var gg=function(a,b){let c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=a.state;c=a.next_in,y=a.input,d=c+(a.avail_in-5),e=a.next_out,z=a.output,f=e-(b-a.avail_out),g=e+(a.avail_out-257),h=A.dmax,i=A.wsize,j=A.whave,k=A.wnext,l=A.window,m=A.hold,n=A.bits,o=A.lencode,p=A.distcode,q=(1<<A.lenbits)-1,r=(1<<A.distbits)-1;a:do for(n<15&&(m+=y[c++]<<n,n+=8,m+=y[c++]<<n,n+=8),s=o[m&q];;){if(m>>>=t=s>>>24,n-=t,0==(t=s>>>16&255))z[e++]=65535&s;else if(16&t)for(u=65535&s,(t&=15)&&(n<t&&(m+=y[c++]<<n,n+=8),u+=m&(1<<t)-1,m>>>=t,n-=t),n<15&&(m+=y[c++]<<n,n+=8,m+=y[c++]<<n,n+=8),s=p[m&r];;){if(m>>>=t=s>>>24,n-=t,16&(t=s>>>16&255)){if(v=65535&s,n<(t&=15)&&(m+=y[c++]<<n,(n+=8)<t&&(m+=y[c++]<<n,n+=8)),(v+=m&(1<<t)-1)>h){a.msg="invalid distance too far back",A.mode=16209;break a}if(m>>>=t,n-=t,v>(t=e-f)){if((t=v-t)>j&&A.sane){a.msg="invalid distance too far back",A.mode=16209;break a}if(w=0,x=l,0===k){if(w+=i-t,t<u){u-=t;do z[e++]=l[w++];while(--t)w=e-v,x=z}}else if(k<t){if(w+=i+k-t,(t-=k)<u){u-=t;do z[e++]=l[w++];while(--t)if(w=0,k<u){u-=t=k;do z[e++]=l[w++];while(--t)w=e-v,x=z}}}else if(w+=k-t,t<u){u-=t;do z[e++]=l[w++];while(--t)w=e-v,x=z}for(;u>2;)z[e++]=x[w++],z[e++]=x[w++],z[e++]=x[w++],u-=3;u&&(z[e++]=x[w++],u>1&&(z[e++]=x[w++]))}else{w=e-v;do z[e++]=z[w++],z[e++]=z[w++],z[e++]=z[w++],u-=3;while(u>2)u&&(z[e++]=z[w++],u>1&&(z[e++]=z[w++]))}}else if((64&t)==0){s=p[(65535&s)+(m&(1<<t)-1)];continue}else{a.msg="invalid distance code",A.mode=16209;break a}break}else if((64&t)==0){s=o[(65535&s)+(m&(1<<t)-1)];continue}else if(32&t){A.mode=16191;break a}else{a.msg="invalid literal/length code",A.mode=16209;break a}break}while(c<d&&e<g)c-=u=n>>3,n-=u<<3,m&=(1<<n)-1,a.next_in=c,a.next_out=e,a.avail_in=c<d?5+(d-c):5-(c-d),a.avail_out=e<g?257+(g-e):257-(e-g),A.hold=m,A.bits=n};let gh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gi=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var gl=(a,b,c,d,e,f,g,h)=>{let i,j,k,l,m,n,o,p,q,r=h.bits,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=null,D=new Uint16Array(16),E=new Uint16Array(16),F=null;for(s=0;s<=15;s++)D[s]=0;for(t=0;t<d;t++)D[b[c+t]]++;for(v=15,w=r;v>=1&&0===D[v];v--);if(w>v&&(w=v),0===v)return e[f++]=0x1400000,e[f++]=0x1400000,h.bits=1,0;for(u=1;u<v&&0===D[u];u++);for(w<u&&(w=u),z=1,s=1;s<=15;s++)if(z<<=1,(z-=D[s])<0)return -1;if(z>0&&(0===a||1!==v))return -1;for(s=1,E[1]=0;s<15;s++)E[s+1]=E[s]+D[s];for(t=0;t<d;t++)0!==b[c+t]&&(g[E[b[c+t]]++]=t);if(0===a?(C=F=g,n=20):1===a?(C=gh,F=gi,n=257):(C=gj,F=gk,n=0),B=0,t=0,s=u,m=f,x=w,y=0,k=-1,l=(A=1<<w)-1,1===a&&A>852||2===a&&A>592)return 1;for(;;){o=s-y,g[t]+1<n?(p=0,q=g[t]):g[t]>=n?(p=F[g[t]-n],q=C[g[t]-n]):(p=96,q=0),i=1<<s-y,u=j=1<<x;do e[m+(B>>y)+(j-=i)]=o<<24|p<<16|q;while(0!==j)for(i=1<<s-1;B&i;)i>>=1;if(0!==i?(B&=i-1,B+=i):B=0,t++,0==--D[s]){if(s===v)break;s=b[c+g[t]]}if(s>w&&(B&l)!==k){for(0===y&&(y=w),m+=u,z=1<<(x=s-y);x+y<v&&!((z-=D[x+y])<=0);)x++,z<<=1;if(A+=1<<x,1===a&&A>852||2===a&&A>592)return 1;e[k=B&l]=w<<24|x<<16|m-f}}return 0!==B&&(e[m+B]=s-y<<24|4194304),h.bits=w,0};let{Z_FINISH:gm,Z_BLOCK:gn,Z_TREES:go,Z_OK:gp,Z_STREAM_END:gq,Z_NEED_DICT:gr,Z_STREAM_ERROR:gs,Z_DATA_ERROR:gt,Z_MEM_ERROR:gu,Z_BUF_ERROR:gv,Z_DEFLATED:gw}=fd,gx=a=>(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24);function gy(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let gz=a=>{if(!a)return 1;let b=a.state;return+(!b||b.strm!==a||b.mode<16180||b.mode>16211)},gA=a=>{if(gz(a))return gs;let b=a.state;return b.wsize=0,b.whave=0,b.wnext=0,(a=>{if(gz(a))return gs;let b=a.state;return a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=16180,b.last=0,b.havedict=0,b.flags=-1,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new Int32Array(852),b.distcode=b.distdyn=new Int32Array(592),b.sane=1,b.back=-1,gp})(a)},gB=!0,gC=a=>{if(gB){e=new Int32Array(512),f=new Int32Array(32);let b=0;for(;b<144;)a.lens[b++]=8;for(;b<256;)a.lens[b++]=9;for(;b<280;)a.lens[b++]=7;for(;b<288;)a.lens[b++]=8;for(gl(1,a.lens,0,288,e,0,a.work,{bits:9}),b=0;b<32;)a.lens[b++]=5;gl(2,a.lens,0,32,f,0,a.work,{bits:5}),gB=!1}a.lencode=e,a.lenbits=9,a.distcode=f,a.distbits=5},gD=(a,b,c,d)=>{let e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new Uint8Array(f.wsize)),d>=f.wsize?(f.window.set(b.subarray(c-f.wsize,c),0),f.wnext=0,f.whave=f.wsize):((e=f.wsize-f.wnext)>d&&(e=d),f.window.set(b.subarray(c-d,c-d+e),f.wnext),(d-=e)?(f.window.set(b.subarray(c-d,c),0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0};var gE=(a,b)=>{let c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=new Uint8Array(4),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gz(a)||!a.output||!a.input&&0!==a.avail_in)return gs;16191===(c=a.state).mode&&(c.mode=16192),g=a.next_out,e=a.output,i=a.avail_out,f=a.next_in,d=a.input,h=a.avail_in,j=c.hold,k=c.bits,l=h,m=i,x=gp;b:for(;;)switch(c.mode){case 16180:if(0===c.wrap){c.mode=16192;break}for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(2&c.wrap&&35615===j){0===c.wbits&&(c.wbits=15),c.check=0,B[0]=255&j,B[1]=j>>>8&255,c.check=fb(c.check,B,2,0),j=0,k=0,c.mode=16181;break}if(c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&j)<<8)+(j>>8))%31){a.msg="incorrect header check",c.mode=16209;break}if((15&j)!==gw){a.msg="unknown compression method",c.mode=16209;break}if(j>>>=4,k-=4,w=(15&j)+8,0===c.wbits&&(c.wbits=w),w>15||w>c.wbits){a.msg="invalid window size",c.mode=16209;break}c.dmax=1<<c.wbits,c.flags=0,a.adler=c.check=1,c.mode=512&j?16189:16191,j=0,k=0;break;case 16181:for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(c.flags=j,(255&c.flags)!==gw){a.msg="unknown compression method",c.mode=16209;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=16209;break}c.head&&(c.head.text=j>>8&1),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,c.check=fb(c.check,B,2,0)),j=0,k=0,c.mode=16182;case 16182:for(;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.head&&(c.head.time=j),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,B[2]=j>>>16&255,B[3]=j>>>24&255,c.check=fb(c.check,B,4,0)),j=0,k=0,c.mode=16183;case 16183:for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.head&&(c.head.xflags=255&j,c.head.os=j>>8),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,c.check=fb(c.check,B,2,0)),j=0,k=0,c.mode=16184;case 16184:if(1024&c.flags){for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.length=j,c.head&&(c.head.extra_len=j),512&c.flags&&4&c.wrap&&(B[0]=255&j,B[1]=j>>>8&255,c.check=fb(c.check,B,2,0)),j=0,k=0}else c.head&&(c.head.extra=null);c.mode=16185;case 16185:if(1024&c.flags&&((n=c.length)>h&&(n=h),n&&(c.head&&(w=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Uint8Array(c.head.extra_len)),c.head.extra.set(d.subarray(f,f+n),w)),512&c.flags&&4&c.wrap&&(c.check=fb(c.check,d,n,f)),h-=n,f+=n,c.length-=n),c.length))break b;c.length=0,c.mode=16186;case 16186:if(2048&c.flags){if(0===h)break b;n=0;do w=d[f+n++],c.head&&w&&c.length<65536&&(c.head.name+=String.fromCharCode(w));while(w&&n<h)if(512&c.flags&&4&c.wrap&&(c.check=fb(c.check,d,n,f)),h-=n,f+=n,w)break b}else c.head&&(c.head.name=null);c.length=0,c.mode=16187;case 16187:if(4096&c.flags){if(0===h)break b;n=0;do w=d[f+n++],c.head&&w&&c.length<65536&&(c.head.comment+=String.fromCharCode(w));while(w&&n<h)if(512&c.flags&&4&c.wrap&&(c.check=fb(c.check,d,n,f)),h-=n,f+=n,w)break b}else c.head&&(c.head.comment=null);c.mode=16188;case 16188:if(512&c.flags){for(;k<16;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(4&c.wrap&&j!==(65535&c.check)){a.msg="header crc mismatch",c.mode=16209;break}j=0,k=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=16191;break;case 16189:for(;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}a.adler=c.check=gx(j),j=0,k=0,c.mode=16190;case 16190:if(0===c.havedict)return a.next_out=g,a.avail_out=i,a.next_in=f,a.avail_in=h,c.hold=j,c.bits=k,gr;a.adler=c.check=1,c.mode=16191;case 16191:if(b===gn||b===go)break b;case 16192:if(c.last){j>>>=7&k,k-=7&k,c.mode=16206;break}for(;k<3;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}switch(c.last=1&j,k-=1,3&(j>>>=1)){case 0:c.mode=16193;break;case 1:if(gC(c),c.mode=16199,b===go){j>>>=2,k-=2;break b}break;case 2:c.mode=16196;break;case 3:a.msg="invalid block type",c.mode=16209}j>>>=2,k-=2;break;case 16193:for(j>>>=7&k,k-=7&k;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if((65535&j)!=(j>>>16^65535)){a.msg="invalid stored block lengths",c.mode=16209;break}if(c.length=65535&j,j=0,k=0,c.mode=16194,b===go)break b;case 16194:c.mode=16195;case 16195:if(n=c.length){if(n>h&&(n=h),n>i&&(n=i),0===n)break b;e.set(d.subarray(f,f+n),g),h-=n,f+=n,i-=n,g+=n,c.length-=n;break}c.mode=16191;break;case 16196:for(;k<14;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(c.nlen=(31&j)+257,k-=5,c.ndist=(31&(j>>>=5))+1,k-=5,c.ncode=(15&(j>>>=5))+4,j>>>=4,k-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=16209;break}c.have=0,c.mode=16197;case 16197:for(;c.have<c.ncode;){for(;k<3;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.lens[C[c.have++]]=7&j,j>>>=3,k-=3}for(;c.have<19;)c.lens[C[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,y={bits:c.lenbits},x=gl(0,c.lens,0,19,c.lencode,0,c.work,y),c.lenbits=y.bits,x){a.msg="invalid code lengths set",c.mode=16209;break}c.have=0,c.mode=16198;case 16198:for(;c.have<c.nlen+c.ndist;){for(;q=(A=c.lencode[j&(1<<c.lenbits)-1])>>>24,r=A>>>16&255,s=65535&A,!(q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(s<16)j>>>=q,k-=q,c.lens[c.have++]=s;else{if(16===s){for(z=q+2;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(j>>>=q,k-=q,0===c.have){a.msg="invalid bit length repeat",c.mode=16209;break}w=c.lens[c.have-1],n=3+(3&j),j>>>=2,k-=2}else if(17===s){for(z=q+3;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=q,k-=q,w=0,n=3+(7&j),j>>>=3,k-=3}else{for(z=q+7;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=q,k-=q,w=0,n=11+(127&j),j>>>=7,k-=7}if(c.have+n>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=16209;break}for(;n--;)c.lens[c.have++]=w}}if(16209===c.mode)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=16209;break}if(c.lenbits=9,y={bits:c.lenbits},x=gl(1,c.lens,0,c.nlen,c.lencode,0,c.work,y),c.lenbits=y.bits,x){a.msg="invalid literal/lengths set",c.mode=16209;break}if(c.distbits=6,c.distcode=c.distdyn,y={bits:c.distbits},x=gl(2,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,y),c.distbits=y.bits,x){a.msg="invalid distances set",c.mode=16209;break}if(c.mode=16199,b===go)break b;case 16199:c.mode=16200;case 16200:if(h>=6&&i>=258){a.next_out=g,a.avail_out=i,a.next_in=f,a.avail_in=h,c.hold=j,c.bits=k,gg(a,m),g=a.next_out,e=a.output,i=a.avail_out,f=a.next_in,d=a.input,h=a.avail_in,j=c.hold,k=c.bits,16191===c.mode&&(c.back=-1);break}for(c.back=0;q=(A=c.lencode[j&(1<<c.lenbits)-1])>>>24,r=A>>>16&255,s=65535&A,!(q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(r&&(240&r)==0){for(t=q,u=r,v=s;q=(A=c.lencode[v+((j&(1<<t+u)-1)>>t)])>>>24,r=A>>>16&255,s=65535&A,!(t+q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=t,k-=t,c.back+=t}if(j>>>=q,k-=q,c.back+=q,c.length=s,0===r){c.mode=16205;break}if(32&r){c.back=-1,c.mode=16191;break}if(64&r){a.msg="invalid literal/length code",c.mode=16209;break}c.extra=15&r,c.mode=16201;case 16201:if(c.extra){for(z=c.extra;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.length+=j&(1<<c.extra)-1,j>>>=c.extra,k-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=16202;case 16202:for(;q=(A=c.distcode[j&(1<<c.distbits)-1])>>>24,r=A>>>16&255,s=65535&A,!(q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if((240&r)==0){for(t=q,u=r,v=s;q=(A=c.distcode[v+((j&(1<<t+u)-1)>>t)])>>>24,r=A>>>16&255,s=65535&A,!(t+q<=k);){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}j>>>=t,k-=t,c.back+=t}if(j>>>=q,k-=q,c.back+=q,64&r){a.msg="invalid distance code",c.mode=16209;break}c.offset=s,c.extra=15&r,c.mode=16203;case 16203:if(c.extra){for(z=c.extra;k<z;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}c.offset+=j&(1<<c.extra)-1,j>>>=c.extra,k-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=16209;break}c.mode=16204;case 16204:if(0===i)break b;if(n=m-i,c.offset>n){if((n=c.offset-n)>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=16209;break}n>c.wnext?(n-=c.wnext,o=c.wsize-n):o=c.wnext-n,n>c.length&&(n=c.length),p=c.window}else p=e,o=g-c.offset,n=c.length;n>i&&(n=i),i-=n,c.length-=n;do e[g++]=p[o++];while(--n)0===c.length&&(c.mode=16200);break;case 16205:if(0===i)break b;e[g++]=c.length,i--,c.mode=16200;break;case 16206:if(c.wrap){for(;k<32;){if(0===h)break b;h--,j|=d[f++]<<k,k+=8}if(m-=i,a.total_out+=m,c.total+=m,4&c.wrap&&m&&(a.adler=c.check=c.flags?fb(c.check,e,m,g-m):e9(c.check,e,m,g-m)),m=i,4&c.wrap&&(c.flags?j:gx(j))!==c.check){a.msg="incorrect data check",c.mode=16209;break}j=0,k=0}c.mode=16207;case 16207:if(c.wrap&&c.flags){for(;k<32;){if(0===h)break b;h--,j+=d[f++]<<k,k+=8}if(4&c.wrap&&j!==(0|c.total)){a.msg="incorrect length check",c.mode=16209;break}j=0,k=0}c.mode=16208;case 16208:x=gq;break b;case 16209:x=gt;break b;case 16210:return gu;default:return gs}return a.next_out=g,a.avail_out=i,a.next_in=f,a.avail_in=h,c.hold=j,c.bits=k,(c.wsize||m!==a.avail_out&&c.mode<16209&&(c.mode<16206||b!==gm))&&gD(a,a.output,a.next_out,m-a.avail_out),l-=a.avail_in,m-=a.avail_out,a.total_in+=l,a.total_out+=m,c.total+=m,4&c.wrap&&m&&(a.adler=c.check=c.flags?fb(c.check,e,m,a.next_out-m):e9(c.check,e,m,a.next_out-m)),a.data_type=c.bits+64*!!c.last+128*(16191===c.mode)+256*(16199===c.mode||16194===c.mode),(0===l&&0===m||b===gm)&&x===gp&&(x=gv),x},gF=a=>{if(gz(a))return gs;let b=a.state;return b.window&&(b.window=null),a.state=null,gp},gG=(a,b)=>{let c,d=b.length;return gz(a)||0!==(c=a.state).wrap&&16190!==c.mode?gs:16190===c.mode&&e9(1,b,d,0)!==c.check?gt:gD(a,b,d,d)?(c.mode=16210,gu):(c.havedict=1,gp)},gH=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let gI=Object.prototype.toString,{Z_NO_FLUSH:gJ,Z_FINISH:gK,Z_OK:gL,Z_STREAM_END:gM,Z_NEED_DICT:gN,Z_STREAM_ERROR:gO,Z_DATA_ERROR:gP,Z_MEM_ERROR:gQ}=fd;function gR(a){this.options=fY({chunkSize:65536,windowBits:15,to:""},a||{});let b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),b.windowBits>=0&&b.windowBits<16&&!(a&&a.windowBits)&&(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f3,this.strm.avail_out=0;let c=((a,b)=>{if(!a)return gs;let c=new gy;a.state=c,c.strm=a,c.window=null,c.mode=16180;let d=((a,b)=>{let c;if(gz(a))return gs;let d=a.state;return(b<0?(c=0,b=-b):(c=(b>>4)+5,b<48&&(b&=15)),b&&(b<8||b>15))?gs:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,gA(a))})(a,b);return d!==gp&&(a.state=null),d})(this.strm,b.windowBits);if(c!==gL||(this.header=new gH,((a,b)=>{if(gz(a))return;let c=a.state;return(2&c.wrap)==0||(c.head=b,b.done=!1)})(this.strm,this.header),b.dictionary&&("string"==typeof b.dictionary?b.dictionary=f0(b.dictionary):"[object ArrayBuffer]"===gI.call(b.dictionary)&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw)&&(c=gG(this.strm,b.dictionary))!==gL))throw Error(fc[c])}function gS(a,b){let c=new gR(b);if(c.push(a),c.err)throw c.msg||fc[c.err];return c.result}gR.prototype.push=function(a,b){let c,d,e,f=this.strm,g=this.options.chunkSize,h=this.options.dictionary;if(this.ended)return!1;for(d=b===~~b?b:!0===b?gK:gJ,"[object ArrayBuffer]"===gI.call(a)?f.input=new Uint8Array(a):f.input=a,f.next_in=0,f.avail_in=f.input.length;;){for(0===f.avail_out&&(f.output=new Uint8Array(g),f.next_out=0,f.avail_out=g),(c=gE(f,d))===gN&&h&&((c=gG(f,h))===gL?c=gE(f,d):c===gP&&(c=gN));f.avail_in>0&&c===gM&&f.state.wrap>0&&0!==a[f.next_in];)gA(f),c=gE(f,d);switch(c){case gO:case gP:case gN:case gQ:return this.onEnd(c),this.ended=!0,!1}if(e=f.avail_out,f.next_out&&(0===f.avail_out||c===gM))if("string"===this.options.to){let a=f2(f.output,f.next_out),b=f.next_out-a,c=f1(f.output,a);f.next_out=b,f.avail_out=g-b,b&&f.output.set(f.output.subarray(a,a+b),0),this.onData(c)}else this.onData(f.output.length===f.next_out?f.output:f.output.subarray(0,f.next_out));if(c!==gL||0!==e){if(c===gM)return c=gF(this.strm),this.onEnd(c),this.ended=!0,!0;if(0===f.avail_in)break}}return!0},gR.prototype.onData=function(a){this.chunks.push(a)},gR.prototype.onEnd=function(a){a===gL&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=fZ(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};let{Deflate:gT,deflate:gU,deflateRaw:gV,gzip:gW}={Deflate:ge,deflate:gf,deflateRaw:function(a,b){return(b=b||{}).raw=!0,gf(a,b)},gzip:function(a,b){return(b=b||{}).gzip=!0,gf(a,b)},constants:fd},{Inflate:gX,inflate:gY,inflateRaw:gZ,ungzip:g$}={Inflate:gR,inflate:gS,inflateRaw:function(a,b){return(b=b||{}).raw=!0,gS(a,b)},ungzip:gS,constants:fd},g_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),g0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),g1=BigInt(1),g2=BigInt(2),g3=(a,b)=>(a+b/g2)/b,g4=dk(g_,void 0,void 0,{sqrt:function(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),f=BigInt(23),g=BigInt(44),h=BigInt(88),i=a*a*a%g_,j=i*i*a%g_,k=de(j,b,g_)*j%g_,l=de(k,b,g_)*j%g_,m=de(l,g2,g_)*i%g_,n=de(m,d,g_)*m%g_,o=de(n,e,g_)*n%g_,p=de(o,g,g_)*o%g_,q=de(p,h,g_)*p%g_,r=de(q,g,g_)*o%g_,s=de(r,b,g_)*j%g_,t=de(s,f,g_)*n%g_,u=de(t,c,g_)*i%g_,v=de(u,g2,g_);if(!g4.eql(g4.sqr(v),a))throw Error("Cannot find square root");return v}}),g5=(n={a:BigInt(0),b:BigInt(7),Fp:g4,n:g0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-g1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),f=g3(b*a,g0),g=g3(-c*a,g0),h=dd(a-f*b-g*d,g0),i=dd(-f*c-g*b,g0),j=h>e,k=i>e;if(j&&(h=g0-h),k&&(i=g0-i),h>e||i>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:j,k1:h,k2neg:k,k2:i}}}},Object.freeze({...(i=a=>dL({...n,...dQ(a)}))(cP),create:i})),g6=(BigInt(0),{});g5.ProjectivePoint;let g7=(j=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a))).map(a=>Array.from(a).reverse()),(a,b)=>{let[c,d,e,f]=j.map(b=>b.reduce((b,c)=>g4.add(g4.mul(b,a),c)));return a=g4.div(c,d),b=g4.mul(b,g4.div(e,f)),{x:a,y:b}}),g8=dN(g4,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g4.create(BigInt("-11"))});!function(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined")}(g5.ProjectivePoint,a=>{let{x:b,y:c}=g8(g4.create(a[0]));return g7(b,c)},g4.ORDER);let g9=(a,b,c=[])=>{let d=Object.getOwnPropertyDescriptors(b);for(let a of c)delete d[a];Object.defineProperties(a,d)},ha=(a,b=[a])=>{let c=Object.getPrototypeOf(a);return null===c?b:ha(c,[...b,c])},hb=(a,b,c=[])=>{var d;let e=null!=(d=((...a)=>{let b;if(0===a.length)return;let c=a.map(a=>ha(a));for(;c.every(a=>a.length>0);){let a=c.map(a=>a.pop()),d=a[0];if(a.every(a=>a===d))b=d;else break}return b})(...a))?d:Object.prototype,f=Object.create(e),g=ha(e);for(let b of a){let a=ha(b);for(let b=a.length-1;b>=0;b--){let d=a[b];-1===g.indexOf(d)&&(g9(f,d,["constructor",...c]),g.push(d))}}return f.constructor=b,f},hc=a=>a.filter((b,c)=>a.indexOf(b)==c),hd=(a,b)=>{let c=b.map(a=>ha(a)),d=0,e=!0;for(;e;){e=!1;for(let f=b.length-1;f>=0;f--){let b=c[f][d];if(null!=b&&(e=!0,void 0!=Object.getOwnPropertyDescriptor(b,a)))return c[f][0]}d++}},he=(a,b=Object.prototype)=>new Proxy({},{getPrototypeOf:()=>b,setPrototypeOf(){throw Error("Cannot set prototype of Proxies created by ts-mixer")},getOwnPropertyDescriptor:(b,c)=>Object.getOwnPropertyDescriptor(hd(c,a)||{},c),defineProperty(){throw Error("Cannot define new properties on Proxies created by ts-mixer")},has:(c,d)=>void 0!==hd(d,a)||void 0!==b[d],get:(c,d)=>(hd(d,a)||b)[d],set(b,c,d){let e=hd(c,a);if(void 0===e)throw Error("Cannot set new properties on Proxies created by ts-mixer");return e[c]=d,!0},deleteProperty(){throw Error("Cannot delete properties on Proxies created by ts-mixer")},ownKeys:()=>a.map(Object.getOwnPropertyNames).reduce((a,b)=>b.concat(a.filter(a=>0>b.indexOf(a))))}),hf=new WeakMap,hg=a=>hf.get(a),hh=(a,b)=>{var c,d;let e=hc([...Object.getOwnPropertyNames(a),...Object.getOwnPropertyNames(b)]),f={};for(let g of e)f[g]=hc([...null!=(c=null==a?void 0:a[g])?c:[],...null!=(d=null==b?void 0:b[g])?d:[]]);return f},hi=(a,b)=>{var c,d,e,f;return{property:hh(null!=(c=null==a?void 0:a.property)?c:{},null!=(d=null==b?void 0:b.property)?d:{}),method:hh(null!=(e=null==a?void 0:a.method)?e:{},null!=(f=null==b?void 0:b.method)?f:{})}},hj=(a,b)=>{var c,d,e,f,g,h;return{class:hc([...null!=(c=null==a?void 0:a.class)?c:[],...null!=(d=null==b?void 0:b.class)?d:[]]),static:hi(null!=(e=null==a?void 0:a.static)?e:{},null!=(f=null==b?void 0:b.static)?f:{}),instance:hi(null!=(g=null==a?void 0:a.instance)?g:{},null!=(h=null==b?void 0:b.instance)?h:{})}},hk=new Map;function hl(...a){var b,c,d;let e,f=a.map(a=>a.prototype);!1;function g(...b){for(let c of a)g9(this,new c(...b))}g.prototype=hb(f,g),Object.setPrototypeOf(g,hb(a,null,["prototype"]));let h=g;!0;{let e=((...a)=>{let b=((...a)=>{var b;let c=new Set,d=new Set([...a]);for(;d.size>0;)for(let a of d){for(let e of[...ha(a.prototype).map(a=>a.constructor),...null!=(b=hg(a))?b:[]].filter(a=>!c.has(a)))d.add(e);c.add(a),d.delete(a)}return[...c]})(...a).map(a=>hk.get(a)).filter(a=>!!a);return 0==b.length?{}:1==b.length?b[0]:b.reduce((a,b)=>hj(a,b))})(...a);for(let a of null!=(b=null==e?void 0:e.class)?b:[]){let b=a(h);b&&(h=b)}hm(null!=(c=null==e?void 0:e.static)?c:{},h),hm(null!=(d=null==e?void 0:e.instance)?d:{},h.prototype)}return e=h,hf.set(e,a),h}let hm=(a,b)=>{let c=a.property,d=a.method;if(c)for(let a in c)for(let d of c[a])d(b,a);if(d)for(let a in d)for(let c of d[a])c(b,a,Object.getOwnPropertyDescriptor(b,a))};var hn=Object.defineProperty,ho=Object.getOwnPropertyDescriptor,hp=Object.getOwnPropertyNames,hq=Object.prototype.hasOwnProperty,hr=(a,b)=>{for(var c in b)hn(a,c,{get:b[c],enumerable:!0})},hs=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of hp(b))hq.call(a,e)||e===c||hn(a,e,{get:()=>b[e],enumerable:!(d=ho(b,e))||d.enumerable});return a},ht=(a,b,c)=>(hs(a,b,"default"),c&&hs(c,b,"default")),hu={};hr(hu,{ADDR_BOUND:()=>h$,API_VERSION:()=>hX,BaseUrl:()=>ik,DEFAULT_GLOBAL_CONFIG:()=>iq,HARDENING_4BYTES:()=>ij,HARDENING_BYTE:()=>ii,IS_BROWSER:()=>hy,LegacyUDC:()=>ic,MASK_250:()=>hV,MASK_31:()=>hW,MAX_STORAGE_ITEM_SIZE:()=>hZ,NetworkName:()=>il,OutsideExecutionCallerAny:()=>ie,PAYMASTER_RPC_NODES:()=>is,PRIME:()=>hY,RANGE_FELT:()=>h0,RANGE_I128:()=>ib,RANGE_I16:()=>h8,RANGE_I32:()=>h9,RANGE_I64:()=>ia,RANGE_I8:()=>h7,RANGE_U128:()=>h6,RANGE_U16:()=>h2,RANGE_U32:()=>h3,RANGE_U64:()=>h4,RANGE_U8:()=>h1,RANGE_U96:()=>h5,RPC_DEFAULT_NODES:()=>ir,SNIP9_V1_INTERFACE_ID:()=>ig,SNIP9_V2_INTERFACE_ID:()=>ih,SN_VERSION_IMPLEMENTING_BLAKE_FOR_COMPILED_CLASS:()=>iu,SYSTEM_MESSAGES:()=>it,StarknetChainId:()=>im,SupportedRpcVersion:()=>ip,TEXT_TO_FELT_MAX_LEN:()=>hT,TransactionHashPrefix:()=>io,UDC:()=>id,ZERO:()=>hU});var hv={};hr(hv,{JRPC:()=>hw,PAYMASTER_API:()=>$,RPCSPEC08:()=>_,RPCSPEC09:()=>aP});var hw={},hx={};ht(hx,aP),ht(hv,hx),hr({},{IS_BROWSER:()=>hy,addHexPrefix:()=>hH,arrayBufferToString:()=>hz,atobUniversal:()=>hD,bigIntToUint8Array:()=>hR,btoaUniversal:()=>hE,buf2hex:()=>hF,calcByteLength:()=>hJ,concatenateArrayBuffer:()=>hN,hexStringToUint8Array:()=>hO,padLeft:()=>hI,pascalToSnake:()=>hM,removeHexPrefix:()=>hG,sanitizeBytes:()=>hK,sanitizeHex:()=>hL,stringToUint8Array:()=>hQ,uint8ArrayToBigInt:()=>hS,utf8ToArray:()=>hB,utf8ToBigInt:()=>hC,utf8ToUint8Array:()=>hA});var hy=!1;function hz(a){return new Uint8Array(a).reduce((a,b)=>a+String.fromCharCode(b),"")}function hA(a){return new TextEncoder().encode(a)}var hB=hA;function hC(a){return hS(hA(a))}function hD(a){return a4.decode(a)}function hE(a){return a4.encode(new Uint8Array(a))}function hF(a){return a.reduce((a,b)=>a+b.toString(16).padStart(2,"0"),"")}function hG(a){return a.startsWith("0x")||a.startsWith("0X")?a.slice(2):a}function hH(a){return`0x${hG(a)}`}function hI(a,b,c="0"){return function(a,b,c,d="0"){let e=b-a.length,f=a;if(e>0){let b=d.repeat(e);f=c?b+a:a+b}return f}(a,b,!0,c)}function hJ(a,b=8){let{length:c}=a,d=c%b;return d?(c-d)/b*b+b:c}function hK(a,b=8,c="0"){return hI(a,hJ(a,b),c)}function hL(a){let b=hK(hG(a),2);return b?hH(b):b}var hM=a=>/[a-z]/.test(a)?a.split(/(?=[A-Z])/).join("_").toUpperCase():a;function hN(a){let b=new Uint8Array(a.reduce((a,b)=>a+b.byteLength,0)),c=0;return a.forEach(a=>{b.set(a,c),c+=a.byteLength}),b}function hO(a){if(!hP(hH(a)))throw Error(`Invalid hex string: "${a}"`);let b=hG(hL(a)),c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=parseInt(b.substring(a,a+2),16);return c}function hP(a){return/^0[xX][0-9a-fA-F]*$/.test(a)}function hQ(a){return hP(a)?hO(a):/^[0-9]+$/.test(a)?hR(BigInt(a)):hA(a)}function hR(a){if(a<0n)throw Error(`Cannot convert negative bigint ${a} to Uint8Array`);if(0n===a)return new Uint8Array([0]);let b=a.toString(16);b.length%2!=0&&(b=`0${b}`);let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=parseInt(b.substring(a,a+2),16);return c}function hS(a){if(!a||0===a.length)return 0n;let b="0x";for(let c=0;c<a.length;c+=1)b+=a[c].toString(16).padStart(2,"0");return BigInt(b)}var hT=31,hU=0n,hV=2n**250n-1n,hW=2n**31n-1n,hX=hU,hY=2n**251n+17n*2n**192n+1n,hZ=256n,h$=2n**251n-hZ,h_=(a,b)=>({min:a,max:b}),h0=h_(hU,hY-1n),h1=h_(hU,2n**8n-1n),h2=h_(hU,2n**16n-1n),h3=h_(hU,2n**32n-1n),h4=h_(hU,2n**64n-1n),h5=h_(hU,2n**96n-1n),h6=h_(hU,2n**128n-1n),h7=h_(-(2n**7n),2n**7n-1n),h8=h_(-(2n**15n),2n**15n-1n),h9=h_(-(2n**31n),2n**31n-1n),ia=h_(-(2n**63n),2n**63n-1n),ib=h_(-(2n**127n),2n**127n-1n),ic={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},id={ADDRESS:"0x02ceed65a4bd731034c01113685c831b01c15d7d432f71afb1cf1634b53a2125",ENTRYPOINT:"deploy_contract"},ie="0x414e595f43414c4c4552",ig="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181",ih="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872",ii=128,ij=2147483648n,ik={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"},il={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"},im={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"},io={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"},ip={"0.8.1":"0.8.1","0.9.0":"0.9.0",v0_8_1:"0.8.1",v0_9_0:"0.9.0"},iq={rpcVersion:"0.9.0",transactionVersion:hv.ETransactionVersion.V3,logLevel:"INFO",resourceBoundsOverhead:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},defaultTipType:"recommendedTip",fetch:void 0,websocket:void 0,buffer:void 0,blake:void 0},ir={SN_MAIN:["https://api.zan.top/public/starknet-mainnet/rpc/"],SN_SEPOLIA:["https://api.zan.top/public/starknet-sepolia/rpc/"]},is={SN_MAIN:["https://starknet.paymaster.avnu.fi"],SN_SEPOLIA:["https://sepolia.paymaster.avnu.fi"]},it={legacyTxWarningMessage:"You are using a deprecated transaction version (V0,V1,V2)!\nUpdate to the latest V3 transactions!",legacyTxRPC08Message:"RPC 0.8+ do not support legacy transactions, use RPC 0.8+ v3 transactions!",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8+",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library",maxFeeInV3:"maxFee is not supported in V3 transactions, use resourceBounds instead",declareNonSierra:"Declaring non Sierra (Cairo0)contract using RPC 0.8+",unsupportedMethodForRpcVersion:"Unsupported method for RPC version",txEvictedFromMempool:"Transaction TTL, evicted from the mempool, try to increase the tip",consensusFailed:"Consensus failed to finalize the block proposal",txFailsBlockBuildingValidation:"Transaction fails block building validation"},iu="0.14.1",iv=(class a{static instance;config;constructor(){this.initialize()}initialize(){this.config={...iq}}static getInstance(){return a.instance||(a.instance=new a),a.instance}get(a,b){return this.config[a]??b}set(a,b){this.config[a]=b}update(a){this.config={...this.config,...a}}getAll(){return{...this.config}}reset(){this.initialize()}delete(a){delete this.config[a]}hasKey(a){return a in this.config}}).getInstance(),iw={DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,OFF:0},ix=(class a{static instance;config;constructor(){this.config=iv}static getInstance(){return a.instance||(a.instance=new a),a.instance}getTimestamp(){return new Date().toISOString()}shouldLog(a){return a<=iw[this.config.get("logLevel","INFO")]}formatMessage(a){let{level:b,message:c,timestamp:d,data:e}=a,f=`[${d}] ${b}: ${c}`;if(e)try{f+=`
${JSON.stringify(e,null,2)}`}catch(a){f+=`
[JSON.stringify Error/Circular]: ${a}`}return f}log(a,b,c){if(!this.shouldLog(iw[a]))return;let d={level:a,message:b,timestamp:this.getTimestamp(),data:c},e=this.formatMessage(d);switch(a){case"DEBUG":console.debug(e);break;case"INFO":console.info(e);break;case"WARN":console.warn(e);break;case"ERROR":case"FATAL":console.error(e);break;case"OFF":break;default:console.log(e)}}debug(a,b){this.log("DEBUG",a,b)}info(a,b){this.log("INFO",a,b)}warn(a,b){this.log("WARN",a,b)}error(a,b){this.log("ERROR",a,b)}fatal(a,b){this.log("FATAL",a,b)}setLogLevel(a){this.config.set("logLevel",a)}getLogLevel(){return this.config.get("logLevel","INFO")}getEnabledLogLevels(){return Object.keys(iw).filter(a=>this.shouldLog(iw[a])&&"OFF"!==a)}}).getInstance(),iy={};hr(iy,{RpcChannel:()=>ms});var{ETransactionVersion:iz}=aP,{ETransactionVersion2:iA}=aP,{ETransactionVersion3:iB}=aP,{EDataAvailabilityMode:iC}=_,{EDAMode:iD}=_;function iE(a){return"l1_data_gas"in a}var{ETransactionStatus:iF}=_,{ETransactionExecutionStatus:iG}=_,{ETransactionType:iH}=aP,{EBlockStatus:iI}=aP,{ETransactionFinalityStatus:iJ}=aP,{ETransactionExecutionStatus:iK}=aP,{EBlockTag:iL}=aP,iM="DEPLOY",iN="INVOKE",iO={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u96:"core::integer::u96",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"},iP={i8:"core::integer::i8",i16:"core::integer::i16",i32:"core::integer::i32",i64:"core::integer::i64",i128:"core::integer::i128"},iQ={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"};function iR(a){return"execute"in a}var iS={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]},iT={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]};hr({},{parse:()=>iV,parseAlwaysAsBig:()=>iW,stringify:()=>iX});var iU=a=>{if(!a7(a))return parseFloat(a);let b=parseInt(a,10);return Number.isSafeInteger(b)?b:BigInt(a)},iV=a=>bp(String(a),void 0,iU),iW=a=>bp(String(a),void 0,bo),iX=(a,b,c,d)=>bU(a,b,c,d),iY=class{nodeUrl;headers;interval;requestId=0;pendingRequests={};batchPromises={};delayTimer;delayPromise;delayPromiseResolve;baseFetch;rpcMethods;constructor(a){this.nodeUrl=a.nodeUrl,this.headers=a.headers,this.interval=a.interval,this.baseFetch=a.baseFetch,this.rpcMethods=a.rpcMethods}async wait(){return this.delayPromise&&this.delayPromiseResolve||(this.delayPromise=new Promise(a=>{this.delayPromiseResolve=a})),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0),this.delayTimer=setTimeout(()=>{this.delayPromiseResolve&&(this.delayPromiseResolve(),this.delayPromise=void 0,this.delayPromiseResolve=void 0)},this.interval),this.delayPromise}addPendingRequest(a,b,c){let d={id:c??`batched_${this.requestId+=1}`,jsonrpc:"2.0",method:a.description||String(a),params:b??void 0};return this.pendingRequests[d.id]=d,d.id}async sendBatch(a){return(await this.baseFetch(this.nodeUrl,{method:"POST",body:iX(a),headers:this.headers})).json()}async fetch(a,b,c){let d=this.addPendingRequest(a,b,c);await this.wait();let e=this.pendingRequests;if(this.pendingRequests={},!this.batchPromises[d]){let a=this.sendBatch(Object.values(e));Object.keys(e).forEach(b=>{this.batchPromises[b]=a})}let f=await this.batchPromises[d];delete this.batchPromises[d];let g=f.find(a=>a.id===d);if(!g)throw Error(`Couldn't find the result for the request. Method: ${String(a)}`);return g}};function iZ(a,b){if(!a)throw Error(b||"Assertion failure")}var i$={};hr(i$,{addPercent:()=>jp,assertInRange:()=>jg,bigNumberishArrayToDecimalStringArray:()=>jh,bigNumberishArrayToHexadecimalStringArray:()=>ji,cleanHex:()=>jc,getDecimalString:()=>jk,getHexString:()=>jl,getHexStringArray:()=>jm,getNext:()=>js,hexToBytes:()=>jo,hexToDecimalString:()=>jf,isBigNumberish:()=>jr,isHex:()=>i6,isHexString:()=>i7,isStringWholeNumber:()=>jj,stringToSha256ToArrayBuff4:()=>jq,toBigInt:()=>i8,toCairoBool:()=>jn,toHex:()=>ja,toHex64:()=>je,toHexString:()=>jb,toStorageKey:()=>jd,tryToBigInt:()=>i9});var i_=a=>void 0===a||void 0===a;function i0(a){return"number"==typeof a}function i1(a){return"boolean"==typeof a}function i2(a){return"bigint"==typeof a}function i3(a){return"string"==typeof a}function i4(a){return"u">typeof Buffer&&a instanceof Buffer}function i5(a){return!!a&&"object"==typeof a&&!Array.isArray(a)}function i6(a){return/^0[xX][0-9a-fA-F]*$/.test(a)}var i7=i6;function i8(a){return BigInt(a)}function i9(a){return a?BigInt(a):void 0}function ja(a){return hH(i8(a).toString(16))}var jb=ja;function jc(a){return ja(a)}function jd(a){return hH(i8(a).toString(16).padStart(64,"0"))}function je(a){let b=hH(i8(a).toString(16).padStart(64,"0"));if(66!==b.length)throw TypeError("number is too big for hex 0x(64) representation");return b}function jf(a){return BigInt(hH(a)).toString(10)}function jg(a,b,c,d=""){let e=""===d?"invalid length":`invalid ${d} length`,f=BigInt(a),g=BigInt(b),h=BigInt(c);iZ(f>=g&&f<=h,`Message not signable, ${e}.`)}function jh(a){return a.map(a=>i8(a).toString(10))}function ji(a){return a.map(a=>ja(a))}function jj(a){return/^\d+$/.test(a)}function jk(a){if(i6(a))return jf(a);if(jj(a))return a;throw Error(`${a} needs to be a hex-string or whole-number-string`)}function jl(a){if(i6(a))return a;if(jj(a))return jb(a);throw Error(`${a} needs to be a hex-string or whole-number-string`)}function jm(a){return a.map(jl)}function jn(a){return(+a).toString()}function jo(a){if(!i6(a))throw Error(`${a} needs to be a hex-string`);let b=hG(a);return b.length%2!=0&&(b=`0${b}`),b4(b)}function jp(a,b){let c=BigInt(a);return c+c*BigInt(b)/100n}function jq(a){return jo(ja(Number(BigInt(hH(hF(cP(a))))&hW)))}function jr(a){return i0(a)||i2(a)||i3(a)&&(i6(a)||jj(a))}function js(a){let b=a.next();if(b.done)throw Error("Unexpected end of response");return b.value}function jt(a){let b=hG(ja(BigInt(a)));return hH(ek(jo(hH(b.length%2==0?b:`0${b}`))).toString(16))}function ju(a){return BigInt(hH(ek(hB(a)).toString(16)))&hV}function jv(a){return ja(ju(a))}function jw(a){return i0(a)||i2(a)?ja(a):i6(a)?a:jj(a)?ja(a):jv(a)}function jx(a){let b=hH(a.reduce((a,b)=>a+hG(ja(b)).padStart(64,"0"),""));return hH(b0(c5(jo(b))))}function jy(a,b,c,d,e){return jx([a,b,e,c,d.length,...d])}function jz(a,b,c){return jx([a,b,c.length,...c])}hr({},{getL1MessageHash:()=>jz,getL2MessageHash:()=>jy,getSelector:()=>jw,getSelectorFromName:()=>jv,keccakBn:()=>jt,solidityUint256PackedKeccak256:()=>jx,starknetKeccak:()=>ju});var jA={};function jB(a){return/^[\x00-\x7F]*$/.test(a)}function jC(a){return a.length<=hT}function jD(a){return/^[0-9]*$/i.test(a)}function jE(a){return i3(a)&&!i6(a)&&!jj(a)}hr(jA,{decodeShortString:()=>jJ,encodeShortString:()=>jI,isASCII:()=>jB,isDecimalString:()=>jD,isLongText:()=>jG,isShortString:()=>jC,isShortText:()=>jF,isText:()=>jE,splitLongString:()=>jH});var jF=a=>jE(a)&&jC(a),jG=a=>jE(a)&&!jC(a);function jH(a){let b=RegExp(`[^]{1,${hT}}`,"g");return a.match(b)||[]}function jI(a){if(!jB(a))throw Error(`${a} is not an ASCII string`);if(!jC(a))throw Error(`${a} is too long`);return hH(a.replace(/./g,a=>a.charCodeAt(0).toString(16)))}function jJ(a){if(!jB(a))throw Error(`${a} is not an ASCII string`);if(i6(a))return hG(a).replace(/.{2}/g,a=>String.fromCharCode(parseInt(a,16)));if(jD(a))return jJ("0X".concat(BigInt(a).toString(16)));throw Error(`${a} is not Hex or decimal`)}function jK(a){let b=0n===BigInt(a.pending_word)?"":jJ(ja(a.pending_word));return a.data.reduce((a,b)=>a+(0n===BigInt(b)?"":jJ(ja(b))),"")+b}function jL(a){let b=jH(a),c=b[b.length-1],d=b.map(jI),[e,f]=void 0===c||31===c.length?["0x00",0]:[d.pop(),c.length];return{data:0===d.length?[]:d,pending_word:e,pending_word_len:f}}hr({},{byteArrayFromString:()=>jL,stringFromByteArray:()=>jK});var jM={};function jN(a){return Object.defineProperty(a,"__compiled__",{enumerable:!1,writable:!1,value:!0}),a}function jO(a){if(i2(a)||Number.isInteger(a))return a.toString();if(i3(a)){if(i6(a))return BigInt(a).toString();if(jE(a)){if(!jC(a))throw Error(`${a} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt(jI(a)).toString()}if(jj(a))return a}if(i1(a))return`${+a}`;throw Error(`${a} can't be computed by felt()`)}hr(jM,{felt:()=>kj,getAbiContractVersion:()=>kf,getArrayType:()=>kc,isCairo1Abi:()=>kd,isCairo1Type:()=>kb,isLen:()=>jV,isTypeArray:()=>jX,isTypeBool:()=>j6,isTypeContractAddress:()=>j7,isTypeEnum:()=>j_,isTypeEthAddress:()=>j8,isTypeFelt:()=>jW,isTypeInt:()=>j3,isTypeLiteral:()=>j5,isTypeNamedTuple:()=>jZ,isTypeNonZero:()=>ke,isTypeOption:()=>j0,isTypeResult:()=>j1,isTypeSecp256k1Point:()=>ka,isTypeStruct:()=>j$,isTypeTuple:()=>jY,isTypeU96:()=>j9,isTypeUint:()=>j2,isTypeUint256:()=>j4,tuple:()=>ki,uint256:()=>kg,uint512:()=>kh});var jP=class a{data;static abiSelector="core::felt252";constructor(b){a.validate(b);const c=a.__processData(b);this.data=c.subarray(c.findIndex(a=>a>0))}static __processData(a){if(i3(a))return hQ(a);if(i2(a))return hR(a);if(Number.isInteger(a))return hR(BigInt(a));if(i1(a))return hR(BigInt(+!!a));throw Error(`${a} can't be computed by felt()`)}toBigInt(){return hS(this.data)}decodeUtf8(){return new TextDecoder().decode(this.data)}toHexString(){return hH(this.toBigInt().toString(16))}toApiRequest(){return jN([this.toHexString()])}static validate(b){iZ(null!==b,"null value is not allowed for felt252"),iZ(void 0!==b,"undefined value is not allowed for felt252"),iZ(i3(b)||i0(b)||i2(b)||i1(b),`Unsupported data type '${typeof b}' for felt252. Expected string, number, bigint, or boolean`);let c=a.__processData(b),d=hS(c);iZ(d>=0n&&d<hY,`Value ${c} is out of felt252 range [0, ${hY})`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},jQ=(1n<<128n)-1n,jR=(1n<<256n)-1n,jS=class a{low;high;static abiSelector="core::integer::u256";constructor(...b){if(i5(b[0])&&1===b.length&&"low"in b[0]&&"high"in b[0]){const c=a.validateProps(b[0].low,b[0].high);this.low=c.low,this.high=c.high}else if(1===b.length){const c=a.validate(b[0]);this.low=c&jQ,this.high=c>>128n}else if(2===b.length){const c=a.validateProps(b[0],b[1]);this.low=c.low,this.high=c.high}else throw Error("Incorrect constructor parameters")}static validate(a){iZ(null!==a,"null value is not allowed for u256"),iZ(void 0!==a,"undefined value is not allowed for u256"),iZ(jr(a)||i5(a),`Unsupported data type '${typeof a}' for u256. Expected string, number, bigint, or Uint256 object`);let b=BigInt(a);return iZ(b>=0n,"bigNumberish is smaller than UINT_256_MIN"),iZ(b<=jR,"bigNumberish is bigger than UINT_256_MAX"),b}static validateProps(a,b){let c=BigInt(a),d=BigInt(b);return iZ(c>=0n&&c<=0xffffffffffffffffffffffffffffffffn,"low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX"),iZ(d>=0n&&d<=0xffffffffffffffffffffffffffffffffn,"high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX"),{low:c,high:d}}static is(b){try{a.validate(b)}catch(a){return!1}return!0}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b),js(b))}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:hH(this.low.toString(16)),high:hH(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[jO(this.low),jO(this.high)]}},jT=(1n<<512n)-1n,jU=class a{limb0;limb1;limb2;limb3;static abiSelector="core::integer::u512";constructor(...b){if(i5(b[0])&&1===b.length&&"limb0"in b[0]&&"limb1"in b[0]&&"limb2"in b[0]&&"limb3"in b[0]){const c=a.validateProps(b[0].limb0,b[0].limb1,b[0].limb2,b[0].limb3);this.limb0=c.limb0,this.limb1=c.limb1,this.limb2=c.limb2,this.limb3=c.limb3}else if(1===b.length){const c=a.validate(b[0]);this.limb0=c&jQ,this.limb1=(c&jQ<<128n)>>128n,this.limb2=(c&jQ<<256n)>>256n,this.limb3=c>>384n}else if(4===b.length){const c=a.validateProps(b[0],b[1],b[2],b[3]);this.limb0=c.limb0,this.limb1=c.limb1,this.limb2=c.limb2,this.limb3=c.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(a){iZ(null!==a,"null value is not allowed for u512"),iZ(void 0!==a,"undefined value is not allowed for u512"),iZ(jr(a)||i5(a),`Unsupported data type '${typeof a}' for u512. Expected string, number, bigint, or Uint512 object`);let b=BigInt(a);return iZ(b>=0n,"bigNumberish is smaller than UINT_512_MIN."),iZ(b<=jT,"bigNumberish is bigger than UINT_512_MAX."),b}static validateProps(a,b,c,d){let e=BigInt(a),f=BigInt(b),g=BigInt(c),h=BigInt(d);return[e,f,g,h].forEach((a,b)=>{iZ(a>=0n&&a<=jQ,`limb${b} is not in the range of a u128 number`)}),{limb0:e,limb1:f,limb2:g,limb3:h}}static is(b){try{a.validate(b)}catch(a){return!1}return!0}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b),js(b),js(b),js(b))}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:hH(this.limb0.toString(16)),limb1:hH(this.limb1.toString(16)),limb2:hH(this.limb2.toString(16)),limb3:hH(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[jO(this.limb0),jO(this.limb1),jO(this.limb2),jO(this.limb3)]}},jV=a=>/_len$/.test(a),jW=a=>"felt"===a||"core::felt252"===a,jX=a=>/\*/.test(a)||a.startsWith("core::array::Array::")||a.startsWith("core::array::Span::"),jY=a=>/^\(.*\)$/i.test(a),jZ=a=>/\(.*\)/i.test(a)&&a.includes(":"),j$=(a,b)=>a in b,j_=(a,b)=>a in b,j0=a=>a.startsWith("core::option::Option::"),j1=a=>a.startsWith("core::result::Result::"),j2=a=>Object.values(iO).includes(a),j3=a=>Object.values(iP).includes(a),j4=a=>jS.isAbiType(a),j5=a=>Object.values(iQ).includes(a),j6=a=>"core::bool"===a,j7=a=>a===iQ.ContractAddress,j8=a=>"core::starknet::eth_address::EthAddress"===a,j9=a=>"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"===a,ka=a=>a===iQ.Secp256k1Point,kb=a=>a.includes("::"),kc=a=>kb(a)?a.substring(a.indexOf("<")+1,a.lastIndexOf(">")):a.replace("*","");function kd(a){let{cairo:b}=kf(a);if(void 0===b)throw Error("Unable to determine Cairo version");return"1"===b}function ke(a){return a.startsWith("core::zeroable::NonZero::")}function kf(a){if(a.find(a=>"interface"===a.type))return{cairo:"1",compiler:"2"};let b=a.find(a=>("function"===a.type||"constructor"===a.type)&&(a.inputs.length||a.outputs.length));return b?kb((b.inputs.length?b.inputs:b.outputs)[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}:{cairo:void 0,compiler:void 0}}var kg=a=>new jS(a).toUint256DecimalString(),kh=a=>new jU(a).toUint512DecimalString(),ki=(...a)=>({...a});function kj(a){return jO(a)}var kk=class{variant;constructor(a){const b=Object.values(a);if(0===b.length)throw Error("This Enum must have at least 1 variant");if(1!==b.filter(a=>!i_(a)).length)throw Error("This Enum must have exactly one active variant");this.variant=a}unwrap(){return Object.values(this.variant).find(a=>!i_(a))}activeVariant(){let a=Object.entries(this.variant).find(a=>!i_(a[1]));return i_(a)?"":a[0]}},kl={Some:0,None:1},km=class{Some;None;constructor(a,b){if(!(a in Object.values(kl)))throw Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(a===kl.Some){if(i_(b))throw Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=b,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!i_(this.Some)}isNone(){return!0===this.None}},kn={Ok:0,Err:1},ko=class{Ok;Err;constructor(a,b){if(!(a in Object.values(kn)))throw Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");a===kn.Ok?(this.Ok=b,this.Err=void 0):(this.Ok=void 0,this.Err=b)}unwrap(){if(!i_(this.Ok))return this.Ok;if(!i_(this.Err))return this.Err;throw Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!i_(this.Ok)}isErr(){return!i_(this.Err)}},kp=(a,b,c)=>{if(!i2(a[c]))throw Error(`Data and formatter mismatch on ${c}:${b[c]}, expected response data ${c}:${a[c]} to be BN instead it is ${typeof a[c]}`)},kq=class a{static MAX_BYTE_SIZE=31;data;static abiSelector="core::bytes_31::bytes31";constructor(b){a.validate(b);const c=a.__processData(b);this.data=new Uint8Array(a.MAX_BYTE_SIZE),this.data.set(c,a.MAX_BYTE_SIZE-c.length)}static __processData(a){if(i3(a))return hQ(a);if(i4(a)||a instanceof Uint8Array)return new Uint8Array(a);throw Error("Invalid input type for CairoBytes31. Expected string, Buffer, or Uint8Array")}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return hS(this.data)}decodeUtf8(){let a=this.data.findIndex(a=>a>0),b=this.data.subarray(a>=0?a:1/0);return new TextDecoder().decode(b)}toHexString(a){return hH("padded"===a?hF(this.data):this.toBigInt().toString(16))}static validate(b){let c=a.__processData(b).length;iZ(c<=this.MAX_BYTE_SIZE,`Data is too long: ${c} bytes (max ${this.MAX_BYTE_SIZE} bytes)`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kr={FAILED_TO_RECEIVE_TXN:1,NO_TRACE_AVAILABLE:10,CONTRACT_NOT_FOUND:20,ENTRYPOINT_NOT_FOUND:21,BLOCK_NOT_FOUND:24,INVALID_TXN_INDEX:27,CLASS_HASH_NOT_FOUND:28,TXN_HASH_NOT_FOUND:29,PAGE_SIZE_TOO_BIG:31,NO_BLOCKS:32,INVALID_CONTINUATION_TOKEN:33,TOO_MANY_KEYS_IN_FILTER:34,CONTRACT_ERROR:40,TRANSACTION_EXECUTION_ERROR:41,STORAGE_PROOF_NOT_SUPPORTED:42,CLASS_ALREADY_DECLARED:51,INVALID_TRANSACTION_NONCE:52,INSUFFICIENT_RESOURCES_FOR_VALIDATE:53,INSUFFICIENT_ACCOUNT_BALANCE:54,VALIDATION_FAILURE:55,COMPILATION_FAILED:56,CONTRACT_CLASS_SIZE_IS_TOO_LARGE:57,NON_ACCOUNT:58,DUPLICATE_TX:59,COMPILED_CLASS_HASH_MISMATCH:60,UNSUPPORTED_TX_VERSION:61,UNSUPPORTED_CONTRACT_CLASS_VERSION:62,UNEXPECTED_ERROR:63,REPLACEMENT_TRANSACTION_UNDERPRICED:64,FEE_BELOW_MINIMUM:65,INVALID_SUBSCRIPTION_ID:66,TOO_MANY_ADDRESSES_IN_FILTER:67,TOO_MANY_BLOCKS_BACK:68,COMPILATION_ERROR:100,INVALID_ADDRESS:150,TOKEN_NOT_SUPPORTED:151,INVALID_SIGNATURE:153,MAX_AMOUNT_TOO_LOW:154,CLASS_HASH_NOT_SUPPORTED:155,PAYMASTER_TRANSACTION_EXECUTION_ERROR:156,INVALID_TIME_BOUNDS:157,INVALID_DEPLOYMENT_DATA:158,INVALID_CLASS_HASH:159,INVALID_ID:160,UNKNOWN_ERROR:163},ks=class extends Error{name;constructor(a){super(a),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),function(a,b){let{setPrototypeOf:c}=Object;c?c(a,b):a.__proto__=b}(this,new.target.prototype),function(a,b=a.constructor){let{captureStackTrace:c}=Error;c&&c(a,b)}(this)}},kt=class extends ks{},ku=class extends kt{constructor(a,b,c){super(`RPC: ${b} with params ${iX(c,null,2)}

      ${a.code}: ${a.message}: ${iX(a.data)}`),this.baseError=a,this.request={method:b,params:c}}request;get code(){return this.baseError.code}isType(a){return kr[a]===this.code}},kv=iv.get("buffer")||"u">typeof Buffer&&Buffer||"u">typeof globalThis&&globalThis.Buffer||a.g.Buffer||class{constructor(){throw new kt("Buffer not detected, use 'config.set(\"buffer\", YourBufferPolyfill)' or polyfill or Node.js environment for Buffer support")}static from(a){throw new kt("Buffer not detected, use 'config.set(\"buffer\", YourBufferPolyfill)' or polyfill or Node.js environment for Buffer support")}static isBuffer(a){let b=iv.get("buffer")||"u">typeof Buffer&&Buffer;return b&&b.isBuffer&&b.isBuffer(a)}},kw=class a{data;static abiSelector="core::u32::u32";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data))}toHexString(){return hH(this.toBigInt().toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=0n&&c<=2n**32n-1n,"Value is out of u32 range [0, 2^32)")}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kx=class a{data=[];pending_word;pending_word_len;static abiSelector="core::byte_array::ByteArray";constructor(...b){if(3===b.length){const[a,c,d]=b;iZ(Array.isArray(a)&&c instanceof jP&&d instanceof kw,"Invalid constructor parameters. Expected (CairoBytes31[], CairoFelt252, CairoUint32)"),this.data=a,this.pending_word=c,this.pending_word_len=d;return}const c=b[0];a.validate(c);const{data:d,pending_word:e,pending_word_len:f}=a.__processData(c);this.data=d,this.pending_word=e,this.pending_word_len=f}static __processData(a){let b,c,d;if(a instanceof Uint8Array)b=a;else if(i4(a))b=new Uint8Array(a);else if(i3(a))b=hQ(a);else if(i2(a))b=hR(a);else if(Number.isInteger(a))b=hR(BigInt(a));else throw Error("Invalid input type. Expected Uint8Array, Buffer, string, number, or bigint");let e=kq.MAX_BYTE_SIZE,f=Math.floor(b.length/e),g=b.length%e,h=[];for(let a=0;a<f;a+=1){let c=a*e,d=c+e,f=b.slice(c,d);h.push(new kq(f))}if(g>0){let a=b.slice(f*e),h="0x";for(let b=0;b<a.length;b+=1)h+=a[b].toString(16).padStart(2,"0");c=new jP(h),d=new kw(g)}else c=new jP(0),d=new kw(0);return{data:h,pending_word:c,pending_word_len:d}}toApiRequest(){return this.assertInitialized(),jN([hH(this.data.length.toString(16)),...this.data.flatMap(a=>a.toApiRequest()),...this.pending_word.toApiRequest(),...this.pending_word_len.toApiRequest()])}decodeUtf8(){let a=hN(this.toElements());return new TextDecoder().decode(a)}toBigInt(){let a=hN(this.toElements());if(0===a.length)return 0n;let b=0n;return a.forEach(a=>{b=256n*b+BigInt(a)}),b}toHexString(){let a=hN(this.toElements());return hH(0===a.length?"0":hF(a))}toBuffer(){let a=hN(this.toElements());return kv.from(a)}toElements(){this.assertInitialized();let a=this.data.flatMap(a=>a.data),b=Number(this.pending_word_len.toBigInt());if(b){let c=new Uint8Array(b),d=b-this.pending_word.data.length;c.set(this.pending_word.data,d),a.push(c)}return a}assertInitialized(){iZ(this.data&&void 0!==this.pending_word&&void 0!==this.pending_word_len,"CairoByteArray is not properly initialized")}static validate(a){iZ(null!=a,"Invalid input: null or undefined"),iZ(!Array.isArray(a)||a instanceof Uint8Array,"Invalid input: arrays are not supported, use Uint8Array"),iZ("object"!=typeof a||i4(a)||a instanceof Uint8Array,"Invalid input for CairoByteArray: objects are not supported"),iZ(!i0(a)||Number.isInteger(a),"Invalid input for CairoByteArray: decimal numbers are not supported, only integers"),iZ(!i0(a)||a>=0,"Invalid input for CairoByteArray: negative numbers are not supported"),iZ(!i2(a)||a>=0n,"Invalid input for CairoByteArray: negative bigints are not supported"),iZ(a instanceof Uint8Array||i4(a)||i3(a)||i0(a)||i2(a),"Invalid input type. Expected Uint8Array, Buffer, string, number, or bigint")}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(Array.from({length:Number(js(b))},()=>kq.factoryFromApiResponse(b)),jP.factoryFromApiResponse(b),kw.factoryFromApiResponse(b))}},ky=class a{data;static abiSelector="core::integer::u8";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data))}toHexString(){return hH(this.toBigInt().toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h1.min&&c<=h1.max,`Value is out of u8 range [${h1.min}, ${h1.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kz=class a{data;static abiSelector="core::integer::u16";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data))}toHexString(){return hH(this.toBigInt().toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h2.min&&c<=h2.max,`Value is out of u16 range [${h2.min}, ${h2.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kA=class a{data;static abiSelector="core::integer::u64";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data))}toHexString(){return hH(this.toBigInt().toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h4.min&&c<=h4.max,`Value is out of u64 range [${h4.min}, ${h4.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kB=class a{data;static abiSelector="core::integer::u96";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data))}toHexString(){return hH(this.toBigInt().toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h5.min&&c<=h5.max,`Value is out of u96 range [${h5.min}, ${h5.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kC=class a{data;static abiSelector="core::integer::u128";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data))}toHexString(){return hH(this.toBigInt().toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h6.min&&c<=h6.max,`Value is out of u128 range [${h6.min}, ${h6.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){return new a(js(b))}},kD=class a{data;static abiSelector="core::integer::i8";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data>=0n?this.data:256n+this.data))}toHexString(){let a=this.toBigInt();return a<0n?hH((hY+a).toString(16)):hH(a.toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h7.min&&c<=h7.max,`Value is out of i8 range [${h7.min}, ${h7.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){let c=BigInt(js(b));return new a(c>hY/2n?c-hY:c)}},kE=class a{data;static abiSelector="core::integer::i16";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data>=0n?this.data:65536n+this.data))}toHexString(){let a=this.toBigInt();return a<0n?hH((hY+a).toString(16)):hH(a.toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h8.min&&c<=h8.max,`Value is out of i16 range [${h8.min}, ${h8.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){let c=BigInt(js(b));return new a(c>hY/2n?c-hY:c)}},kF=class a{data;static abiSelector="core::integer::i32";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data>=0n?this.data:4294967296n+this.data))}toHexString(){let a=this.toBigInt();return a<0n?hH((hY+a).toString(16)):hH(a.toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=h9.min&&c<=h9.max,`Value is out of i32 range [${h9.min}, ${h9.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){let c=BigInt(js(b));return new a(c>hY/2n?c-hY:c)}},kG=class a{data;static abiSelector="core::integer::i64";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data>=0n?this.data:2n**64n+this.data))}toHexString(){let a=this.toBigInt();return a<0n?hH((hY+a).toString(16)):hH(a.toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=ia.min&&c<=ia.max,`Value is out of i64 range [${ia.min}, ${ia.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){let c=BigInt(js(b));return new a(c>hY/2n?c-hY:c)}},kH=class a{data;static abiSelector="core::integer::i128";constructor(b){a.validate(b),this.data=a.__processData(b)}static __processData(a){return i3(a)&&jE(a)?hC(a):BigInt(a)}toApiRequest(){return jN([this.toHexString()])}toBigInt(){return this.data}decodeUtf8(){return new TextDecoder().decode(hR(this.data>=0n?this.data:2n**128n+this.data))}toHexString(){let a=this.toBigInt();return a<0n?hH((hY+a).toString(16)):hH(a.toString(16))}static validate(b){iZ(null!=b,"Invalid input: null or undefined"),iZ(!i5(b)&&!Array.isArray(b),"Invalid input: objects are not supported"),iZ(!i0(b)||Number.isInteger(b),"Invalid input: decimal numbers are not supported, only integers");let c=a.__processData(b);iZ(c>=ib.min&&c<=ib.max,`Value is out of i128 range [${ib.min}, ${ib.max}]`)}static is(b){try{return a.validate(b),!0}catch{return!1}}static isAbiType(b){return b===a.abiSelector}static factoryFromApiResponse(b){let c=BigInt(js(b));return new a(c>hY/2n?c-hY:c)}};kq.abiSelector,kx.abiSelector,jP.abiSelector,jS.abiSelector,jU.abiSelector,ky.abiSelector,kz.abiSelector,kA.abiSelector,kB.abiSelector,kC.abiSelector,kD.abiSelector,kE.abiSelector,kF.abiSelector,kG.abiSelector,kH.abiSelector,kq.abiSelector,kx.abiSelector,jP.abiSelector,jS.abiSelector,jU.abiSelector,ky.abiSelector,kz.abiSelector,kA.abiSelector,kB.abiSelector,kC.abiSelector,kD.abiSelector,kE.abiSelector,kF.abiSelector,kG.abiSelector,kH.abiSelector;var kI={request:{[kq.abiSelector]:a=>new kq(a).toApiRequest(),[kx.abiSelector]:a=>new kx(a).toApiRequest(),[jP.abiSelector]:a=>jO(a),[jS.abiSelector]:a=>new jS(a).toApiRequest(),[jU.abiSelector]:a=>new jU(a).toApiRequest(),[ky.abiSelector]:a=>jO(a),[kz.abiSelector]:a=>jO(a),[kA.abiSelector]:a=>jO(a),[kB.abiSelector]:a=>jO(a),[kC.abiSelector]:a=>jO(a),[kD.abiSelector]:a=>new kD(a).toApiRequest(),[kE.abiSelector]:a=>new kE(a).toApiRequest(),[kF.abiSelector]:a=>new kF(a).toApiRequest(),[kG.abiSelector]:a=>new kG(a).toApiRequest(),[kH.abiSelector]:a=>new kH(a).toApiRequest()},response:{[kq.abiSelector]:a=>kq.factoryFromApiResponse(a).decodeUtf8(),[kx.abiSelector]:a=>kx.factoryFromApiResponse(a).decodeUtf8(),[jP.abiSelector]:a=>BigInt(js(a)),[jS.abiSelector]:a=>jS.factoryFromApiResponse(a).toBigInt(),[jU.abiSelector]:a=>jU.factoryFromApiResponse(a).toBigInt(),[ky.abiSelector]:a=>BigInt(js(a)),[kz.abiSelector]:a=>BigInt(js(a)),[kA.abiSelector]:a=>BigInt(js(a)),[kB.abiSelector]:a=>BigInt(js(a)),[kC.abiSelector]:a=>BigInt(js(a)),[kD.abiSelector]:a=>BigInt(js(a)),[kE.abiSelector]:a=>BigInt(js(a)),[kF.abiSelector]:a=>BigInt(js(a)),[kG.abiSelector]:a=>BigInt(js(a)),[kH.abiSelector]:a=>BigInt(js(a))}},kJ=class{abi;parsingStrategy;constructor(a,b){this.abi=a,this.parsingStrategy=b||kI}getRequestParser(a){if(this.parsingStrategy.request[a])return this.parsingStrategy.request[a];throw Error(`Parser for ${a} not found`)}getResponseParser(a){if(this.parsingStrategy.response[a])return this.parsingStrategy.response[a];throw Error(`Parser for ${a} not found`)}methodInputsLength(a){return a.inputs.reduce((a,b)=>jV(b.name)?a:a+1,0)}getMethod(a){return this.abi.find(b=>b.name===a)}getLegacyFormat(){return this.abi}},kK=class{abi;parsingStrategy;constructor(a,b){this.abi=a,this.parsingStrategy=b||kI}getRequestParser(a){if(this.parsingStrategy.request[a])return this.parsingStrategy.request[a];throw Error(`Parser for ${a} not found`)}getResponseParser(a){if(this.parsingStrategy.response[a])return this.parsingStrategy.response[a];throw Error(`Parser for ${a} not found`)}methodInputsLength(a){return a.inputs.length}getMethod(a){let b=this.abi.find(a=>"interface"===a.type);return b?.items?.find(b=>b.name===a)}getLegacyFormat(){return this.abi.flatMap(a=>"interface"===a.type?a.items:a)}};function kL(a,b){var c;let d=(c=a).find(a=>"interface"===a.type)?2:+!!kd(c);if(0===d||1===d)return new kJ(a,b);if(2===d)return new kK(a,b);throw Error(`Unsupported ABI version ${d}`)}function kM(a,b,c){return"constructor"===a&&!c&&!b.length}function kN(a,b,c){for(let d=0,e=0;d<a.length;d++)if(a[d]===b)e++;else if(a[d]===c&&0==--e)return d;return 1/0}function kO(a){return kb(a)?function(a){let b,c=a.slice(1,-1),d=[],e=0;for(;e<c.length;){switch(!0){case"("===c[e]:b=e+kN(c.slice(e),"(",")")+1;break;case c.startsWith("core::result::Result::<",e)||c.startsWith("core::array::Array::<",e)||c.startsWith("core::option::Option::<",e):b=e+kN(c.slice(e),"<",">")+1;break;default:{let a=c.indexOf(",",e);b=-1!==a?a:1/0}}d.push(c.slice(e,b)),e=b+2}return d}(a):function(a){let{subTuple:b,result:c}=function(a){if(!a.includes("("))return{subTuple:[],result:a};let b=[],c="",d=0;for(;d<a.length;){if("("===a[d]){let e=1,f=d;for(d++;e;)")"===a[d]&&e--,"("===a[d]&&e++,d++;b.push(a.substring(f,d)),c+=" ",d--}else c+=a[d];d++}return{subTuple:b,result:c}}(a.replace(/\s/g,"").slice(1,-1)),d=c.split(",").map(a=>b.length?a.replace(" ",b.shift()):a);return jZ(a)&&(d=d.reduce((a,b)=>{let c,d;return a.concat((c=b.substring(0,b.indexOf(":")),d=b.substring(c.length+1),{name:c,type:d}))},[])),d}(a)}var kP=class a{content;arrayType;constructor(b,c){let d;iZ(a.isTypeFixedArray(c),`The type ${c} is not a Cairo fixed array. Needs [type; length].`);try{a.getFixedArrayType(c)}catch{throw Error(`The type ${c} do not includes any content type. Needs [type; length].`)}try{d=a.getFixedArraySize(c)}catch{throw Error(`The type ${c} type do not includes any length. Needs [type; length].`)}iZ(d===b.length,`The ABI type ${c} is expecting ${d} items. ${b.length} items provided.`),this.content=b,this.arrayType=c}static getFixedArraySize(a){let b=a.match(/(?<=; )\d+(?=\])/);if(null===b)throw Error(`ABI type ${a} do not includes a valid number after ';' character.`);return Number(b[0])}getFixedArraySize(){return a.getFixedArraySize(this.arrayType)}static getFixedArrayType=a=>{let b=a.match(/(?<=\[).+(?=;)/);if(null===b)throw Error(`ABI type ${a} do not includes a valid type of data.`);return b[0]};getFixedArrayType(){return a.getFixedArrayType(this.arrayType)}static compile(a){return a.reduce((a,b,c)=>(a[c]=b,a),{})}compile(){return a.compile(this.content)}static isTypeFixedArray(a){return/^\[.*;\s.*\]$/.test(a)&&/(?<=\[).+(?=;)/.test(a)&&/(?<=; )\d+(?=\])/.test(a)}};function kQ({type:a,val:b,parser:c}){switch(!0){case jS.isAbiType(a):case jU.isAbiType(a):case ky.isAbiType(a):case kz.isAbiType(a):case kA.isAbiType(a):case kB.isAbiType(a):case kC.isAbiType(a):case kD.isAbiType(a):case kE.isAbiType(a):case kF.isAbiType(a):case kG.isAbiType(a):case kH.isAbiType(a):case kq.isAbiType(a):return c.getRequestParser(a)(b);case ka(a):{let a=hG(ja(b)).padStart(128,"0"),c=kg(hH(a.slice(-64))),d=kg(hH(a.slice(0,-64)));return[jO(d.low),jO(d.high),jO(c.low),jO(c.high)]}default:return c.getRequestParser(jP.abiSelector)(b)}}function kR({element:a,type:b,structs:c,enums:d,parser:e}){if(void 0===a)throw Error(`Missing parameter for type ${b}`);if(kP.isTypeFixedArray(b)){let f=kP.getFixedArrayType(b),g=[];if(Array.isArray(a))g=new kP(a,b).content;else if("object"==typeof a)iZ((g=Object.values(a)).length===kP.getFixedArraySize(b),`ABI type ${b}: object provided do not includes  ${kP.getFixedArraySize(b)} items. ${g.length} items provided.`);else throw Error(`ABI type ${b}: not an Array representing a cairo.fixedArray() provided.`);return g.reduce((a,b)=>a.concat(kR({element:b,type:f,structs:c,enums:d,parser:e})),[])}if(Array.isArray(a)){let f=[];f.push(jO(a.length));let g=kc(b);return a.reduce((a,b)=>a.concat(kR({element:b,type:g,structs:c,enums:d,parser:e})),f)}if(jS.isAbiType(b)||jU.isAbiType(b))return e.getRequestParser(b)(a);if(c[b]&&c[b].members.length){if(j8(b))return kQ({type:b,val:a,parser:e});if(kx.isAbiType(b))return e.getRequestParser(b)(a);let{members:f}=c[b];return f.reduce((b,f)=>b.concat(kR({element:a[f.name],type:f.type,structs:c,enums:d,parser:e})),[])}if(jY(b))return(function(a,b){let c=kO(b),d=Object.values(a);if(d.length!==c.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${d}
      expected: ${c}`);return c.map((a,b)=>({element:d[b],type:a.type??a}))})(a,b).reduce((a,b)=>{let f=kR({element:b.element,type:b.type,structs:c,enums:d,parser:e});return a.concat(f)},[]);if(j_(b,d)){let{variants:f}=d[b];if(j0(b)){if(a.isSome()){let b=f.find(a=>"Some"===a.name);if(i_(b))throw Error("Error in abi : Option has no 'Some' variant.");let g=b.type;if("()"===g)return kl.Some.toString();let h=kR({element:a.unwrap(),type:g,structs:c,enums:d,parser:e});return Array.isArray(h)?[kl.Some.toString(),...h]:[kl.Some.toString(),h]}return kl.None.toString()}if(j1(b)){if(a.isOk()){let b=f.find(a=>"Ok"===a.name);if(i_(b))throw Error("Error in abi : Result has no 'Ok' variant.");let g=b.type;if("()"===g)return kn.Ok.toString();let h=kR({element:a.unwrap(),type:g,structs:c,enums:d,parser:e});return Array.isArray(h)?[kn.Ok.toString(),...h]:[kn.Ok.toString(),h]}let b=f.find(a=>"Err"===a.name);if(i_(b))throw Error("Error in abi : Result has no 'Err' variant.");let g=b.type;if("()"===g)return kn.Err.toString();let h=kR({element:a.unwrap(),type:g,structs:c,enums:d,parser:e});return Array.isArray(h)?[kn.Err.toString(),...h]:[kn.Err.toString(),h]}let g=a.activeVariant(),h=f.find(a=>a.name===g);if(i_(h))throw Error(`Not find in abi : Enum has no '${g}' variant.`);let i=h.type,j=f.findIndex(a=>a.name===g);if("()"===i)return j.toString();let k=kR({element:a.unwrap(),type:i,structs:c,enums:d,parser:e});return Array.isArray(k)?[j.toString(),...k]:[j.toString(),k]}if(ke(b))return kQ({type:kc(b),val:a,parser:e});if("object"==typeof a)throw Error(`Parameter ${a} do not align with abi parameter ${b}`);return kQ({type:b,val:a,parser:e})}function kS(a,b,c){switch(!0){case j6(a):return!!BigInt(b.next().value);case jS.isAbiType(a):case jU.isAbiType(a):case ky.isAbiType(a):case kz.isAbiType(a):case kA.isAbiType(a):case kB.isAbiType(a):case kC.isAbiType(a):case kD.isAbiType(a):case kE.isAbiType(a):case kF.isAbiType(a):case kG.isAbiType(a):case kH.isAbiType(a):return c.getResponseParser(a)(b);case j8(a):return BigInt(b.next().value);case kq.isAbiType(a):return c.getResponseParser(a)(b);case ka(a):let d=hG(b.next().value).padStart(32,"0"),e=hG(b.next().value).padStart(32,"0"),f=hG(b.next().value).padStart(32,"0");return BigInt(hH(e+d+hG(b.next().value).padStart(32,"0")+f));default:return c.getResponseParser(jP.abiSelector)(b)}}function kT(a,b,c,d,e){if("()"===b.type)return{};if(jS.isAbiType(b.type)||jU.isAbiType(b.type)||kx.isAbiType(b.type))return c.getResponseParser(b.type)(a);if(kP.isTypeFixedArray(b.type)){let f=[],g={name:"",type:kP.getFixedArrayType(b.type)},h=kP.getFixedArraySize(b.type);for(;f.length<h;)f.push(kT(a,g,c,d,e));return f}if(jX(b.type)){let f=[],g={name:"",type:kc(b.type)},h=BigInt(a.next().value);for(;f.length<h;)f.push(kT(a,g,c,d,e));return f}if(ke(b.type))return kT(a,{name:"",type:kc(b.type)},c,d,e);if(d&&b.type in d&&d[b.type])return j8(b.type)?kS(b.type,a,c):d[b.type].members.reduce((b,f)=>(b[f.name]=kT(a,f,c,d,e),b),{});if(e&&b.type in e&&e[b.type]){let f=Number(a.next().value),g=e[b.type].variants.reduce((b,g,h)=>(h===f?b[g.name]=kT(a,{name:"",type:g.type},c,d,e):b[g.name]=void 0,b),{});if(b.type.startsWith("core::option::Option")){let a=f===kl.Some?g.Some:void 0;return new km(f,a)}if(b.type.startsWith("core::result::Result")){let a;return a=f===kn.Ok?g.Ok:g.Err,new ko(f,a)}return new kk(g)}if(jY(b.type))return kO(b.type).reduce((b,f,g)=>{let h=f?.name?f.name:g,i=f?.type?f.type:f;return b[h]=kT(a,{name:h,type:i},c,d,e),b},{});if(jX(b.type)){let f=[],g={name:"",type:kc(b.type)},h=BigInt(a.next().value);for(;f.length<h;)f.push(kT(a,g,c,d,e));return f}return kS(b.type,a,c)}function kU({responseIterator:a,output:b,structs:c,enums:d,parsedResult:e,parser:f}){let{name:g,type:h}=b;switch(!0){case jV(g):return BigInt(a.next().value);case c&&h in c||jY(h):case d&&j_(h,d):case kP.isTypeFixedArray(h):return kT(a,b,f,c,d);case jX(h):if(kb(h))return kT(a,b,f,c,d);let i=[];if(e&&e[`${g}_len`]){let h=e[`${g}_len`];for(;i.length<h;)i.push(kT(a,{name:g,type:b.type.replace("*","")},f,c,d))}return i;case ke(h):return kT(a,b,f,c,d);default:return kS(h,a,f)}}var kV=(a,b)=>{if(iZ(i3(a)||i0(a)||i2(a),`Validate: arg ${b.name} should be a felt typed as (String, Number or BigInt)`),i3(a)&&!i6(a))return;let c=BigInt(a.toString(10));iZ(c>=0n&&c<=2n**252n-1n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 2^252-1]`)},kW=(a,b)=>{let c;switch(i0(a)&&iZ(a<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),iZ(i3(a)||i0(a)||i2(a)||i5(a)&&"low"in a&&"high"in a||i5(a)&&["limb0","limb1","limb2","limb3"].every(b=>b in a),`Validate: arg ${b.name} of cairo type ${b.type} should be type (String, Number or BigInt), but is ${typeof a} ${a}.`),b.type){case iO.u256:c=new jS(a).toBigInt();break;case iO.u512:c=new jU(a).toBigInt();break;default:c=i8(a)}switch(b.type){case iO.u8:iZ(c>=0n&&c<=255n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0 - 255]`);break;case iO.u16:iZ(c>=0n&&c<=65535n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 65535]`);break;case iO.u32:iZ(c>=0n&&c<=4294967295n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 4294967295]`);break;case iO.u64:iZ(c>=0n&&c<=2n**64n-1n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 2^64-1]`);break;case iO.u128:iZ(c>=0n&&c<=2n**128n-1n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 2^128-1]`);break;case iO.u256:iZ(c>=0n&&c<=2n**256n-1n,`Validate: arg ${b.name} is ${b.type} should be in range 0 - 2^256-1`);break;case iO.u512:iZ(jU.is(c),`Validate: arg ${b.name} is ${b.type} should be in range 0 - 2^512-1`);break;case iQ.ClassHash:case iQ.ContractAddress:iZ(c>=0n&&c<=2n**252n-1n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 2^252-1]`);break;case iQ.Secp256k1Point:iZ(c>=0n&&c<=2n**512n-1n,`Validate: arg ${b.name} must be ${b.type} : a 512 bits number.`);break;case iQ.U96:iZ(c>=0n&&c<=2n**96n-1n,`Validate: arg ${b.name} must be ${b.type} : a 96 bits number.`)}},kX=(a,b)=>{iZ(i1(a),`Validate: arg ${b.name} of cairo type ${b.type} should be type (Boolean)`)},kY=(a,b,c)=>{if(b.type===iO.u256||b.type===iO.u512)return void kW(a,b);if(j8(b.type)){iZ(!i5(a),`EthAddress type is waiting a BigNumberish. Got "${a}"`);let c=BigInt(a.toString(10));iZ(c>=0n&&c<=2n**160n-1n,`Validate: arg ${b.name} cairo typed ${b.type} should be in range [0, 2^160-1]`);return}iZ(i5(a),`Validate: arg ${b.name} is cairo type struct (${b.type}), and should be defined as a js object (not array)`),c[b.type].members.forEach(({name:c})=>{iZ(Object.keys(a).includes(c),`Validate: arg ${b.name} should have a property ${c}`)})},kZ=(a,b)=>{iZ(i5(a),`Validate: arg ${b.name} is cairo type Enum (${b.type}), and should be defined as a js object (not array)`);let c=Object.getOwnPropertyNames(Object.getPrototypeOf(a)),d=[...Object.getOwnPropertyNames(a),...c];if(!(j0(b.type)&&d.includes("isSome")&&d.includes("isNone")||j1(b.type)&&d.includes("isOk")&&d.includes("isErr"))&&!(d.includes("variant")&&d.includes("activeVariant")))throw Error(`Validate Enum: argument ${b.name}, type ${b.type}, value received "${a}", is not an Enum.`)},k$=(a,b)=>{iZ(i5(a),`Validate: arg ${b.name} should be a tuple (defined as object)`)},k_=(a,b,c,d)=>{let e=jX(b.type),f=e?kc(b.type):kP.getFixedArrayType(b.type);if(e&&jW(f)&&jG(a))return;let g=[];if(e)iZ(Array.isArray(a),`Validate: arg ${b.name} should be an Array`),g=a;else switch(!0){case Array.isArray(a):g=a;break;case"object"==typeof a:g=Object.values(a);break;default:throw Error(`Validate: arg ${b.name} should be an Array or an object.`)}switch(!0){case jW(f):g.forEach(a=>kV(a,b));break;case jY(f):g.forEach(a=>k$(a,{name:b.name,type:f}));break;case jX(f):g.forEach(a=>k_(a,{name:"",type:f},c,d));break;case j$(f,c):g.forEach(a=>kY(a,{name:b.name,type:f},c));break;case j_(f,d):g.forEach(a=>kZ(a,{name:b.name,type:f}));break;case j2(f)||j5(f):g.forEach(a=>kW(a,{name:"",type:f}));break;case j6(f):g.forEach(a=>kX(a,b));break;default:throw Error(`Validate Unhandled: argument ${b.name}, type ${b.type}, value ${g}`)}};function k0(a,b,c,d){a.inputs.reduce((a,e)=>{let f=b[a];switch(!0){case jV(e.name):return a;case jW(e.type):kV(f,e);break;case kq.isAbiType(e.type):kq.validate(f);break;case j2(e.type)||j5(e.type):kW(f,e);break;case j6(e.type):kX(f,e);break;case kx.isAbiType(e.type):kx.validate(f);break;case kD.isAbiType(e.type):kD.validate(f);break;case kE.isAbiType(e.type):kE.validate(f);break;case kF.isAbiType(e.type):kF.validate(f);break;case kG.isAbiType(e.type):kG.validate(f);break;case kH.isAbiType(e.type):kH.validate(f);break;case jX(e.type)||kP.isTypeFixedArray(e.type):k_(f,e,c,d);break;case j$(e.type,c):kY(f,e,c);break;case j_(e.type,d):kZ(f,e);break;case jY(e.type):k$(f,e);break;case ke(e.type):let g=kc(e.type);switch(iZ(j2(g)&&g!==jU.abiSelector||jW(g),`Validate: ${e.name} type is not authorized for NonZero type.`),!0){case jW(g):kV(f,e),iZ(BigInt(f.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case j2(g):kW(f,{name:"",type:g}),g===iO.u256?iZ(new jS(f).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type."):iZ(i8(f)>0,"Validate: value 0 is not authorized in NonZero uint type.");break;default:throw Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value "${f}"`)}break;default:throw Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value ${f}`)}return a+1},0)}var k1=class a{abi;parser;structs;enums;constructor(b,c){this.structs=a.getAbiStruct(b),this.enums=a.getAbiEnum(b),this.parser=kL(b,c),this.abi=this.parser.getLegacyFormat()}validate(a,b,c=[]){a!==iM&&iZ(this.abi.filter(b=>{if("function"!==b.type)return!1;let c="view"===b.stateMutability||"view"===b.state_mutability;return a===iN?!c:c}).map(a=>a.name).includes(b),`${a===iN?"invocable":"viewable"} method not found in abi`);let d=this.abi.find(c=>a===iM?c.name===b&&"constructor"===c.type:c.name===b&&"function"===c.type);if(kM(b,c,d))return;let e=this.parser.methodInputsLength(d);if(c.length!==e)throw Error(`Invalid number of arguments, expected ${e} arguments, but got ${c.length}`);k0(d,c,this.structs,this.enums)}compile(a,b){let c,d=this.abi.find(b=>b.name===a);if(kM(a,b,d))return[];if(Array.isArray(b))c=b;else{var e,f,g;let a,h,i;c=Object.values((e=d.inputs,f=this.structs,g=this.enums,a=(b,c)=>{if(kP.isTypeFixedArray(c)){var d,e,j=b,k=c;let f=kP.getFixedArrayType(k),g=kP.getFixedArraySize(k);if(Array.isArray(j)){if(g!==j.length)throw Error(`ABI type ${k}: array provided do not includes  ${g} items. ${j.length} items provided.`);return j.map(b=>a(b,f))}if(g!==Object.keys(j).length)throw Error(`ABI type ${k}: object provided do not includes  ${g} properties. ${Object.keys(j).length} items provided.`);return a(j,f)}if(jX(c)){let e;return d=b,e=kc(c),i3(d)?d:d.map(b=>a(b,e))}if(j_(c,g))return i(b,g[c]);if(jY(c)){return e=b,kO(c).reduce((b,c,d)=>{let f,g=Object.keys(e),h=c?.type?c.type:c;return f=a(e[g[d]],h),Object.defineProperty(b,d.toString(),{enumerable:!0,value:f??e[g[d]]}),b},{})}if(j8(c)||ke(c)||kx.isAbiType(c)||j9(c)||ka(c))return b;if(jS.isAbiType(c)){if("object"!=typeof b)return b;if(!("low"in b&&"high"in b))throw Error(`Your object includes the property : ${c}, containing an Uint256 object without the 'low' and 'high' keys.`);return{low:b.low,high:b.high}}if(jU.isAbiType(c)){if("object"!=typeof b)return b;if(!["limb0","limb1","limb2","limb3"].every(a=>a in b))throw Error(`Your object includes the property : ${c}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`);return{limb0:b.limb0,limb1:b.limb1,limb2:b.limb2,limb3:b.limb3}}return j$(c,f)?h(b,f[c].members):b},h=(b,c)=>c.reduce((c,d)=>{let e;if("undefined"===b[d.name]&&(kb(d.type)||!jV(d.name)))throw Error(`Your object needs a property with key : ${d.name} .`);return e=a(b[d.name],d.type),Object.defineProperty(c,d.name,{enumerable:!0,value:e??b[d.name]}),c},{}),i=(b,c)=>{if(j1(c.name)){let d=c.name.substring(c.name.indexOf("<")+1,c.name.lastIndexOf(",")),e=c.name.substring(c.name.indexOf(",")+1,c.name.lastIndexOf(">"));return b.isOk()?new ko(kn.Ok,a(b.unwrap(),d)):new ko(kn.Err,a(b.unwrap(),e))}if(j0(c.name)){let d=c.name.substring(c.name.indexOf("<")+1,c.name.lastIndexOf(">"));return b.isSome()?new km(kl.Some,a(b.unwrap(),d)):new km(kl.None,{})}return new kk(Object.fromEntries(Object.entries(b.variant).map(d=>{if(i_(d[1]))return d;let e=c.type.substring(c.type.lastIndexOf("<")+1,c.type.lastIndexOf(">"));return"()"===e?d:[d[0],a(b.unwrap(),e)]})))},e.reduce((c,d)=>{let e;return jV(d.name)&&!kb(d.type)?c:(e=a(b[d.name],d.type),Object.defineProperty(c,d.name,{enumerable:!0,value:e}),c)},{}))),k0(d,c,this.structs,this.enums)}let h=c[Symbol.iterator](),i=d.inputs.reduce((a,b)=>jV(b.name)&&!kb(b.type)?a:a.concat(function({argsIterator:a,input:b,structs:c,enums:d,parser:e}){let{name:f,type:g}=b,{value:h}=a.next();switch(!0){case kP.isTypeFixedArray(g):if(!Array.isArray(h)&&"object"!=typeof h)throw Error(`ABI expected parameter ${f} to be an array or an object, got ${h}`);return kR({element:h,type:b.type,structs:c,enums:d,parser:e});case jX(g):if(!Array.isArray(h)&&!jE(h))throw Error(`ABI expected parameter ${f} to be array or long string, got ${h}`);return i3(h)&&(h=jH(h)),kR({element:h,type:b.type,structs:c,enums:d,parser:e});case ke(g):return kQ({type:kc(g),val:h,parser:e});case j8(g):return kQ({type:g,val:h,parser:e});case j$(g,c)||jY(g)||jS.isAbiType(g):case j_(g,d):return kR({element:h,type:g,structs:c,enums:d,parser:e});default:return kQ({type:g,val:h,parser:e})}}({argsIterator:h,input:b,structs:this.structs,enums:this.enums,parser:this.parser})),[]);return Object.defineProperty(i,"__compiled__",{enumerable:!1,writable:!1,value:!0}),i}static compile(a){let b,c=a=>{let b=(a,c=".")=>{let d=Array.isArray(a)?[a.length.toString(),...a]:a;return Object.entries(d).flatMap(([a,e])=>{let f=e;"entrypoint"===a?f=jv(f):jG(f)&&(f=jL(f));let g=Array.isArray(d)&&"0"===a?"$$len":a;if(i2(f))return[[`${c}${g}`,jO(f)]];if(Object(f)===f){let a=Object.getOwnPropertyNames(Object.getPrototypeOf(f)),d=[...Object.getOwnPropertyNames(f),...a];if(d.includes("isSome")&&d.includes("isNone")){let a=f,d=a.isSome()?kl.Some:kl.None;return a.isSome()?b({0:d,1:a.unwrap()},`${c}${g}.`):[[`${c}${g}`,jO(d)]]}if(d.includes("isOk")&&d.includes("isErr")){let a=f;return b({0:a.isOk()?kn.Ok:kn.Err,1:a.unwrap()},`${c}${g}.`)}if(d.includes("variant")&&d.includes("activeVariant")){let a=f,d=a.activeVariant(),e=Object.keys(a.variant).findIndex(a=>a===d);return"object"==typeof a.unwrap()&&0===Object.keys(a.unwrap()).length?[[`${c}${g}`,jO(e)]]:b({0:e,1:a.unwrap()},`${c}${g}.`)}return b(f,`${c}${g}.`)}return[[`${c}${g}`,jO(f)]]})};return Object.fromEntries(b(a))};return Object.defineProperty(b=Array.isArray(a)?Object.values(c({...a})):Object.values(c(a)),"__compiled__",{enumerable:!1,writable:!1,value:!0}),b}parse(a,b){let{outputs:c}=this.abi.find(b=>b.name===a),d=b.flat()[Symbol.iterator](),e=c.flat().reduce((a,b,c)=>{let e=b.name??c;return a[e]=kU({responseIterator:d,output:b,structs:this.structs,enums:this.enums,parsedResult:a,parser:this.parser}),a[e]&&a[`${e}_len`]&&delete a[`${e}_len`],a},{});return 1===Object.keys(e).length&&0 in e?e[0]:e}format(a,b,c){return function a(b,c,d){return Object.entries(b).reduce((e,[f,g])=>{let h=d??c[f];if(!(f in c)&&!d)return e[f]=g,e;if("string"===h){if(Array.isArray(b[f])){let c=a(b[f],b[f].map(a=>h));return e[f]=Object.values(c).join(""),e}return kp(b,c,f),e[f]=jJ(g),e}if("number"===h)return kp(b,c,f),e[f]=Number(g),e;if("function"==typeof h)return e[f]=h(g),e;if(Array.isArray(h)){let c=a(b[f],h,h[0]);return e[f]=Object.values(c),e}return i5(h)?e[f]=a(b[f],h):((a,b,c)=>{throw Error(`Unhandled formatter type on ${c}:${b[c]} for data ${c}:${a[c]}`)})(b,c,f),e},{})}(this.parse(a,b),c)}static getAbiStruct(a){return a.filter(a=>"struct"===a.type).reduce((a,b)=>({...a,[b.name]:b}),{})}static getAbiEnum(a){let b=a.filter(a=>"enum"===a.type).reduce((a,b)=>({...a,[b.name]:b}),{});return delete b["core::bool"],b}static toCalldata(b=[]){return a.compile(b)}static toHex(b=[]){return a.compile(b).map(a=>ja(a))}decodeParameters(a,b){let c=Array.isArray(a)?a:[a],d=b.flat()[Symbol.iterator](),e=c.map(a=>kU({responseIterator:d,output:{name:"",type:a},parser:this.parser,structs:this.structs,enums:this.enums}));return 1===e.length?e[0]:e}},k2={};hr(k2,{COMPILED_CLASS_VERSION:()=>lq,blake2sHashMany:()=>lI,calculateContractAddressFromHash:()=>ly,calculateDeclareTransactionHash:()=>lo,calculateDeployAccountTransactionHash:()=>lp,calculateInvokeTransactionHash:()=>ln,calculateL2MessageTxHash:()=>lm,computeCompiledClassHash:()=>lQ,computeCompiledClassHashBlake:()=>lL,computeCompiledClassHashPoseidon:()=>lF,computeContractClassHash:()=>lP,computeHashOnElements:()=>lw,computeHintedClassHash:()=>lz,computeLegacyContractClassHash:()=>lA,computePedersenHash:()=>lv,computePedersenHashOnElements:()=>lx,computePoseidonHash:()=>lB,computePoseidonHashOnElements:()=>lC,computeSierraContractClassHash:()=>lH,encodeBuiltins:()=>lt,flattenEntryPointData:()=>lu,formatSpaces:()=>lr,getL1MessageHash:()=>jz,getL2MessageHash:()=>jy,getSelector:()=>jw,getSelectorFromName:()=>jv,hashByteCodeSegments:()=>lE,hashByteCodeSegmentsBlake:()=>lK,keccakBn:()=>jt,nullSkipReplacer:()=>ls,poseidon:()=>ew,solidityUint256PackedKeccak256:()=>jx,starknetKeccak:()=>ju}),hr({},{calculateDeclareTransactionHash:()=>lf,calculateDeployAccountTransactionHash:()=>le,calculateInvokeTransactionHash:()=>lg,calculateTransactionHashCommon:()=>ld,encodeDataResourceBoundsL1:()=>lb,encodeResourceBoundsL1:()=>k9,encodeResourceBoundsL2:()=>la,hashDAMode:()=>k8,hashFeeFieldV3B3:()=>lc});var k3=a=>a.map(a=>BigInt(a)),k4=64n+128n,k5=BigInt(jI("L1_GAS")),k6=BigInt(jI("L2_GAS")),k7=BigInt(jI("L1_DATA"));function k8(a,b){return(BigInt(a)<<32n)+BigInt(b)}function k9(a){return(k5<<k4)+(a.l1_gas.max_amount<<128n)+a.l1_gas.max_price_per_unit}function la(a){return(k6<<k4)+(a.l2_gas.max_amount<<128n)+a.l2_gas.max_price_per_unit}function lb(a){return(k7<<k4)+(a.l1_data_gas.max_amount<<128n)+a.l1_data_gas.max_price_per_unit}function lc(a,b){let c=k9(b),d=la(b),e=lb(b);return ev([BigInt(a),c,d,e])}function ld(a,b,c,d,e,f,g,h,i,j,k=[]){let l=lc(f,j),m=k8(h,i),n=k3([a,b,c,l,ev(k3(g)),d,e,m,...k3(k)]);return ja(ev(n))}function le(a,b,c,d,e,f,g,h,i,j,k,l){return ld(io.DEPLOY_ACCOUNT,e,a,f,g,k,l,h,i,j,[ev(k3(c)),b,d])}function lf(a,b,c,d,e,f,g,h,i,j,k,l){return ld(io.DECLARE,d,c,e,f,k,k3(l),h,i,j,[ev(k3(g)),a,b])}function lg(a,b,c,d,e,f,g,h,i,j,k){return ld(io.INVOKE,b,a,d,e,j,k,g,h,i,[ev(k3(f)),ev(k3(c))])}function lh(a){return[...a,a.length].reduce((a,b)=>ex.pedersen(i8(a),i8(b)),0).toString()}function li(a,b,c,d,e,f,g,h=[]){let i=[a,b,c,d,lh(e),f,g,...h];return lh(i)}function lj(a,b,c,d,e,f,g){return li(io.DECLARE,c,b,0,[a],d,e,[f,...g?[g]:[]])}function lk(a,b,c,d,e,f,g,h){let i=[b,d,...c];return li(io.DEPLOY_ACCOUNT,e,a,0,i,f,g,[h])}function ll(a,b,c,d,e,f){return li(io.INVOKE,b,a,0,c,d,e,[f])}function lm(a,b,c,d,e,f){let g=[a,...d];return li(io.L1_HANDLER,0,b,jw(c),g,0,e,[f])}function ln(a){if([hv.ETransactionVersion.V3,hv.ETransactionVersion.F3].includes(a.version))return lg(a.senderAddress,a.version,a.compiledCalldata,a.chainId,a.nonce,a.accountDeploymentData,a.nonceDataAvailabilityMode,a.feeDataAvailabilityMode,a.resourceBounds,a.tip,a.paymasterData);throw Error("Invalid Tx version for hash calculation")}function lo(a){if([hv.ETransactionVersion.V3,hv.ETransactionVersion.F3].includes(a.version))return lf(a.classHash,a.compiledClassHash,a.senderAddress,a.version,a.chainId,a.nonce,a.accountDeploymentData,a.nonceDataAvailabilityMode,a.feeDataAvailabilityMode,a.resourceBounds,a.tip,a.paymasterData);throw Error("Invalid Tx version for hash calculation")}function lp(a){if([hv.ETransactionVersion.V3,hv.ETransactionVersion.F3].includes(a.version))return le(a.contractAddress,a.classHash,a.compiledConstructorCalldata,a.salt,a.version,a.chainId,a.nonce,a.nonceDataAvailabilityMode,a.feeDataAvailabilityMode,a.resourceBounds,a.tip,a.paymasterData);throw Error("Invalid Tx version for hash calculation")}hr({},{calculateDeclareTransactionHash:()=>lj,calculateDeployAccountTransactionHash:()=>lk,calculateL2MessageTxHash:()=>lm,calculateTransactionHash:()=>ll,calculateTransactionHashCommon:()=>li,computeHashOnElements:()=>lh}),hr({},{starkCurve:()=>ex,weierstrass:()=>ey});var lq="COMPILED_CLASS_V1";function lr(a){let b=!1,c=[];for(let d of a)'"'===d&&!1==(c.length>0&&"\\"===c.slice(-1)[0])&&(b=!b),b?c.push(d):c.push(":"===d?": ":","===d?", ":d);return c.join("")}function ls(a,b){return"attributes"===a||"accessible_scopes"===a?Array.isArray(b)&&0===b.length?void 0:b:"debug_info"===a?null:null===b?void 0:b}function lt(a){return a.map(a=>BigInt(jI(a)))}function lu(a,b){return a.flatMap((a,c)=>[BigInt(a.selector),BigInt(a.offset),...b[c]])}function lv(a,b){return ex.pedersen(BigInt(a),BigInt(b))}function lw(a){return[...a,a.length].reduce((a,b)=>ex.pedersen(BigInt(a),BigInt(b)),0).toString()}var lx=lw;function ly(a,b,c,d){let e=lw(k1.compile(c));return ja(BigInt(lw([jO("0x535441524b4e45545f434f4e54524143545f41444452455353"),d,a,b,e]))%h$)}function lz(a){let{abi:b,program:c}=a,d=lr(iX({abi:b,program:c},ls));return hH(ex.keccak(hB(d)).toString(16))}function lA(a){let b=i3(a)?iV(a):a,c=ja(hX),d=lw(b.entry_points_by_type.EXTERNAL.flatMap(a=>[a.selector,a.offset])),e=lw(b.entry_points_by_type.L1_HANDLER.flatMap(a=>[a.selector,a.offset])),f=lw(b.entry_points_by_type.CONSTRUCTOR.flatMap(a=>[a.selector,a.offset])),g=lw(b.program.builtins.map(a=>jI(a))),h=lz(b),i=lw(b.program.data);return lw([c,d,e,f,g,h,i])}function lB(a,b){return ja(ex.poseidonHash(BigInt(a),BigInt(b)))}function lC(a){return ja(ev(a.map(a=>BigInt(a))))}function lD(a){let b=a.flatMap(a=>[BigInt(a.selector),BigInt(a.offset),ev(lt(a.builtins))]);return ev(b)}function lE(a){let b=a.bytecode.map(a=>BigInt(a)),c=a.bytecode_segment_lengths??[],d=0,e=c.flatMap(a=>{let c=b.slice(d,d+=a);return[BigInt(a),ev(c)]});return 1n+ev(e)}function lF(a){let b=BigInt(jI(lq)),c=lD(a.entry_points_by_type.EXTERNAL),d=lD(a.entry_points_by_type.L1_HANDLER),e=lD(a.entry_points_by_type.CONSTRUCTOR),f=a.bytecode_segment_lengths?lE(a):ev(a.bytecode.map(a=>BigInt(a)));return ja(ev([b,c,d,e,f]))}function lG(a){return ev(a.flatMap(a=>[BigInt(a.selector),BigInt(a.function_idx)]))}function lH(a){let b,c=BigInt(jI("CONTRACT_CLASS_V0.1.0")),d=lG(a.entry_points_by_type.EXTERNAL),e=lG(a.entry_points_by_type.L1_HANDLER),f=lG(a.entry_points_by_type.CONSTRUCTOR),g=(b=lr(iX(a.abi,null)),BigInt(hH(ex.keccak(hB(b)).toString(16)))),h=ev(a.sierra_program.map(a=>BigInt(a)));return ja(ev([c,d,e,f,g,h]))}function lI(a){var b;let c=[],d=new DataView(new ArrayBuffer(32));for(let b of a){let a=0xffffffffffffffffn&b,e=(0xffffffffffffffff0000000000000000n&b)>>64n,f=(0xffffffffffffffff00000000000000000000000000000000n&b)>>128n,g=(0xffffffffffffffff000000000000000000000000000000000000000000000000n&b)>>192n;if(d.setBigUint64(0,g,!1),d.setBigUint64(8,f,!1),d.setBigUint64(16,e,!1),d.setBigUint64(24,a,!1),b<0x8000000000000000n){let a=d.getUint32(24,!1),b=d.getUint32(28,!1);c.push(a,b)}else{let a=0x80000000|d.getUint32(0,!1),b=d.getUint32(4,!1),e=d.getUint32(8,!1),f=d.getUint32(12,!1),g=d.getUint32(16,!1),h=d.getUint32(20,!1),i=d.getUint32(24,!1),j=d.getUint32(28,!1);c.push(a,b,e,f,g,h,i,j)}}let e=new ArrayBuffer(4*c.length),f=new DataView(e);for(let a=0;a<c.length;a++)f.setUint32(4*a,c[a],!0);let g=(b=new Uint8Array(e),iv.get("blake")?.(b)||eF(b,{dkLen:32})),h=0n;for(let a=0;a<32;a++)h|=BigInt(g[a])<<BigInt(8*a);return h%hY}function lJ(a){let b=a.flatMap(a=>[BigInt(a.selector),BigInt(a.offset),lI(lt(a.builtins))]);return lI(b)}function lK(a){let b=a.bytecode.map(a=>BigInt(a)),c=a.bytecode_segment_lengths;if(!c)return lI(b);let[d,e]=function a(b,c){if("number"==typeof c){let a=[];for(let d=0;d<c;d++){let c=b.next();if(c.done)throw Error("Bytecode length mismatch");a.push(c.value)}return[c,lI(a)]}let d=c.map(c=>a(b,c)),e=lI(d.flatMap(([a,b])=>[BigInt(a),b]))+1n;return[d.reduce((a,[b])=>a+b,0),e]}(b[Symbol.iterator](),c);if(d!==b.length)throw Error(`Bytecode length mismatch: expected ${b.length}, got ${d}`);return e}function lL(a){return ja(lI([BigInt(jI(lq)),lJ(a.entry_points_by_type.EXTERNAL),lJ(a.entry_points_by_type.L1_HANDLER),lJ(a.entry_points_by_type.CONSTRUCTOR),lK(a)]))}function lM(a){let b=a.version?ja(a.version):iz.V3;return b===iz.V3||b===iz.F3}function lN(a,b){let c=a.split("."),d=b.split(".");return c.every((a,b)=>"*"===a||a===d[b])}function lO(a,b={allowAnyPatchVersion:!1}){return Object.values(ip).some(c=>{var d;let e;return lN(b.allowAnyPatchVersion?(e=(d=c).split(".")).length<3?d:`${e[0]}.${e[1]}.*`:c,a)})}function lP(a){let b=i3(a)?iV(a):a;return"sierra_program"in b?lH(b):lA(b)}function lQ(a,b=iu){return function(a,b){let c=a.split(".").map(Number),d=b.split(".").map(Number),e=Math.max(c.length,d.length);for(let a=0;a<e;a+=1){let b=c[a]||0,e=d[a]||0;if(b>e)return 1;if(b<e)return -1}return 0}(b,iu)>=0?lL(a):lF(a)}function lR(a){return hE(gW(i3(a)?a:iX(a)))}function lS(a){return Array.isArray(a)?a:iV(hz(g$(hD(a))))}function lT(){return d9(d5.randomPrivateKey())}function lU(a){if(!a)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(a))return a.map(a=>ja(a));try{let{r:b,s:c}=a;return[ja(b),ja(c)]}catch(a){throw Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function lV(a){return jh(lU(a))}function lW(a){return ji(lU(a))}function lX(){return lY(l_(),!1)}function lY(a,b=iv.get("resourceBoundsOverhead")){return{l2_gas:{max_amount:jp(a.l2_gas_consumed,!1!==b?b.l2_gas.max_amount:0),max_price_per_unit:jp(a.l2_gas_price,!1!==b?b.l2_gas.max_price_per_unit:0)},l1_gas:{max_amount:jp(a.l1_gas_consumed,!1!==b?b.l1_gas.max_amount:0),max_price_per_unit:jp(a.l1_gas_price,!1!==b?b.l1_gas.max_price_per_unit:0)},l1_data_gas:{max_amount:jp(a.l1_data_gas_consumed,!1!==b?b.l1_data_gas.max_amount:0),max_price_per_unit:jp(a.l1_data_gas_price,!1!==b?b.l1_data_gas.max_price_per_unit:0)}}}function lZ(a){return{resourceBounds:a,overall_fee:a.l1_gas.max_amount*a.l1_gas.max_price_per_unit+a.l1_data_gas.max_amount*a.l1_data_gas.max_price_per_unit+a.l2_gas.max_amount*a.l2_gas.max_price_per_unit,unit:"FRI"}}function l$(a,b=iv.get("resourceBoundsOverhead")){return jp(a.l1_gas_consumed,!1!==b?b.l1_gas.max_amount:0)*jp(a.l1_gas_price,!1!==b?b.l1_gas.max_price_per_unit:0)+jp(a.l1_data_gas_consumed,!1!==b?b.l1_data_gas.max_amount:0)*jp(a.l1_data_gas_price,!1!==b?b.l1_data_gas.max_price_per_unit:0)+jp(a.l2_gas_consumed,!1!==b?b.l2_gas.max_amount:0)*jp(a.l2_gas_price,!1!==b?b.l2_gas.max_price_per_unit:0)}function l_(){return{l1_gas_consumed:"0",l1_gas_price:"0",l1_data_gas_consumed:"0",l1_data_gas_price:"0",l2_gas_consumed:"0",l2_gas_price:"0",overall_fee:"0",unit:"FRI"}}function l0(a){if(a===iC.L1)return iD.L1;if(a===iC.L2)return iD.L2;throw Error("EDAM conversion")}function l1(a,b){let c=b?ja(b):ja(a);if(!Object.values(iB).includes(c))throw Error(`${b?"providedVersion":"defaultVersion"} ${c} is not ETransactionVersion`);return c}function l2(a){if(!a)return;let b=ja(a);if(b===iz.V0)return iz.F0;if(b===iz.V1)return iz.F1;if(b===iz.V2)return iz.F2;if(b===iz.V3)return iz.F3;throw Error(`toFeeVersion: ${b} is not supported`)}function l3(a){return{tip:a.tip||0,paymasterData:a.paymasterData||[],accountDeploymentData:a.accountDeploymentData||[],nonceDataAvailabilityMode:a.nonceDataAvailabilityMode||iC.L1,feeDataAvailabilityMode:a.feeDataAvailabilityMode||iC.L1,resourceBounds:a.resourceBounds??lX()}}function l4(a){return hH(hF(dY(ja(a),!1)))}function l5(a){let b=a=>{if(i2(a))return ja(a);if(i5(a)){let c={};return Object.keys(a).forEach(d=>{c[d]=b(a[d])}),c}return a};return b(a)}function l6(a){let b=a=>{if(i3(a))return BigInt(a);if(i5(a)){let c={};return Object.keys(a).forEach(d=>{c[d]=b(a[d])}),c}return a};return b(a)}function l7(a){return"sierra_program"in(i3(a)?iV(a):a)}function l8(a,b){let c={...a};if(l7(a.contract)&&(!a.compiledClassHash&&a.casm&&(c.compiledClassHash=lQ(a.casm,b)),!c.compiledClassHash))throw Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(c.classHash=a.classHash??lP(a.contract),!c.classHash)throw Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return c}function l9(){return hL(hF(g5.utils.randomPrivateKey()))}function ma(a){jg(a,hU,2n**160n-1n,"Ethereum Address ");let b=hH(hG(ja(a)).padStart(40,"0"));return iZ(!!b.match(/^(0x)?[0-9a-f]{40}$/),"Invalid Ethereum Address Format"),b}hr({},{ZeroFeeEstimate:()=>l_,compressProgram:()=>lR,decompressProgram:()=>lS,formatSignature:()=>lU,getFullPublicKey:()=>l4,intDAM:()=>l0,randomAddress:()=>lT,resourceBoundsToBigInt:()=>l6,resourceBoundsToEstimateFeeResponse:()=>lZ,resourceBoundsToHexString:()=>l5,signatureToDecimalArray:()=>lV,signatureToHexArray:()=>lW,toFeeVersion:()=>l2,toOverheadOverallFee:()=>l$,toOverheadResourceBounds:()=>lY,toTransactionVersion:()=>l1,v3Details:()=>l3,zeroResourceBounds:()=>lX}),hr({},{ethRandomPrivateKey:()=>l9,validateAndParseEthAddress:()=>ma});var mb="u">typeof globalThis&&globalThis.fetch.bind(globalThis)||a.g.fetch.bind(a.g)||(()=>{throw new kt("'fetch()' not detected, use the 'baseFetch' constructor parameter to set it")});function mc(a){return new Promise(b=>{setTimeout(b,a)})}function md(a){let b={...a};return delete b.sierra_program_debug_info,b.abi=lr(iX(a.abi)),b.sierra_program=lr(iX(a.sierra_program)),b.sierra_program=lR(b.sierra_program),b}function me(a){let b=i3(a)?iV(a):a;return l7(a)?md(b):{...b,..."program"in b&&{program:lR(b.program)}}}function mf(a){return i3(a.abi)?iV(a.abi):a.abi}hr({},{Block:()=>mk,createSierraContractClass:()=>md,extractAbi:()=>mf,getDefaultNodeUrl:()=>mg,getDefaultNodes:()=>mh,getSupportedRpcVersions:()=>mi,parseContract:()=>me,validBlockTags:()=>mj,wait:()=>mc});var mg=(a,b=!1,c)=>{b||ix.info("Using default public node url, please provide nodeUrl in provider options!");let d=mh(c??iv.get("rpcVersion"))[a??il.SN_SEPOLIA],e=Math.floor(Math.random()*d.length);return d[e]};function mh(a){let b=function(a){let[b,c]=a.replace(/^v/,"").split(".");return`v${b}_${c}`}(a);return Object.fromEntries(Object.entries(ir).map(([a,c])=>[a,c.map(a=>`${a}${b}`)]))}function mi(){return[...new Set(Object.values(ip))]}var mj=Object.values(iL),mk=class{hash=null;number=null;tag=null;setIdentifier(a){if(i3(a))if(jD(a))this.number=parseInt(a,10);else if(i6(a))this.hash=a;else if(mj.includes(a))this.tag=a;else throw TypeError(`Block identifier unmanaged: ${a}`);else i2(a)?this.hash=ja(a):i0(a)?this.number=a:this.tag=iL.LATEST;if(i0(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(a){this.setIdentifier(a)}get queryIdentifier(){return null!==this.number?`blockNumber=${this.number}`:null!==this.hash?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return null!==this.number?{block_number:this.number}:null!==this.hash?{block_hash:this.hash}:this.tag}set identifier(a){this.setIdentifier(a)}valueOf=()=>this.number;toString=()=>this.hash};function ml(a,b){return Array.isArray(a)&&"__compiled__"in a?a:Array.isArray(a)&&Array.isArray(a[0])&&"__compiled__"in a[0]?a[0]:b()}hr({},{fromCallsToExecuteCalldata:()=>mn,fromCallsToExecuteCalldata_cairo1:()=>mo,getCompiledCalldata:()=>ml,getExecuteCalldata:()=>mp,getVersionsByType:()=>mq,transformCallsToMulticallArrays:()=>mm});var mm=a=>{let b=[],c=[];return a.forEach(a=>{let d=k1.compile(a.calldata||[]);b.push({to:i8(a.contractAddress).toString(10),selector:i8(jv(a.entrypoint)).toString(10),data_offset:c.length.toString(),data_len:d.length.toString()}),c.push(...d)}),{callArray:b,calldata:k1.compile({calldata:c})}},mn=a=>{let{callArray:b,calldata:c}=mm(a);return[...k1.compile({callArray:b}),...c]},mo=a=>{let b=a.map(a=>({contractAddress:a.contractAddress,entrypoint:a.entrypoint,calldata:Array.isArray(a.calldata)&&"__compiled__"in a.calldata?a.calldata:k1.compile(a.calldata)}));return k1.compile({orderCalls:b})},mp=(a,b="0")=>"1"===b?mo(a):mn(a);function mq(a){return"fee"===a?{v3:iz.F3}:{v3:iz.V3}}var mr={headers:{"Content-Type":"application/json"},blockIdentifier:iL.LATEST,retries:200},ms=class{id="RPC081";channelSpecVersion=ip.v0_8_1;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(a){const{baseFetch:b,batch:c,blockIdentifier:d,chainId:e,headers:f,nodeUrl:g,retries:h,specVersion:i,transactionRetryIntervalFallback:j,waitMode:k}=a||{};Object.values(il).includes(g)?this.nodeUrl=mg(g,a?.default,this.channelSpecVersion):g?this.nodeUrl=g:this.nodeUrl=mg(void 0,a?.default,this.channelSpecVersion),this.baseFetch=b||iv.get("fetch")||mb,this.blockIdentifier=d??mr.blockIdentifier,this.chainId=e,this.headers={...mr.headers,...f},this.retries=h??mr.retries,this.specVersion=i,this.transactionRetryIntervalFallback=j,this.waitMode=k??!1,this.requestId=0,i0(c)&&(this.batchClient=new iY({nodeUrl:this.nodeUrl,headers:this.headers,interval:c,baseFetch:this.baseFetch,rpcMethods:{}})),ix.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(a){this.chainId=a}fetch(a,b,c=0){let d={id:c,jsonrpc:"2.0",method:a,...b&&{params:b}};return this.baseFetch(this.nodeUrl,{method:"POST",body:iX(d),headers:this.headers})}errorHandler(a,b,c,d){if(c)throw new ku(c,a,b);if(d instanceof kt)throw d;if(d)throw Error(d.message)}async fetchEndpoint(a,b){try{if(this.batchClient){let{error:c,result:d}=await this.batchClient.fetch(a,b,this.requestId+=1);return this.errorHandler(a,b,c),d}let c=await this.fetch(a,b,this.requestId+=1),{error:d,result:e}=await c.json();return this.errorHandler(a,b,d),e}catch(c){throw this.errorHandler(a,b,c?.response?.data,c),c}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){let a=await this.fetchEndpoint("starknet_specVersion");if(lN(this.channelSpecVersion,a)||ix.error(it.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!lO(a))throw new kt(`${it.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=a}return this.specVersion}getMessagesStatus(a){let b=ja(a);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:b})}getStorageProof(a=[],b=[],c=[],d=this.blockIdentifier){let e=new mk(d).identifier,f=ji(a),g=ji(b);return this.fetchEndpoint("starknet_getStorageProof",{block_id:e,class_hashes:f,contract_addresses:g,contracts_storage_keys:c})}getCompiledCasm(a){let b=ja(a);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:b})}getNonceForAddress(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:c,block_id:d})}async getStarknetVersion(a=this.blockIdentifier){return(await this.getBlockWithTxHashes(a)).starknet_version}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:b})}getBlockWithTxs(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:b})}getBlockWithReceipts(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:b})}getBlockStateUpdate(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:b})}getBlockTransactionsTraces(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:b})}getBlockTransactionCount(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:b})}getTransactionByHash(a){let b=ja(a);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:b})}getTransactionByBlockIdAndIndex(a,b){let c=new mk(a).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:c,index:b})}getTransactionReceipt(a){let b=ja(a);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:b})}getTransactionTrace(a){let b=ja(a);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:b})}getTransactionStatus(a){let b=ja(a);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:b})}simulateTransaction(a,b={}){let{blockIdentifier:c=this.blockIdentifier,skipValidate:d=!0,skipFeeCharge:e=!0}=b,f=new mk(c).identifier,g=[];return d&&g.push(_.ESimulationFlag.SKIP_VALIDATE),e&&g.push(_.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:f,transactions:a.map(a=>this.buildTransaction(a)),simulation_flags:g})}async waitForTransaction(a,b){let c,d=ja(a),e=b?.retries??this.retries,f=b?.lifeCycleRetries??3,g=!1,h=!1,i=b?.retryInterval??this.transactionRetryIntervalDefault,j=b?.errorStates??[_.ETransactionStatus.REJECTED],k=b?.successStates??[_.ETransactionStatus.ACCEPTED_ON_L2,_.ETransactionStatus.ACCEPTED_ON_L1],l={[aP.ETransactionStatus.RECEIVED]:it.txEvictedFromMempool,[aP.ETransactionStatus.PRE_CONFIRMED]:it.consensusFailed,[aP.ETransactionStatus.CANDIDATE]:it.txFailsBlockBuildingValidation},m=[];for(;!g;){await mc(i);try{c=await this.getTransactionStatus(d),m.push(c.finality_status);let a=c.execution_status,b=c.finality_status;if(!b)throw Error("waiting for transaction status");if(j.includes(a)||j.includes(b)){let d=`${a}: ${b}`,e=Error(d);throw e.response=c,h=!0,e}(k.includes(a)||k.includes(b))&&(g=!0)}catch(a){if(a instanceof Error&&h)throw a;if(a instanceof ku&&a.isType("TXN_HASH_NOT_FOUND")){ix.info("txLife: ",m);let a=l[m.at(-1)];if(a&&f<=0)throw Error(a);f-=1}if(e<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}e-=1}let n=null;for(;null===n;){try{n=await this.getTransactionReceipt(d)}catch(a){if(e<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}e-=1,await mc(i)}return n}getStorageAt(a,b,c=this.blockIdentifier){let d=ja(a),e=jd(b),f=new mk(c).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:d,key:e,block_id:f})}getClassHashAt(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:d,contract_address:c})}getClass(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:c,block_id:d})}getClassAt(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:d,contract_address:c})}async getEstimateFee(a,{blockIdentifier:b=this.blockIdentifier,skipValidate:c=!0}={}){let d=new mk(b).identifier,e={simulation_flags:c?[_.ESimulationFlag.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:a.map(a=>this.buildTransaction(a,"fee")),block_id:d,...e})}async invoke(a,b){let c;if(lM(b))if(iE(b.resourceBounds))c=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:_.ETransactionType.INVOKE,sender_address:a.contractAddress,calldata:k1.toHex(a.calldata),version:_.ETransactionVersion.V3,signature:lW(a.signature),nonce:ja(b.nonce),resource_bounds:l5(b.resourceBounds),tip:ja(b.tip),paymaster_data:b.paymasterData.map(a=>ja(a)),account_deployment_data:b.accountDeploymentData.map(a=>ja(a)),nonce_data_availability_mode:b.nonceDataAvailabilityMode,fee_data_availability_mode:b.feeDataAvailabilityMode}});else throw Error(it.SWOldV3);else throw Error(it.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await c).transaction_hash):c}async declare({contract:a,signature:b,senderAddress:c,compiledClassHash:d},e){let f;if(l7(a)&&lM(e))if(iE(e.resourceBounds))f=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:_.ETransactionType.DECLARE,sender_address:c,compiled_class_hash:d||"",version:_.ETransactionVersion.V3,signature:lW(b),nonce:ja(e.nonce),contract_class:{sierra_program:lS(a.sierra_program),contract_class_version:a.contract_class_version,entry_points_by_type:a.entry_points_by_type,abi:a.abi},resource_bounds:l5(e.resourceBounds),tip:ja(e.tip),paymaster_data:e.paymasterData.map(a=>ja(a)),account_deployment_data:e.accountDeploymentData.map(a=>ja(a)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode}});else throw Error(it.SWOldV3);else throw Error(it.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await f).transaction_hash):f}async deployAccount({classHash:a,constructorCalldata:b,addressSalt:c,signature:d},e){let f;if(lM(e))if(iE(e.resourceBounds))f=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:_.ETransactionType.DEPLOY_ACCOUNT,version:_.ETransactionVersion.V3,signature:lW(d),nonce:ja(e.nonce),contract_address_salt:ja(c||0),constructor_calldata:k1.toHex(b||[]),class_hash:ja(a),resource_bounds:l5(e.resourceBounds),tip:ja(e.tip),paymaster_data:e.paymasterData.map(a=>ja(a)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode}});else throw Error(it.SWOldV3);else throw Error(it.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await f).transaction_hash):f}callContract(a,b=this.blockIdentifier){let c=new mk(b).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:a.contractAddress,entry_point_selector:jv(a.entrypoint),calldata:k1.toHex(a.calldata)},block_id:c})}estimateMessageFee(a,b=this.blockIdentifier){let{from_address:c,to_address:d,entry_point_selector:e,payload:f}=a,g={from_address:ma(c),to_address:ja(d),entry_point_selector:jw(e),payload:jm(f)},h=new mk(b).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:g,block_id:h})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(a){return this.fetchEndpoint("starknet_getEvents",{filter:a})}buildTransaction(a,b){let c,d=mq(b);if(lM(a))c={signature:lW(a.signature),nonce:ja(a.nonce),resource_bounds:l5(a.resourceBounds),tip:ja(a.tip),paymaster_data:a.paymasterData.map(a=>ja(a)),nonce_data_availability_mode:a.nonceDataAvailabilityMode,fee_data_availability_mode:a.feeDataAvailabilityMode,account_deployment_data:a.accountDeploymentData.map(a=>ja(a))};else throw Error("v0,v1,v2 tx are not supported on RPC 0.8");if(a.type===_.ETransactionType.INVOKE)return{type:_.ETransactionType.INVOKE,sender_address:a.contractAddress,calldata:k1.toHex(a.calldata),version:ja(a.version||d.v3),...c};if(a.type===_.ETransactionType.DECLARE){if(!l7(a.contract))throw ix.error("Cairo 0 -  non Sierra v1 tx are not supported"),Error("Declaring non Sierra contract using RPC 0.8");return{type:a.type,contract_class:{...a.contract,sierra_program:lS(a.contract.sierra_program)},compiled_class_hash:a.compiledClassHash||"",sender_address:a.senderAddress,version:ja(a.version||d.v3),...c}}if(a.type===_.ETransactionType.DEPLOY_ACCOUNT){let{account_deployment_data:b,...e}=c;return{type:a.type,constructor_calldata:k1.toHex(a.constructorCalldata||[]),class_hash:ja(a.classHash),contract_address_salt:ja(a.addressSalt||0),version:ja(a.version||d.v3),...e}}throw Error("RPC buildTransaction received unknown TransactionType")}},mt={};hr(mt,{RpcChannel:()=>mv});var mu={headers:{"Content-Type":"application/json"},blockIdentifier:iL.LATEST,retries:200},mv=class{id="RPC090";channelSpecVersion=ip.v0_9_0;nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(a){const{baseFetch:b,batch:c,blockIdentifier:d,chainId:e,headers:f,nodeUrl:g,retries:h,specVersion:i,transactionRetryIntervalFallback:j,waitMode:k}=a||{};Object.values(il).includes(g)?this.nodeUrl=mg(g,a?.default,this.channelSpecVersion):g?this.nodeUrl=g:this.nodeUrl=mg(void 0,a?.default,this.channelSpecVersion),this.baseFetch=b||iv.get("fetch")||mb,this.blockIdentifier=d??mu.blockIdentifier,this.chainId=e,this.headers={...mu.headers,...f},this.retries=h??mu.retries,this.specVersion=i,this.transactionRetryIntervalFallback=j,this.waitMode=k??!1,this.requestId=0,i0(c)&&(this.batchClient=new iY({nodeUrl:this.nodeUrl,headers:this.headers,interval:c,baseFetch:this.baseFetch,rpcMethods:{}})),ix.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(a){this.chainId=a}fetch(a,b,c=0){let d={id:c,jsonrpc:"2.0",method:a,...b&&{params:b}};return this.baseFetch(this.nodeUrl,{method:"POST",body:iX(d),headers:this.headers})}errorHandler(a,b,c,d){if(c)throw new ku(c,a,b);if(d instanceof kt)throw d;if(d)throw Error(d.message)}async fetchEndpoint(a,b){try{if(this.batchClient){let{error:c,result:d}=await this.batchClient.fetch(a,b,this.requestId+=1);return this.errorHandler(a,b,c),d}let c=await this.fetch(a,b,this.requestId+=1),{error:d,result:e}=await c.json();return this.errorHandler(a,b,d),e}catch(c){throw this.errorHandler(a,b,c?.response?.data,c),c}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){let a=await this.fetchEndpoint("starknet_specVersion");if(lN(this.channelSpecVersion,a)||ix.error(it.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!lO(a))throw new kt(`${it.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=a}return this.specVersion}getMessagesStatus(a){let b=ja(a);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:b})}getStorageProof(a=[],b=[],c=[],d=this.blockIdentifier){let e=new mk(d).identifier,f=ji(a),g=ji(b);return this.fetchEndpoint("starknet_getStorageProof",{block_id:e,class_hashes:f,contract_addresses:g,contracts_storage_keys:c})}getCompiledCasm(a){let b=ja(a);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:b})}getNonceForAddress(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:c,block_id:d})}async getStarknetVersion(a=this.blockIdentifier){return(await this.getBlockWithTxHashes(a)).starknet_version}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:b})}getBlockWithTxs(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:b})}getBlockWithReceipts(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:b})}getBlockStateUpdate(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:b})}getBlockTransactionsTraces(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:b})}getBlockTransactionCount(a=this.blockIdentifier){let b=new mk(a).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:b})}getTransactionByHash(a){let b=ja(a);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:b})}getTransactionByBlockIdAndIndex(a,b){let c=new mk(a).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:c,index:b})}getTransactionReceipt(a){let b=ja(a);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:b})}getTransactionTrace(a){let b=ja(a);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:b})}getTransactionStatus(a){let b=ja(a);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:b})}simulateTransaction(a,b={}){let{blockIdentifier:c=this.blockIdentifier,skipValidate:d=!0,skipFeeCharge:e=!0}=b,f=new mk(c).identifier,g=[];return d&&g.push(aP.ESimulationFlag.SKIP_VALIDATE),e&&g.push(aP.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:f,transactions:a.map(a=>this.buildTransaction(a)),simulation_flags:g})}async waitForTransaction(a,b){let c,d=ja(a),e=b?.retries??this.retries,f=b?.lifeCycleRetries??3,g=!1,h=!1,i=b?.retryInterval??this.transactionRetryIntervalDefault,j=b?.errorStates??[],k=b?.successStates??[aP.ETransactionFinalityStatus.ACCEPTED_ON_L2,aP.ETransactionFinalityStatus.ACCEPTED_ON_L1],l={[aP.ETransactionStatus.RECEIVED]:it.txEvictedFromMempool,[aP.ETransactionStatus.PRE_CONFIRMED]:it.consensusFailed,[aP.ETransactionStatus.CANDIDATE]:it.txFailsBlockBuildingValidation},m=[];for(;!g;){await mc(i);try{c=await this.getTransactionStatus(d),m.push(c.finality_status);let a=c.execution_status,b=c.finality_status;if(!b)throw Error("waiting for transaction status");if(j.includes(a)||j.includes(b)){let d=`${a}: ${b}`,e=Error(d);throw e.response=c,h=!0,e}(k.includes(a)||k.includes(b))&&(g=!0)}catch(a){if(a instanceof Error&&h)throw a;if(a instanceof ku&&a.isType("TXN_HASH_NOT_FOUND")){ix.info("txLife: ",m);let a=l[m.at(-1)];if(a&&f<=0)throw Error(a);f-=1}if(e<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}e-=1}let n=null;for(;null===n;){try{n=await this.getTransactionReceipt(d)}catch(a){if(e<=0)throw Error(`waitForTransaction timed-out with retries ${this.retries}`)}e-=1,await mc(i)}return n}async fastWaitForTransaction(a,b,c,d){let e,f=BigInt(c),g=d?.retries??50,h=d?.retryInterval??500,i=[aP.ETransactionExecutionStatus.REVERTED],j=[aP.ETransactionFinalityStatus.ACCEPTED_ON_L2,aP.ETransactionFinalityStatus.ACCEPTED_ON_L1,aP.ETransactionFinalityStatus.PRE_CONFIRMED],k=new Date().getTime();for(;g>0;){await mc(h),e=await this.getTransactionStatus(a),ix.info(`${g} ${JSON.stringify(e)} ${(new Date().getTime()-k)/1e3}s.`);let c=e.execution_status??"",d=e.finality_status;if(i.includes(c)){let a=Error(`${c}: ${d}`);throw a.response=e,a}if(j.includes(d)){let a=f;for(;a===f&&g>0;){if(a=BigInt(await this.getNonceForAddress(b,iL.PRE_CONFIRMED)),ix.info(`${g} Checking new nonce ${a} ${(new Date().getTime()-k)/1e3}s.`),a!==f)return!0;await mc(h),g-=1}break}g-=1}return!1}getStorageAt(a,b,c=this.blockIdentifier){let d=ja(a),e=jd(b),f=new mk(c).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:d,key:e,block_id:f})}getClassHashAt(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:d,contract_address:c})}getClass(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:c,block_id:d})}getClassAt(a,b=this.blockIdentifier){let c=ja(a),d=new mk(b).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:d,contract_address:c})}async getEstimateFee(a,{blockIdentifier:b=this.blockIdentifier,skipValidate:c=!0}={}){let d=new mk(b).identifier,e={simulation_flags:c?[aP.ESimulationFlag.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:a.map(a=>this.buildTransaction(a,"fee")),block_id:d,...e})}async invoke(a,b){let c=this.buildTransaction({type:hv.ETransactionType.INVOKE,...a,...b},"transaction"),d=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:c});return this.waitMode?this.waitForTransaction((await d).transaction_hash):d}async declare(a,b){let c=this.buildTransaction({type:hv.ETransactionType.DECLARE,...a,...b},"transaction"),d=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:c});return this.waitMode?this.waitForTransaction((await d).transaction_hash):d}async deployAccount(a,b){let c=this.buildTransaction({type:hv.ETransactionType.DEPLOY_ACCOUNT,...a,...b},"transaction"),d=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:c});return this.waitMode?this.waitForTransaction((await d).transaction_hash):d}callContract(a,b=this.blockIdentifier){let c=new mk(b).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:a.contractAddress,entry_point_selector:jv(a.entrypoint),calldata:k1.toHex(a.calldata)},block_id:c})}estimateMessageFee(a,b=this.blockIdentifier){let{from_address:c,to_address:d,entry_point_selector:e,payload:f}=a,g={from_address:ma(c),to_address:ja(d),entry_point_selector:jw(e),payload:jm(f)},h=new mk(b).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:g,block_id:h})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(a){return this.fetchEndpoint("starknet_getEvents",{filter:a})}buildTransaction(a,b){let c=mq(b);iZ(lM(a),it.legacyTxRPC08Message),iZ("transaction"!==b||iE(a.resourceBounds),it.SWOldV3);let d={signature:lW(a.signature),nonce:ja(a.nonce),resource_bounds:l5(a.resourceBounds),tip:ja(a.tip),paymaster_data:a.paymasterData.map(a=>ja(a)),nonce_data_availability_mode:a.nonceDataAvailabilityMode,fee_data_availability_mode:a.feeDataAvailabilityMode,account_deployment_data:a.accountDeploymentData.map(a=>ja(a)),version:l1(c.v3,a.version)};if(a.type===hv.ETransactionType.INVOKE)return{type:aP.ETransactionType.INVOKE,sender_address:a.contractAddress,calldata:k1.toHex(a.calldata),...d};if(a.type===hv.ETransactionType.DECLARE)return iZ(l7(a.contract),"Declaring non Sierra contract using RPC 0.9"),{type:a.type,contract_class:{...a.contract,sierra_program:lS(a.contract.sierra_program)},compiled_class_hash:a.compiledClassHash||"",sender_address:a.senderAddress,...d};if(a.type===hv.ETransactionType.DEPLOY_ACCOUNT){let{account_deployment_data:b,...c}=d;return{type:a.type,constructor_calldata:k1.toHex(a.constructorCalldata||[]),class_hash:ja(a.classHash),contract_address_salt:ja(a.addressSalt||0),...c}}throw Error("RPC buildTransaction received unknown TransactionType")}},mw=("u">typeof WebSocket&&WebSocket||"u">typeof globalThis&&globalThis.WebSocket||a.g.WebSocket,class{resourceBoundsOverhead;constructor(a){this.resourceBoundsOverhead=a}parseGetBlockResponse(a){return a}parseTransactionReceipt(a){return a}parseFeeEstimateBulkResponse(a){return a.map(a=>({resourceBounds:lY(a,this.resourceBoundsOverhead),overall_fee:l$(a,this.resourceBoundsOverhead),unit:a.unit}))}parseSimulateTransactionResponse(a){return a.map(a=>({transaction_trace:a.transaction_trace,resourceBounds:lY(a.fee_estimation,this.resourceBoundsOverhead),overall_fee:l$(a.fee_estimation,this.resourceBoundsOverhead),unit:a.fee_estimation.unit}))}parseContractClassResponse(a){return{...a,abi:i3(a.abi)?JSON.parse(a.abi):a.abi}}parseL1GasPriceResponse(a){return a.l1_gas_price.price_in_wei}});function mx(a){return"0x3"===a.version&&"tip"in a&&i3(a.tip)&&("INVOKE"===a.type||"DECLARE"===a.type||"DEPLOY_ACCOUNT"===a.type)}function my(a,b=!0){return a.transactions.filter(mx).map(a=>BigInt(a.tip)).filter(a=>b||a>0n)}function mz(a,b){return{minTip:0n,maxTip:0n,averageTip:0n,medianTip:0n,modeTip:0n,recommendedTip:0n,p90Tip:0n,p95Tip:0n,metrics:{blocksAnalyzed:a,transactionsTipsFound:b}}}function mA(a,b){let c=b/100*(a.length-1),d=Math.floor(c),e=Math.ceil(c);if(d===e)return a[d];let f=a[d],g=(a[e]-f)*BigInt(Math.round(1e3*(c-d)))/1000n;return f+g}function mB(a){let b;iZ(a.length>0,"Cannot calculate statistics from empty tip array");let c=a.reduce((a,b)=>b<a?b:a,h0.max),d=a.reduce((a,b)=>b>a?b:a,0n),e=a.reduce((a,b)=>a+b,0n)/BigInt(a.length),f=[...a].sort((a,b)=>a<b?-1:+(a>b)),g=Math.floor(f.length/2);b=f.length%2==0?(f[g-1]+f[g])/2n:f[g];let h=new Map;a.forEach(a=>{h.set(a,(h.get(a)||0)+1)});let{modeTip:i}=Array.from(h.entries()).reduce((a,[b,c])=>c>a.maxCount||c===a.maxCount&&b<a.modeTip?{maxCount:c,modeTip:b}:a,{maxCount:0,modeTip:0n}),j=mA(f,90);return{minTip:c,maxTip:d,averageTip:e,medianTip:b,modeTip:i,recommendedTip:b,p90Tip:j,p95Tip:mA(f,95)}}async function mC(a,b){try{let c=await a.getBlockWithTxs(b);if(i0(c.block_number))return c.block_number;return(await a.getBlockLatestAccepted()).block_number}catch(a){throw new kt(`Failed to determine starting block number: ${a instanceof Error?a.message:"Unknown error"}`)}}async function mD(a,b){try{return await a.getBlockWithTxs(b)}catch(a){return ix.warn(`Failed to fetch block ${b}:`,a),null}}function mE(a,b){let c=Math.max(0,a-b+1);return Array.from({length:a-c+1},(b,c)=>a-c)}async function mF(a,b){return Promise.all(b.map(async b=>{try{return await a.getBlockWithTxs(b)}catch(a){return ix.warn(`Failed to fetch block ${b} in parallel:`,a),null}}))}async function mG(a,b,c){let{maxBlocks:d=3,minTxsNecessary:e=10,includeZeroTips:f=!0}=c;try{let c=await mC(a,b),g=mE(c,d),h=await mF(a,g),i=h.filter(a=>null!==a).flatMap(a=>my(a,f)),j=h.filter(a=>null!==a).length;if(i.length<e)return ix.error(`Insufficient transaction data: found ${i.length} V3 transactions with tips in ${j} blocks (block range: ${Math.max(0,c-d+1)}-${c}). Required: ${e} transactions. Consider reducing minTxsNecessary or increasing maxBlocks.`),mz(j,i);return{...mB(i),metrics:{blocksAnalyzed:j,transactionsTipsFound:i}}}catch(a){throw new kt(`Failed to analyze tip statistics (parallel): ${a instanceof Error?a.message:"Unknown error"}`)}}async function mH(a,b,c){let{maxBlocks:d=3,minTxsNecessary:e=10,includeZeroTips:f=!0}=c;try{let c=await mC(a,b),g=mE(c,d),h=[],i=0;for(let b of g){let c=await mD(a,b);if(c){i+=1;let a=my(c,f);if(h.push(...a),h.length>=e)break}}if(h.length<e)return ix.error(`Insufficient transaction data: found ${h.length} V3 transactions with tips in ${i} blocks (block range: ${Math.max(0,c-d+1)}-${c}). Required: ${e} transactions. Consider reducing minTxsNecessary or increasing maxBlocks.`),mz(i,h);return{...mB(h),metrics:{blocksAnalyzed:i,transactionsTipsFound:h}}}catch(a){throw new kt(`Failed to analyze tip statistics (sequential): ${a instanceof Error?a.message:"Unknown error"}`)}}async function mI(a,b=iL.LATEST,c={}){let{maxBlocks:d=3,minTxsNecessary:e=10}=c;return(iZ(Number.isInteger(d),"maxBlocks parameter must be an integer"),iZ(d>=1,"maxBlocks parameter must be greater than or equal to 1"),iZ(d<=100,"maxBlocks parameter must be less than or equal to 100 for performance"),iZ(Number.isInteger(e),"minTxsNecessary parameter must be an integer"),iZ(e>=1,"minTxsNecessary parameter must be greater than or equal to 1"),a.channel.batchClient)?mG(a,b,c):mH(a,b,c)}var mJ=class a{statusReceipt;value;constructor(b){Object.assign(this,b);const[c,d]=a.isSuccess(b)?["SUCCEEDED",b]:a.isReverted(b)?["REVERTED",b]:["ERROR",Error("Unknown response type")];Object.defineProperties(this,{statusReceipt:{value:c,writable:!1,enumerable:!1,configurable:!1},value:{value:d,writable:!1,enumerable:!1,configurable:!1},match:{value:a=>c in a?a[c](d):a._(),writable:!1,enumerable:!1,configurable:!1},isSuccess:{value:()=>"SUCCEEDED"===c,writable:!1,enumerable:!1,configurable:!1},isReverted:{value:()=>"REVERTED"===c,writable:!1,enumerable:!1,configurable:!1},isError:{value:()=>"ERROR"===c,writable:!1,enumerable:!1,configurable:!1}})}match;isSuccess;isReverted;isError;static isSuccess(a){return a.execution_status===iK.SUCCEEDED}static isReverted(a){return a.execution_status===iK.REVERTED}},mK={[iK.SUCCEEDED]:{statusReceipt:"SUCCEEDED",getBaseData:a=>a,getValue:a=>a},[iK.REVERTED]:{statusReceipt:"REVERTED",getBaseData:a=>a,getValue:a=>a}};function mL(a){let b,c=mK[a.execution_status];if(c){let{statusReceipt:d,getBaseData:e,getValue:f}=c,g=f(a);b={...e(a),statusReceipt:d,value:g,match:a=>d in a?a[d](g):a._(),isSuccess:()=>"SUCCEEDED"===d,isReverted:()=>"REVERTED"===d,isError:()=>!1}}else{let a=Error("Unknown response type");b={statusReceipt:"ERROR",value:a,match:b=>"ERROR"in b?b.ERROR(a):b._(),isSuccess:()=>!1,isReverted:()=>!1,isError:()=>!0}}return Object.setPrototypeOf(b,mJ.prototype),Object.defineProperty(b,"constructor",{value:mJ,writable:!1,enumerable:!1,configurable:!1}),b}hr({},{encodeData:()=>mZ,encodeType:()=>mW,encodeValue:()=>mY,getDependencies:()=>mV,getMessageHash:()=>m_,getStructHash:()=>m$,getTypeHash:()=>mX,isMerkleTreeType:()=>mU,prepareSelector:()=>mT,validateTypedData:()=>mS,verifyMessage:()=>m0}),hr({},{MerkleTree:()=>mM,proofMerklePath:()=>function a(b,c,d,e=lv){if(0===d.length)return b===c;let[f,...g]=d;return a(b,mM.hash(c,f,e),g,e)}});var mM=class a{leaves;branches=[];root;hashMethod;constructor(a,b=lv){this.hashMethod=b,this.leaves=a,this.root=this.build(a)}build(b){if(1===b.length)return b[0];b.length!==this.leaves.length&&this.branches.push(b);let c=[];for(let d=0;d<b.length;d+=2)d+1===b.length?c.push(a.hash(b[d],"0x0",this.hashMethod)):c.push(a.hash(b[d],b[d+1],this.hashMethod));return this.build(c)}static hash(a,b,c=lv){let[d,e]=[BigInt(a),BigInt(b)].sort((a,b)=>a>=b?1:-1);return c(d,e)}getProof(b,c=this.leaves,d=[]){let e=c.indexOf(b);if(-1===e)throw Error("leaf not found");if(1===c.length)return d;let f=e%2==0,g=(f?c[e+1]:c[e-1])??"0x0",h=[...d,g],i=this.leaves.length===c.length?-1:this.branches.findIndex(a=>a.length===c.length),j=this.branches[i+1]??[this.root];return this.getProof(a.hash(f?b:g,f?g:b,this.hashMethod),j,h)}},mN={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},mO={[hv.TypedDataRevision.ACTIVE]:{domain:"StarknetDomain",hashMethod:lC,hashMerkleMethod:lB,escapeTypeString:a=>`"${a}"`,presetTypes:mN},[hv.TypedDataRevision.LEGACY]:{domain:"StarkNetDomain",hashMethod:lx,hashMerkleMethod:lv,escapeTypeString:a=>a,presetTypes:{}}};function mP(a,b,{min:c,max:d}){let e=BigInt(a);iZ(e>=c&&e<=d,`${e} (${b}) is out of bounds [${c}, ${d}]`)}function mQ({types:a,domain:b}){return mO[hv.TypedDataRevision.ACTIVE].domain in a&&b.revision?.toString()===hv.TypedDataRevision.ACTIVE?hv.TypedDataRevision.ACTIVE:mO[hv.TypedDataRevision.LEGACY].domain in a&&(b.revision??hv.TypedDataRevision.LEGACY)===hv.TypedDataRevision.LEGACY?hv.TypedDataRevision.LEGACY:void 0}function mR(a){try{return ja(a)}catch(b){if(i3(a))return ja(jI(a));throw Error(`Invalid BigNumberish: ${a}`)}}function mS(a){return!!(a.message&&a.primaryType&&a.types&&mQ(a))}function mT(a){return i6(a)?a:jv(a)}function mU(a){return"merkletree"===a.type}function mV(a,b,c=[],d="",e=hv.TypedDataRevision.LEGACY){let f=[b];return"*"===b[b.length-1]?f=[b.slice(0,-1)]:e===hv.TypedDataRevision.ACTIVE&&("enum"===b?f=[d]:b.match(/^\(.*\)$/)&&(f=b.slice(1,-1).split(",").map(a=>"*"===a[a.length-1]?a.slice(0,-1):a))),f.filter(b=>!c.includes(b)&&a[b]).reduce((b,c)=>[...b,...[c,...a[c].reduce((b,c)=>[...b,...mV(a,c.type,b,c.contains,e).filter(a=>!b.includes(a))],[])].filter(a=>!b.includes(a))],[])}function mW(a,b,c=hv.TypedDataRevision.LEGACY){let d=c===hv.TypedDataRevision.ACTIVE?{...a,...mO[c].presetTypes}:a,[e,...f]=mV(d,b,void 0,void 0,c),g=e?[e,...f.sort()]:[],h=mO[c].escapeTypeString;return g.map(a=>{let b=d[a].map(a=>{let b="enum"===a.type&&c===hv.TypedDataRevision.ACTIVE?a.contains:a.type,d=b.match(/^\(.*\)$/)?`(${b.slice(1,-1).split(",").map(a=>a?h(a):a).join(",")})`:h(b);return`${h(a.name)}:${d}`});return`${h(a)}(${b})`}).join("")}function mX(a,b,c=hv.TypedDataRevision.LEGACY){return jv(mW(a,b,c))}function mY(a,b,c,d={},e=hv.TypedDataRevision.LEGACY){if(a[b])return[b,m$(a,b,c,e)];if(mO[e].presetTypes[b])return[b,m$(mO[e].presetTypes,b,c,e)];if(b.endsWith("*")){let d=c.map(c=>mY(a,b.slice(0,-1),c,void 0,e)[1]);return[b,mO[e].hashMethod(d)]}switch(b){case"enum":if(e===hv.TypedDataRevision.ACTIVE){let[f,g]=Object.entries(c)[0],h=a[d.parent].find(a=>a.name===d.key),i=a[h.contains],j=i.find(a=>a.name===f),k=i.indexOf(j),l=j.type.slice(1,-1).split(",").map((b,c)=>b?mY(a,b,g[c],void 0,e)[1]:b);return[b,mO[e].hashMethod([k,...l])]}return[b,mR(c)];case"merkletree":{let b=function(a,b){if(b.parent&&b.key){let c=a[b.parent].find(a=>a.name===b.key);if(!mU(c))throw Error(`${b.key} is not a merkle tree`);if(c.contains.endsWith("*"))throw Error(`Merkle tree contain property must not be an array but was given ${b.key}`);return c.contains}return"raw"}(a,d),{root:f}=new mM(c.map(c=>mY(a,b,c,void 0,e)[1]),mO[e].hashMerkleMethod);return["felt",f]}case"selector":return["felt",mT(c)];case"string":if(e===hv.TypedDataRevision.ACTIVE){let a=jL(c),d=[a.data.length,...a.data,a.pending_word,a.pending_word_len];return[b,mO[e].hashMethod(d)]}return[b,mR(c)];case"i128":if(e===hv.TypedDataRevision.ACTIVE){let a=BigInt(c);return mP(a,b,ib),[b,mR(a<0n?hY+a:a)]}return[b,mR(c)];case"timestamp":case"u128":return e===hv.TypedDataRevision.ACTIVE&&mP(c,b,h6),[b,mR(c)];case"felt":case"shortstring":return e===hv.TypedDataRevision.ACTIVE&&mP(mR(c),b,h0),[b,mR(c)];case"ClassHash":case"ContractAddress":return e===hv.TypedDataRevision.ACTIVE&&mP(c,b,h0),[b,mR(c)];case"bool":return e===hv.TypedDataRevision.ACTIVE&&iZ(i1(c),`Type mismatch for ${b} ${c}`),[b,mR(c)];default:if(e===hv.TypedDataRevision.ACTIVE)throw Error(`Unsupported type: ${b}`);return[b,mR(c)]}}function mZ(a,b,c,d=hv.TypedDataRevision.LEGACY){let[e,f]=(a[b]??mO[d].presetTypes[b]).reduce(([e,f],g)=>{if(void 0===c[g.name]||null===c[g.name]&&"enum"!==g.type)throw Error(`Cannot encode data: missing data for '${g.name}'`);let h=c[g.name],i={parent:b,key:g.name},[j,k]=mY(a,g.type,h,i,d);return[[...e,j],[...f,k]]},[["felt"],[mX(a,b,d)]]);return[e,f]}function m$(a,b,c,d=hv.TypedDataRevision.LEGACY){return mO[d].hashMethod(mZ(a,b,c,d)[1])}function m_(a,b){if(!mS(a))throw Error("Typed data does not match JSON schema");let c=mQ(a),{domain:d,hashMethod:e}=mO[c];return e([jI("StarkNet Message"),m$(a.types,d,a.domain,c),b,m$(a.types,a.primaryType,a.message,c)])}function m0(a,b,c,d){let e=mS(a);if(!jr(a)&&!e)throw Error("message has a wrong format.");if(e&&void 0===d)throw Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(e&&!jr(d))throw Error("accountAddress shall be a BigNumberish");let f=e?m_(a,d):ja(a),g=Array.isArray(b)?new ex.Signature(BigInt(b[0]),BigInt(b[1])):b,h=ja(c);return ex.verify(g,f,h)}async function m1(a,b,c,d,e,f){let g,h=mS(b);if(!jr(b)&&!h)throw Error("message has a wrong format.");if(!jr(d))throw Error("accountAddress shall be a BigNumberish");let i=h?m_(b,d):ja(b),j=f||{okResponse:[],nokResponse:["0x0","0x00"],error:["argent/invalid-signature","0x617267656e742f696e76616c69642d7369676e6174757265","is invalid, with respect to the public key","0x697320696e76616c6964","INVALID_SIG","0x494e56414c49445f534947"]};for(let b of e?[e]:["isValidSignature","is_valid_signature"])try{let e=await a.callContract({contractAddress:ja(d),entrypoint:b,calldata:k1.compile({hash:i8(i).toString(),signature:lU(c)})});if(j.nokResponse.includes(e[0].toString()))return!1;if(0===j.okResponse.length||j.okResponse.includes(e[0].toString()))return!0;throw Error("signatureVerificationResponse Error: response is not part of known responses")}catch(a){if(j.error.some(b=>a.message.includes(b)))return!1;g=a}throw Error(`Signature verification Error: ${g}`)}async function m2(a,b=a.blockIdentifier){let c=await a.getBlockWithTxHashes(b);return{l1DataGasPrice:BigInt(c.l1_data_gas_price.price_in_fri),l1GasPrice:BigInt(c.l1_gas_price.price_in_fri),l2GasPrice:BigInt(c.l2_gas_price.price_in_fri)}}var m3=class{responseParser;channel;constructor(a){if(a&&"channel"in a)this.channel=a.channel,this.responseParser="responseParser"in a?a.responseParser:new mw;else{if(a&&a.specVersion)if(lN("0.8",a.specVersion))this.channel=new iy.RpcChannel({...a,waitMode:!1});else if(lN("0.9",a.specVersion))this.channel=new mt.RpcChannel({...a,waitMode:!1});else throw Error(`unsupported channel for spec version: ${a.specVersion}`);else if(lN("0.8",iv.get("rpcVersion")))this.channel=new iy.RpcChannel({...a,waitMode:!1});else if(lN("0.9",iv.get("rpcVersion")))this.channel=new mt.RpcChannel({...a,waitMode:!1});else throw Error("unable to define spec version for channel");this.responseParser=new mw(a?.resourceBoundsOverhead)}}static async create(a){let b=new iy.RpcChannel({...a}),c=await b.getSpecVersion();if(lO(c)||ix.warn(`Using incompatible node spec version ${c}`),lN("0.8",c))return new this({...a,specVersion:ip.v0_8_1});if(lN("0.9",c))return new this({...a,specVersion:ip.v0_9_0});throw new kt(`Provided RPC node specification version ${c} is not compatible with the SDK. SDK supported RPC versions ${Object.keys(ip).toString()}`)}fetch(a,b,c=0){return this.channel.fetch(a,b,c)}async getChainId(){return this.channel.getChainId()}readSpecVersion(){return this.channel.readSpecVersion()}async getSpecVersion(){return this.channel.getSpecVersion()}setUpSpecVersion(){return this.channel.setUpSpecVersion()}async getStarknetVersion(a){return this.channel.getStarknetVersion(a)}async getNonceForAddress(a,b){return this.channel.getNonceForAddress(a,b)}async getBlock(a){return this.channel.getBlockWithTxHashes(a).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.channel.getBlockLatestAccepted()}async getBlockNumber(){return this.channel.getBlockNumber()}async getBlockWithTxHashes(a){return this.channel.getBlockWithTxHashes(a)}async getBlockWithTxs(a){return this.channel.getBlockWithTxs(a)}async waitForBlock(a=iL.LATEST,b=5e3){if(a===iL.LATEST||"pending"===a)return;let c=await this.getBlockNumber(),d=a===iL.PRE_CONFIRMED?c+1:Number(ja(a));if(d<=c)return;let{retries:e}=this.channel,f=e,g=!1;for(;!g;)if(await this.getBlockNumber()===d?g=!0:await mc(b),(f-=1)<=0)throw Error(`waitForBlock() timed-out after ${e} tries.`)}async getL1GasPrice(a){return this.channel.getBlockWithTxHashes(a).then(this.responseParser.parseL1GasPriceResponse)}async getGasPrices(a=this.channel.blockIdentifier){if(this.channel instanceof mt.RpcChannel)return m2(this.channel,a);throw new kt("Unsupported method for RPC version")}async getL1MessageHash(a){let b=await this.channel.getTransactionByHash(a);iZ("L1_HANDLER"===b.type,"This L2 transaction is not a L1 message.");let{calldata:c,contract_address:d,entry_point_selector:e,nonce:f}=b;return jx([c[0],d,f,e,c.length-1,...c.slice(1)])}async getBlockWithReceipts(a){return this.channel.getBlockWithReceipts(a)}getStateUpdate=this.getBlockStateUpdate;async getBlockStateUpdate(a){return this.channel.getBlockStateUpdate(a)}async getBlockTransactionsTraces(a){return this.channel.getBlockTransactionsTraces(a)}async getBlockTransactionCount(a){return this.channel.getBlockTransactionCount(a)}async getTransaction(a){return this.channel.getTransactionByHash(a)}async getTransactionByHash(a){return this.channel.getTransactionByHash(a)}async getTransactionByBlockIdAndIndex(a,b){return this.channel.getTransactionByBlockIdAndIndex(a,b)}async getTransactionReceipt(a){let b=await this.channel.getTransactionReceipt(a);return mL(this.responseParser.parseTransactionReceipt(b))}async getTransactionTrace(a){return this.channel.getTransactionTrace(a)}async getTransactionStatus(a){return this.channel.getTransactionStatus(a)}async getSimulateTransaction(a,b){return this.channel.simulateTransaction(a,b).then(a=>this.responseParser.parseSimulateTransactionResponse(a))}async waitForTransaction(a,b){return mL(await this.channel.waitForTransaction(a,b))}async fastWaitForTransaction(a,b,c,d){if(this.channel instanceof mt.RpcChannel)return await this.channel.fastWaitForTransaction(a,b,c,d);throw Error("Unsupported channel type")}async getStorageAt(a,b,c){return this.channel.getStorageAt(a,b,c)}async getClassHashAt(a,b){return this.channel.getClassHashAt(a,b)}async getClassByHash(a){return this.getClass(a)}async getClass(a,b){return this.channel.getClass(a,b).then(this.responseParser.parseContractClassResponse)}async getClassAt(a,b){return this.channel.getClassAt(a,b).then(this.responseParser.parseContractClassResponse)}async getContractVersion(a,b,{blockIdentifier:c=this.channel.blockIdentifier,compiler:d=!0}={}){let e;if(a)e=await this.getClassAt(a,c);else if(b)e=await this.getClass(b,c);else throw Error("getContractVersion require contractAddress or classHash");return l7(e)?d?{cairo:"1",compiler:kf(e.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getInvokeEstimateFee(a,b,c,d){return(await this.getEstimateFeeBulk([{type:hv.ETransactionType.INVOKE,...a,...b}],{blockIdentifier:c,skipValidate:d}))[0]}async getDeclareEstimateFee(a,b,c,d){return(await this.getEstimateFeeBulk([{type:hv.ETransactionType.DECLARE,...a,...b}],{blockIdentifier:c,skipValidate:d}))[0]}async getDeployAccountEstimateFee(a,b,c,d){return(await this.getEstimateFeeBulk([{type:hv.ETransactionType.DEPLOY_ACCOUNT,...a,...b}],{blockIdentifier:c,skipValidate:d}))[0]}async getEstimateFeeBulk(a,b){return this.channel.getEstimateFee(a,b).then(a=>this.responseParser.parseFeeEstimateBulkResponse(a))}async invokeFunction(a,b){return this.channel.invoke(a,b)}async declareContract(a,b){return this.channel.declare(a,b)}async deployAccountContract(a,b){return this.channel.deployAccount(a,b)}async callContract(a,b){return this.channel.callContract(a,b)}async estimateMessageFee(a,b){return this.channel.estimateMessageFee(a,b)}async getSyncingStats(){return this.channel.getSyncingStats()}async getEvents(a){if(this.channel instanceof iy.RpcChannel||this.channel instanceof mt.RpcChannel)return this.channel.getEvents(a);throw Error("Unsupported channel type")}async verifyMessageInStarknet(a,b,c,d,e){return m1(this,a,b,c,d,e)}async isClassDeclared(a,b){let c;if(!a.classHash&&"contract"in a)c=l8(a,await this.channel.getStarknetVersion()).classHash;else if(a.classHash)c=a.classHash;else throw Error("contractClassIdentifier type not satisfied");try{return await this.getClass(c,b) instanceof Object}catch(a){if(a instanceof kt)return!1;throw a}}async prepareInvocations(a){let b=[];for(let c of a)c.type===hv.ETransactionType.DECLARE?await this.isClassDeclared("payload"in c?c.payload:c)||b.unshift(c):b.push(c);return b}async getL1MessagesStatus(a){return this.channel.getMessagesStatus(a)}async getStorageProof(a,b,c,d){return this.channel.getStorageProof(a,b,c,d)}async getCompiledCasm(a){return this.channel.getCompiledCasm(a)}async getEstimateTip(a,b={}){return mI(this,a,b)}},m4={};hr(m4,{StarknetIdContract:()=>ne,StarknetIdIdentityContract:()=>ng,StarknetIdMulticallContract:()=>ni,StarknetIdPfpContract:()=>nm,StarknetIdPopContract:()=>no,StarknetIdVerifierContract:()=>nk,dynamicCallData:()=>ns,dynamicFelt:()=>nr,execution:()=>nq,getStarknetIdContract:()=>nf,getStarknetIdIdentityContract:()=>nh,getStarknetIdMulticallContract:()=>nj,getStarknetIdPfpContract:()=>nn,getStarknetIdPopContract:()=>np,getStarknetIdVerifierContract:()=>nl,isStarkDomain:()=>nt,useDecoded:()=>nc,useEncoded:()=>nd});var m5="abcdefghijklmnopqrstuvwxyz0123456789-",m6=BigInt(m5.length+1),m7="",m8=BigInt(m5.length),m9=BigInt(m7.length),na=BigInt(m7.length+1);function nb(a){let b=0;for(;a.endsWith(m7[m7.length-1]);)a=a.substring(0,a.length-1),b+=1;return[a,b]}function nc(a){let b="";return(a.forEach(a=>{for(;a!==hU;){let c=a%m6;if(a/=m6,c===BigInt(m5.length)){let c=a/na;if(c===hU){let d=a%na;a=c,d===hU?b+=m5[0]:b+=m7[Number(d)-1]}else b+=m7[Number(a%m9)],a/=m9}else b+=m5[Number(c)]}let[c,d]=nb(b);d&&(b=c+(d%2==0?m7[m7.length-1].repeat(d/2-1)+m7[0]+m5[1]:m7[m7.length-1].repeat((d-1)/2+1))),b+="."}),b)?b.concat("stark"):b}function nd(a){let b=BigInt(0),c=BigInt(1);if(a.endsWith(m7[0]+m5[1])){let[b,c]=nb(a.substring(0,a.length-2));a=b+m7[m7.length-1].repeat(2*(c+1))}else{let[b,c]=nb(a);c&&(a=b+m7[m7.length-1].repeat(1+2*(c-1)))}for(let d=0;d<a.length;d+=1){let e=a[d],f=m5.indexOf(e),g=BigInt(m5.indexOf(e));-1!==f?d===a.length-1&&a[d]===m5[0]?(b+=c*m8,c*=m6*m6):(b+=c*g,c*=m6):-1!==m7.indexOf(e)&&(b+=c*m8,c*=m6,b+=c*BigInt(+(d===a.length-1)+m7.indexOf(e)),c*=m9)}return b}var ne={MAINNET:"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",TESTNET_SEPOLIA:"0x154bc2e1af9260b9e66af0e9c46fc757ff893b3ff6a85718a810baf1474"};function nf(a){switch(a){case im.SN_MAIN:return ne.MAINNET;case im.SN_SEPOLIA:return ne.TESTNET_SEPOLIA;default:throw Error("Starknet.id is not yet deployed on this network")}}var ng={MAINNET:"0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af",TESTNET_SEPOLIA:"0x3697660a0981d734780731949ecb2b4a38d6a58fc41629ed611e8defda"};function nh(a){switch(a){case im.SN_MAIN:return ng.MAINNET;case im.SN_SEPOLIA:return ng.TESTNET_SEPOLIA;default:throw Error("Starknet.id verifier contract is not yet deployed on this network")}}var ni="0x034ffb8f4452df7a613a0210824d6414dbadcddce6c6e19bf4ddc9e22ce5f970";function nj(a){switch(a){case im.SN_MAIN:case im.SN_SEPOLIA:return ni;default:throw Error("Starknet.id multicall contract is not yet deployed on this network")}}var nk={MAINNET:"0x07d14dfd8ee95b41fce179170d88ba1f0d5a512e13aeb232f19cfeec0a88f8bf",TESTNET_SEPOLIA:"0x60B94fEDe525f815AE5E8377A463e121C787cCCf3a36358Aa9B18c12c4D566"};function nl(a){switch(a){case im.SN_MAIN:return nk.MAINNET;case im.SN_SEPOLIA:return nk.TESTNET_SEPOLIA;default:throw Error("Starknet.id verifier contract is not yet deployed on this network")}}var nm={MAINNET:"0x070aaa20ec4a46da57c932d9fd89ca5e6bb9ca3188d3df361a32306aff7d59c7",TESTNET_SEPOLIA:"0x9e7bdb8dabd02ea8cfc23b1d1c5278e46490f193f87516ed5ff2dfec02"};function nn(a){switch(a){case im.SN_MAIN:return nm.MAINNET;case im.SN_SEPOLIA:return nm.TESTNET_SEPOLIA;default:throw Error("Starknet.id profile picture verifier contract is not yet deployed on this network")}}var no={MAINNET:"0x0293eb2ba9862f762bd3036586d5755a782bd22e6f5028320f1d0405fd47bff4",TESTNET_SEPOLIA:"0x15ae88ae054caa74090b89025c1595683f12edf7a4ed2ad0274de3e1d4a"};function np(a){switch(a){case im.SN_MAIN:return no.MAINNET;case im.SN_SEPOLIA:return no.TESTNET_SEPOLIA;default:throw Error("Starknet.id proof of personhood verifier contract is not yet deployed on this network")}}function nq(a,b,c){return new kk({Static:a,IfEqual:b?ki(b[0],b[1],b[2]):void 0,IfNotEqual:c?ki(c[0],c[1],c[2]):void 0})}function nr(a,b){return new kk({Hardcoded:a,Reference:b?ki(b[0],b[1]):void 0})}function ns(a,b,c){return new kk({Hardcoded:a,Reference:b?ki(b[0],b[1]):void 0,ArrayReference:c?ki(c[0],c[1]):void 0})}function nt(a){return/^(?:[a-z0-9-]{1,48}(?:[a-z0-9-]{1,48}[a-z0-9-])?\.)*[a-z0-9-]{1,48}\.stark$/.test(a)}var nu=class a{async getStarkName(b,c){return a.getStarkName(this,b,c)}async getAddressFromStarkName(b,c){return a.getAddressFromStarkName(this,b,c)}async getStarkProfile(b,c,d,e,f,g,h){return a.getStarkProfile(this,b,c,d,e,f,g,h)}static async getStarkName(a,b,c){let d=await a.getChainId(),e=c??nf(d);try{let c=(await a.callContract({contractAddress:e,entrypoint:"address_to_domain",calldata:k1.compile({address:b,hint:[]})})).map(a=>BigInt(a)).slice(1),d=nc(c);if(!d)throw Error("Starkname not found");return d}catch(a){if(a instanceof Error&&"Starkname not found"===a.message)throw a;throw Error("Could not get stark name")}}static async getAddressFromStarkName(a,b,c){let d=b.endsWith(".stark")?b:`${b}.stark`;if(!nt(d))throw Error("Invalid domain, must be a valid .stark domain");let e=await a.getChainId(),f=c??nf(e);try{let b=d.replace(".stark","").split(".").map(a=>nd(a).toString(10));return(await a.callContract({contractAddress:f,entrypoint:"domain_to_address",calldata:k1.compile({domain:b,hint:[]})}))[0]}catch{throw Error("Could not get address from stark name")}}static async getStarkProfile(a,b,c,d,e,f,g,h){let i=await a.getChainId(),j=c??nf(i),k=d??nh(i),l=e??nl(i),m=f??nn(i),n=g??np(i),o=h??nj(i);try{let c=[{execution:nq({}),to:ns(j),selector:ns(jv("address_to_domain")),calldata:[ns(b),ns("0")]},{execution:nq({}),to:nr(j),selector:nr(jv("domain_to_id")),calldata:[ns(void 0,void 0,[0,0])]},{execution:nq({}),to:nr(k),selector:nr(jv("get_verifier_data")),calldata:[ns(void 0,[1,0]),ns(jI("twitter")),ns(l),ns("0")]},{execution:nq({}),to:nr(k),selector:nr(jv("get_verifier_data")),calldata:[ns(void 0,[1,0]),ns(jI("github")),ns(l),ns("0")]},{execution:nq({}),to:nr(k),selector:nr(jv("get_verifier_data")),calldata:[ns(void 0,[1,0]),ns(jI("discord")),ns(l),ns("0")]},{execution:nq({}),to:nr(k),selector:nr(jv("get_verifier_data")),calldata:[ns(void 0,[1,0]),ns(jI("proof_of_personhood")),ns(n),ns("0")]},{execution:nq({}),to:nr(k),selector:nr(jv("get_verifier_data")),calldata:[ns(void 0,[1,0]),ns(jI("nft_pp_contract")),ns(m),ns("0")]},{execution:nq({}),to:nr(k),selector:nr(jv("get_extended_verifier_data")),calldata:[ns(void 0,[1,0]),ns(jI("nft_pp_id")),ns("2"),ns(m),ns("0")]},{execution:nq(void 0,void 0,[6,0,0]),to:nr(void 0,[6,0]),selector:nr(jv("tokenURI")),calldata:[ns(void 0,[7,1]),ns(void 0,[7,2])]}],d=await a.callContract({contractAddress:o,entrypoint:"aggregate",calldata:k1.compile({calls:c})});if(Array.isArray(d)){let a=parseInt(d[0],16),b=[],c=1;for(let e=0;e<a;e+=1)if(c<d.length){let a=parseInt(d[c],16);c+=1;let e=d.slice(c,c+a);b.push(e),c+=a}else break;let e=nc(b[0].slice(1).map(a=>BigInt(a))),f="0x0"!==b[2][0]?BigInt(b[2][0]).toString():void 0,g="0x0"!==b[3][0]?BigInt(b[3][0]).toString():void 0,h="0x0"!==b[4][0]?BigInt(b[4][0]).toString():void 0,i="0x1"===b[5][0],j=("0x9"===d[0]?b[8].slice(1).map(a=>jJ(a)).join(""):void 0)||`https://starknet.id/api/identicons/${BigInt(b[1][0]).toString()}`;return{name:e,twitter:f,github:g,discord:h,proofOfPersonhood:i,profilePicture:j}}throw Error("Error while calling aggregate function")}catch(a){if(a instanceof Error)throw a;throw Error("Could not get user stark profile data from address")}}};function nv(a){return nd(a.endsWith(".brother")?a.replace(".brother",""):a)}function nw(a){let b=nc([a]);return b.endsWith(".stark")?b.replace(".stark",".brother"):b?`${b}.brother`:b}function nx(a){return im.SN_MAIN,"0x0212f1c57700f5a3913dd11efba540196aad4cf67772f7090c62709dd804fa74"}var ny=class a{async getBrotherName(b,c){return a.getBrotherName(this,b,c)}async getAddressFromBrotherName(b,c){return a.getAddressFromBrotherName(this,b,c)}async getBrotherProfile(b,c){return a.getBrotherProfile(this,b,c)}static async getBrotherName(a,b,c){let d=await a.getChainId(),e=c??nx(d);try{let c=await a.callContract({contractAddress:e,entrypoint:"getPrimary",calldata:k1.compile({user:b})});if(!c[0]||"0x0"===c[0])throw Error("Brother name not found");let d=BigInt(c[0]);return nw(d)}catch(a){if(a instanceof Error&&"Brother name not found"===a.message)throw a;throw Error("Could not get brother name")}}static async getAddressFromBrotherName(a,b,c){let d=b.endsWith(".brother")?b:`${b}.brother`;if(!d.endsWith(".brother"))throw Error("Invalid domain, must be a valid .brother domain");let e=await a.getChainId(),f=c??nx(e);try{let b=await a.callContract({contractAddress:f,entrypoint:"get_details_by_domain",calldata:k1.compile({domain:nv(d)})});if(!b[0]||"0x0"===b[1])throw Error("Could not get address from brother name");return b[1]}catch{throw Error("Could not get address from brother name")}}static async getBrotherProfile(a,b,c){let d=await a.getChainId(),e=c??nx(d);try{let c=await a.callContract({contractAddress:e,entrypoint:"getPrimary",calldata:k1.compile({user:b})});if(!c[0]||"0x0"===c[0])throw Error("Brother profile not found");let d=BigInt(c[0]),f=nw(d).replace(".brother",""),g=await a.callContract({contractAddress:e,entrypoint:"get_details_by_domain",calldata:k1.compile({domain:nv(f)})});return{name:f,resolver:g[1],tokenId:g[2],expiryDate:parseInt(g[3],16),lastTransferTime:parseInt(g[4],16)}}catch(a){if(a instanceof Error&&"Brother profile not found"===a.message)throw a;throw Error("Could not get brother profile")}}},nz=class extends hl(m3,nu,ny){},nA=new m3({default:!0}),nB=class{pk;constructor(a=ex.utils.randomPrivateKey()){this.pk=a instanceof Uint8Array?hF(a):ja(a)}async getPubKey(){return ex.getStarkKey(this.pk)}async signMessage(a,b){let c=m_(a,b);return this.signRaw(c)}async signTransaction(a,b){let c,d=mp(a,b.cairoVersion);if(Object.values(hv.ETransactionVersion3).includes(b.version))c=ln({...b,senderAddress:b.walletAddress,compiledCalldata:d,version:b.version,nonceDataAvailabilityMode:l0(b.nonceDataAvailabilityMode),feeDataAvailabilityMode:l0(b.feeDataAvailabilityMode)});else throw Error("unsupported signTransaction version");return this.signRaw(c)}async signDeployAccountTransaction(a){let b,c=k1.compile(a.constructorCalldata);if(Object.values(hv.ETransactionVersion3).includes(a.version))b=lp({...a,salt:a.addressSalt,compiledConstructorCalldata:c,version:a.version,nonceDataAvailabilityMode:l0(a.nonceDataAvailabilityMode),feeDataAvailabilityMode:l0(a.feeDataAvailabilityMode)});else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(b)}async signDeclareTransaction(a){let b;if(Object.values(hv.ETransactionVersion3).includes(a.version))b=lo({...a,version:a.version,nonceDataAvailabilityMode:l0(a.nonceDataAvailabilityMode),feeDataAvailabilityMode:l0(a.feeDataAvailabilityMode)});else throw Error("unsupported signDeclareTransaction version");return this.signRaw(b)}async signRaw(a){return ex.sign(a,this.pk)}};function nC(a){return new jS(a).toBigInt()}function nD(a){return jS.is(a)}function nE(a){return new jS(a).toUint256HexString()}function nF(a){let b,c=(b=hG(ja(i3(a)?hH(a):a)).padStart(64,"0"),hH(b));if(!c.match(/^(0x)?[0-9a-fA-F]{64}$/))throw Error("Invalid Address Format");return jg(c,hU,h$-1n,"Starknet Address"),c}function nG(a){return"calldata_len"in a?{To:a.to,Selector:a.selector,Calldata:a.calldata}:a}function nH(a){let b=a.calldata??[],c=Array.isArray(b)?b:k1.compile(b);return{to:a.contractAddress,selector:jv(a.entrypoint),calldata:c}}function nI(a,b){let c=nH(a);return"1"===b?{...c,calldata_len:c.calldata.length,calldata:c.calldata}:{To:c.to,Selector:c.selector,Calldata:c.calldata}}function nJ(a,b){return{name:"Account.execute_from_outside",version:b,chainId:a,..."2"===b?{revision:"1"}:{}}}function nK(a,b,c,d,e){return"1"===e?{types:iS,primaryType:"OutsideExecution",domain:nJ(a,e),message:{...b,nonce:c,calls_len:d.length,calls:d.map(a=>nI(a,e))}}:{types:iT,primaryType:"OutsideExecution",domain:nJ(a,e),message:{Caller:b.caller,Nonce:c,"Execute After":b.execute_after,"Execute Before":b.execute_before,Calls:d.map(a=>nI(a,e))}}}function nL(a){let b=a.outsideExecution,c=lU(a.signature);return k1.compile({outside_execution:b,signature:c})}function nM(a){return(Array.isArray(a)?a:[a]).map(a=>{let b;if("1"===a.version)b="execute_from_outside";else if("2"===a.version)b="execute_from_outside_v2";else throw Error("Unsupported OutsideExecution version");return{contractAddress:ja(a.signerAddress),entrypoint:b,calldata:nL(a)}})}async function nN(a,b,c){let d={contractAddress:ja(b),entrypoint:"supports_interface",calldata:[ja(c)]};try{let b=await a.callContract(d);return 0n!==BigInt(b[0])}catch{return!1}}hr({},{bnToUint256:()=>nE,isUint256:()=>nD,uint256ToBN:()=>nC}),hr({},{buildExecuteFromOutsideCall:()=>nM,buildExecuteFromOutsideCallData:()=>nL,getOutsideCall:()=>nH,getTypedData:()=>nK,toOutsideCallV2:()=>nG}),hr({},{supportsInterface:()=>nN}),hr({},{assertCallsAreStrictlyEqual:()=>nP,assertPaymasterTransactionSafety:()=>nQ,getDefaultPaymasterNodeUrl:()=>nO});var nO=(a,b=!1)=>{b||ix.info("Using default public node url, please provide nodeUrl in provider options!");let c=is[a??il.SN_SEPOLIA],d=Math.floor(Math.random()*c.length);return c[d]};function nP(a,b){let c="Provided calls are not strictly equal to the returned calls";iZ(b.length-1===a.length,`${c}: Expected ${a.length+1} calls, got ${b.length}`);for(let d=0;d<a.length;d+=1){let e=a[d],f=nG(b[d]),g=a=>i8(a).toString(16).toLowerCase();iZ(g(e.contractAddress)===g(f.To),`${c}: Contract address mismatch at call ${d}. Expected: ${e.contractAddress}, Got: ${f.To}`),iZ(jv(e.entrypoint)===f.Selector,`${c}: Entrypoint mismatch at call ${d}. Expected: ${e.entrypoint}, Got: ${f.Selector}`);let h=k1.toCalldata(e.calldata),i=k1.toCalldata(f.Calldata);iZ(h.length===i.length,`${c}: Calldata length mismatch at call ${d}. Expected length: ${h.length}, Got length: ${i.length}`);for(let a=0;a<h.length;a+=1)iZ(BigInt(h[a])===BigInt(i[a]),`${c}: Calldata value mismatch at call ${d}, parameter ${a}. Expected: ${h[a]}, Got: ${i[a]}`)}}var nQ=(a,b,c,d)=>{if("sponsored"!==c.feeMode.mode&&("invoke"===a.type||"deploy_and_invoke"===a.type)){var e,f;let g="calls"in a.typed_data.message?a.typed_data.message.calls:a.typed_data.message.Calls;if(nP(b,g),e=c.feeMode.gasToken,iZ(BigInt(nG(g[g.length-1]).To)===BigInt(e),"Gas token address is not equal to the provided gas token"),d){let b;iZ(a.fee.suggested_max_fee_in_gas_token<=d,"Gas token price is too high"),f=a.fee.suggested_max_fee_in_gas_token,b=nG(g[g.length-1]),iZ(BigInt(k1.toCalldata(b.Calldata)[1])===BigInt(f),"Gas token value is not equal to the provided gas fees")}}},nR=a=>"sponsored"===a.mode?{mode:"sponsored"}:{mode:"default",gas_token:a.gasToken},nS=a=>a?{execute_after:a.executeAfter||1,execute_before:a.executeBefore}:void 0,nT=a=>{var b;let c;return{version:a.version,feeMode:"sponsored"===(b=a.fee_mode).mode?{mode:"sponsored"}:{mode:"default",gasToken:b.gas_token},timeBounds:(c=a.time_bounds)?{executeAfter:c.execute_after,executeBefore:c.execute_before}:void 0}},nU={"Content-Type":"application/json"},nV=class a{nodeUrl;headers;baseFetch;requestId;constructor(b){if(b instanceof a){this.nodeUrl=b.nodeUrl,this.headers={...nU,...b.headers},this.baseFetch=b.baseFetch,this.requestId=b.requestId;return}if(b&&"nodeUrl"in b&&"headers"in b&&"baseFetch"in b){this.nodeUrl=b.nodeUrl??nO(void 0),this.headers={...nU,...b.headers},this.baseFetch=b.baseFetch??mb,this.requestId=0;return}const{nodeUrl:c,headers:d,baseFetch:e}=b||{};c&&Object.values(il).includes(c)?this.nodeUrl=nO(c,b?.default):c?this.nodeUrl=c:this.nodeUrl=nO(void 0,b?.default),this.baseFetch=e??mb,this.headers={...nU,...d},this.requestId=0}fetch(a,b,c=0){let d={id:c,jsonrpc:"2.0",method:a,...b&&{params:b}};return this.baseFetch(this.nodeUrl,{method:"POST",body:iX(d),headers:this.headers})}errorHandler(a,b,c,d){if(c)throw new ku(c,a,b);if(d instanceof kt)throw d;if(d)throw Error(d.message)}async fetchEndpoint(a,b){try{this.requestId+=1;let c=await this.fetch(a,b,this.requestId),{error:d,result:e}=await c.json();return this.errorHandler(a,b,d),e}catch(c){throw this.errorHandler(a,b,c?.response?.data,c),c}}async isAvailable(){return this.fetchEndpoint("paymaster_isAvailable")}async buildTransaction(a,b){let c;switch(a.type){case"invoke":case"deploy_and_invoke":c={...a,invoke:{user_address:a.invoke.userAddress,calls:a.invoke.calls.map(a=>({to:a.contractAddress,selector:jv(a.entrypoint),calldata:k1.toHex(a.calldata)}))}};break;default:c=a}let d={version:b.version,fee_mode:nR(b.feeMode),time_bounds:nS(b.timeBounds)},e=await this.fetchEndpoint("paymaster_buildTransaction",{transaction:c,parameters:d}),f={gas_token_price_in_strk:BigInt(e.fee.gas_token_price_in_strk),estimated_fee_in_strk:BigInt(e.fee.estimated_fee_in_strk),estimated_fee_in_gas_token:BigInt(e.fee.estimated_fee_in_gas_token),suggested_max_fee_in_strk:BigInt(e.fee.suggested_max_fee_in_strk),suggested_max_fee_in_gas_token:BigInt(e.fee.suggested_max_fee_in_gas_token)};switch(e.type){case"invoke":return{type:"invoke",typed_data:e.typed_data,parameters:nT(e.parameters),fee:f};case"deploy_and_invoke":return{type:"deploy_and_invoke",deployment:e.deployment,typed_data:e.typed_data,parameters:nT(e.parameters),fee:f};default:return{type:"deploy",deployment:e.deployment,parameters:nT(e.parameters),fee:f}}}async executeTransaction(a,b){let c;switch(a.type){case"invoke":case"deploy_and_invoke":c={...a,invoke:{user_address:a.invoke.userAddress,typed_data:a.invoke.typedData,signature:lW(a.invoke.signature)}};break;default:c=a}let d={version:b.version,fee_mode:nR(b.feeMode),time_bounds:nS(b.timeBounds)};return this.fetchEndpoint("paymaster_executeTransaction",{transaction:c,parameters:d})}async getSupportedTokens(){return this.fetchEndpoint("paymaster_getSupportedTokens").then(a=>a.map(a=>({token_address:a.token_address,decimals:a.decimals,priceInStrk:BigInt(a.price_in_strk)})))}},nW=new nV({default:!0}),nX=class{address;entryPoint;constructor(a,b){this.address=a??id.ADDRESS,this.entryPoint=b??id.ENTRYPOINT}buildDeployerCall(a,b){let c=[].concat(a).map(a=>{let{classHash:c,salt:d,unique:e=!0,constructorCalldata:f=[],abi:g}=a,h=ml(f,()=>{if(g){let a=new k1(g),b=Object.values(f);return a.validate(iM,"constructor",b),a.compile("constructor",b)}return k1.compile(f)}),i=d??lT();return{call:{contractAddress:ja(this.address),entrypoint:this.entryPoint,calldata:[c,i,jn(e),h.length,...h]},address:ly(e?ex.pedersen(b,i):i,c,h,e?this.address:0)}});return{calls:c.map(a=>a.call),addresses:c.map(a=>a.address)}}parseDeployerEvent(a){if(!a.events?.length)throw Error("Deployer emitted event is empty");let b=a.events.find(a=>ja(a.from_address)===ja(this.address))||{data:[]};return{transaction_hash:a.transaction_hash,contract_address:b.data[0],address:b.data[0],deployer:b.data[1],unique:b.data[2],classHash:b.data[3],calldata_len:b.data[4],calldata:b.data.slice(5,5+parseInt(b.data[4],16)),salt:b.data[b.data.length-1]}}},nY=new nX(id.ADDRESS,id.ENTRYPOINT);new nX(ic.ADDRESS,ic.ENTRYPOINT);var nZ=class extends nz{signer;address;cairoVersion;transactionVersion;paymaster;deployer;defaultTipType;constructor(a){const{provider:b,address:c,signer:d,cairoVersion:e,transactionVersion:f,paymaster:g,defaultTipType:h}=a;super(b),this.address=c.toLowerCase(),this.signer=i3(d)||d instanceof Uint8Array?new nB(d):d,e&&(this.cairoVersion=e.toString()),this.transactionVersion=f??iv.get("transactionVersion"),this.paymaster=g?new nV(g):nW,this.deployer=a.deployer??nY,this.defaultTipType=h??iv.get("defaultTipType"),ix.debug("Account setup",{transactionVersion:this.transactionVersion,cairoVersion:this.cairoVersion,channel:this.channel.id})}static async create(){throw new kt("Not supported")}async getNonce(a){return super.getNonceForAddress(this.address,a)}async getNonceSafe(a){try{return i8(a??await this.getNonce())}catch(a){return 0n}}async getCairoVersion(a){if(!this.cairoVersion){let{cairo:b}=a?await super.getContractVersion(void 0,a):await super.getContractVersion(this.address);this.cairoVersion=b}return this.cairoVersion}async estimateInvokeFee(a,b={}){let c=[{type:hv.ETransactionType.INVOKE,payload:[a].flat()}];return(await this.estimateFeeBulk(c,b))[0]}async estimateDeclareFee(a,b={}){iZ(l7(a.contract),"Declare fee estimation is not supported for Cairo0 contracts");let c=[{type:hv.ETransactionType.DECLARE,payload:l8(a,await this.channel.getStarknetVersion())}];return(await this.estimateFeeBulk(c,b))[0]}async estimateAccountDeployFee({classHash:a,addressSalt:b=0,constructorCalldata:c=[],contractAddress:d},e={}){let f=k1.compile(c),g=d??ly(b,a,f,0),h=[{type:hv.ETransactionType.DEPLOY_ACCOUNT,payload:{classHash:a,constructorCalldata:f,addressSalt:b,contractAddress:g}}];return(await this.estimateFeeBulk(h,e))[0]}async estimateDeployFee(a,b={}){let{calls:c}=this.deployer.buildDeployerCall(a,this.address);return this.estimateInvokeFee(c,b)}async estimateFeeBulk(a,b={}){if(!a.length)throw TypeError("Invocations should be non-empty array");if(b.resourceBounds)return[lZ(b.resourceBounds)];let{nonce:c,blockIdentifier:d,version:e,skipValidate:f}=b,g=await this.resolveDetailsWithTip(b),h=await this.accountInvocationsFactory(a,{...l3(g),versions:[l1(l2(this.transactionVersion)||iB.F3,e)],nonce:c,blockIdentifier:d,skipValidate:f});return super.getEstimateFeeBulk(h,{blockIdentifier:d,skipValidate:f})}async simulateTransaction(a,b={}){if(!a.length)throw TypeError("Invocations should be non-empty array");let{nonce:c,blockIdentifier:d,skipValidate:e=!0,skipExecute:f,version:g}=b,h=await this.resolveDetailsWithTip(b),i=await this.accountInvocationsFactory(a,{...l3(h),versions:[this.resolveTransactionVersion(g)],nonce:c,blockIdentifier:d,skipValidate:e});return super.getSimulateTransaction(i,{blockIdentifier:d,skipValidate:e,skipExecute:f})}async execute(a,b={}){let c=[a].flat(),d=await this.resolveDetailsWithTip(b),{resourceBounds:e}=b,f=e;f||(f=(await this.estimateInvokeFee(c,d)).resourceBounds);let g=(await this.accountInvocationsFactory([{type:hv.ETransactionType.INVOKE,payload:c}],{...l3(d),resourceBounds:f,versions:[this.resolveTransactionVersion(b.version)],nonce:b.nonce,skipValidate:!1}))[0];return this.invokeFunction({contractAddress:g.contractAddress,calldata:g.calldata,signature:g.signature},{...l3(d),resourceBounds:g.resourceBounds,nonce:g.nonce,version:g.version})}async fastExecute(a,b={},c={}){iZ(this.channel instanceof mt.RpcChannel,"Wrong Rpc version in Provider. At least Rpc v0.9 required."),iZ(this.channel.blockIdentifier===iL.PRE_CONFIRMED,"Provider needs to be initialized with `pre_confirmed` blockIdentifier option.");let d=BigInt(b.nonce??await this.getNonceForAddress(this.address,iL.PRE_CONFIRMED)),e={...b,nonce:d},f=await this.execute(a,e),g=await this.fastWaitForTransaction(f.transaction_hash,this.address,d,c);return{txResult:f,isReady:g}}async declareIfNot(a,b={}){let c=l8(a,await this.channel.getStarknetVersion());try{await this.getClassByHash(c.classHash)}catch(c){return this.declare(a,b)}return{transaction_hash:"",class_hash:c.classHash}}async declare(a,b={}){iZ(l7(a.contract),it.declareNonSierra);let c=l8(a,await this.channel.getStarknetVersion()),d=await this.resolveDetailsWithTip(b),{resourceBounds:e}=b,f=e;f||(f=(await this.estimateDeclareFee(a,d)).resourceBounds);let g=(await this.accountInvocationsFactory([{type:hv.ETransactionType.DECLARE,payload:c}],{...l3(d),resourceBounds:f,versions:[this.resolveTransactionVersion(b.version)],nonce:b.nonce,skipValidate:!1}))[0];return super.declareContract({senderAddress:g.senderAddress,signature:g.signature,contract:g.contract,compiledClassHash:g.compiledClassHash},{...l3(d),nonce:g.nonce,resourceBounds:g.resourceBounds,version:g.version})}async deploy(a,b={}){let{calls:c,addresses:d}=this.deployer.buildDeployerCall(a,this.address);return{...await this.execute(c,b),contract_address:d}}async deployContract(a,b={}){let c=await this.deploy(a,b),d=await this.waitForTransaction(c.transaction_hash,b);return this.deployer.parseDeployerEvent(d)}async declareAndDeploy(a,b={}){let c=await this.declareIfNot(a,b);if(""!==c.transaction_hash){let a=await this.waitForTransaction(c.transaction_hash,b);c={...c,...a}}let d=await this.deployContract({...a,classHash:c.class_hash},b);return{declare:{...c},deploy:d}}deploySelf=this.deployAccount;async deployAccount({classHash:a,constructorCalldata:b=[],addressSalt:c=0,contractAddress:d},e={}){let f=k1.compile(b),g=d??ly(c,a,f,0),h=await this.resolveDetailsWithTip(e),{resourceBounds:i}=e,j=i;j||(j=(await this.estimateAccountDeployFee({classHash:a,constructorCalldata:b,addressSalt:c,contractAddress:g},h)).resourceBounds);let k=(await this.accountInvocationsFactory([{type:hv.ETransactionType.DEPLOY_ACCOUNT,payload:{classHash:a,constructorCalldata:f,addressSalt:c,contractAddress:g}}],{...l3(h),resourceBounds:j,versions:[this.resolveTransactionVersion(e.version)],nonce:hU,skipValidate:!1}))[0];return super.deployAccountContract({classHash:k.classHash,addressSalt:k.addressSalt,constructorCalldata:k.constructorCalldata,signature:k.signature},{...l3(h),nonce:k.nonce,resourceBounds:k.resourceBounds,version:k.version})}async signMessage(a){return this.signer.signMessage(a,this.address)}async hashMessage(a){return m_(a,this.address)}async getSnip9Version(){return await nN(this,this.address,ih)?"2":await nN(this,this.address,ig)?"1":"0"}async isValidSnip9Nonce(a){try{let b={contractAddress:this.address,entrypoint:"is_valid_outside_execution_nonce",calldata:[ja(a)]},c=await this.callContract(b);return 0n!==BigInt(c[0])}catch(a){throw Error(`Failed to check if nonce is valid: ${a}`)}}async getSnip9Nonce(){let a=lT();return await this.isValidSnip9Nonce(a)?a:this.getSnip9Nonce()}async getOutsideTransaction(a,b,c,d){if(!i6(a.caller)&&"ANY_CALLER"!==a.caller)throw Error(`The caller ${a.caller} is not valid.`);let e=i6(a.caller)?a.caller:ie,f=[b].flat(),g=c??await this.getSnip9Version();if(!g)throw Error("This account is not handling outside transactions.");let h=d?ja(d):await this.getSnip9Nonce(),i=nK(await this.getChainId(),{caller:e,execute_after:a.execute_after,execute_before:a.execute_before},h,f,g),j=await this.signMessage(i);return{outsideExecution:{caller:e,nonce:h,execute_after:a.execute_after,execute_before:a.execute_before,calls:f.map(nH)},signature:j,signerAddress:this.address,version:g}}async executeFromOutside(a,b){let c=nM(a);return this.execute(c,b)}async resolveDetailsWithTip(a){return{...a,tip:a.tip??(await this.getEstimateTip())[this.defaultTipType]}}resolveTransactionVersion(a){return l1(this.transactionVersion||iB.V3,a)}async buildInvocation(a,b){let c=mp(a,await this.getCairoVersion()),d=b.skipValidate?[]:await this.signer.signTransaction(a,b);return{...l3(b),contractAddress:this.address,calldata:c,signature:d}}async buildDeclarePayload(a,b){let{classHash:c,contract:d,compiledClassHash:e}=l8(a,await this.channel.getStarknetVersion()),f=me(d);iZ(!i_(e)&&(b.version===iB.F3||b.version===iB.V3),"V3 Transaction work with Cairo1 Contracts and require compiledClassHash");let g=b.skipValidate?[]:await this.signer.signDeclareTransaction({...b,...l3(b),classHash:c,compiledClassHash:e,senderAddress:b.walletAddress});return{senderAddress:b.walletAddress,signature:g,contract:f,compiledClassHash:e}}async buildAccountDeployPayload({classHash:a,addressSalt:b=0,constructorCalldata:c=[],contractAddress:d},e){let f=k1.compile(c),g=d??ly(b,a,f,0),h=e.skipValidate?[]:await this.signer.signDeployAccountTransaction({...e,...l3(e),classHash:a,contractAddress:g,addressSalt:b,constructorCalldata:f});return{...l3(e),classHash:a,addressSalt:b,constructorCalldata:f,signature:h}}async accountInvocationsFactory(a,b){let{nonce:c,blockIdentifier:d,skipValidate:e=!0}=b,f=await this.getNonceSafe(c),g=await this.getChainId(),h=b.versions.map(a=>l1(a)),i="payload"in a[0]?a[0].payload:a[0],j=a[0].type===hv.ETransactionType.DEPLOY_ACCOUNT?await this.getCairoVersion(i.classHash):await this.getCairoVersion();return Promise.all([].concat(a).map(async(a,c)=>{let i="payload"in a?a.payload:a,k={...l3(b),walletAddress:this.address,nonce:i8(Number(f)+c),chainId:g,cairoVersion:j,version:h[0],skipValidate:e},l={type:a.type,nonce:i8(Number(f)+c),blockIdentifier:d,version:h[0]};if(a.type===hv.ETransactionType.INVOKE){let a=await this.buildInvocation([].concat(i),k);return{...l,...a,...k}}if(a.type===hv.ETransactionType.DEPLOY){let{calls:a}=this.deployer.buildDeployerCall(i,this.address),b=await this.buildInvocation(a,k);return{...l,...b,...k,type:hv.ETransactionType.INVOKE}}if(a.type===hv.ETransactionType.DECLARE){iZ(l7(i.contract),"Declare fee estimation is not supported for Cairo0 contracts");let a=await this.buildDeclarePayload(i,k);return{...l,...a,...k}}if(a.type===hv.ETransactionType.DEPLOY_ACCOUNT){let a=await this.buildAccountDeployPayload(i,k);return{...l,...a,...k}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${a}`)}))}async buildPaymasterTransaction(a,b){let c;if(!b.deploymentData&&await this.getSnip9Version()==="0")throw Error("Account is not compatible with SNIP-9");let d={version:"0x1",feeMode:b.feeMode,timeBounds:b.timeBounds};return c=b.deploymentData?a.length>0?{type:"deploy_and_invoke",invoke:{userAddress:this.address,calls:a},deployment:b.deploymentData}:{type:"deploy",deployment:b.deploymentData}:{type:"invoke",invoke:{userAddress:this.address,calls:a}},this.paymaster.buildTransaction(c,d)}async estimatePaymasterTransactionFee(a,b){return(await this.buildPaymasterTransaction(a,b)).fee}async preparePaymasterTransaction(a){let b;switch(a.type){case"deploy_and_invoke":{let c=await this.signMessage(a.typed_data);b={type:"deploy_and_invoke",invoke:{userAddress:this.address,typedData:a.typed_data,signature:lW(c)},deployment:a.deployment};break}case"invoke":{let c=await this.signMessage(a.typed_data);b={type:"invoke",invoke:{userAddress:this.address,typedData:a.typed_data,signature:lW(c)}};break}case"deploy":b={type:"deploy",deployment:a.deployment};break;default:throw Error("Invalid transaction type")}return b}async executePaymasterTransaction(a,b,c){let d=await this.buildPaymasterTransaction(a,b);nQ(d,a,b,c);let e=await this.preparePaymasterTransaction(d);return this.paymaster.executeTransaction(e,d.parameters).then(a=>({transaction_hash:a.transaction_hash}))}async getStarkName(a=this.address,b){return super.getStarkName(a,b)}};function n$(a,b=!1){return a.request({type:"wallet_requestAccounts",params:{silent_mode:b}})}function n_(a){return a.request({type:"wallet_getPermissions"})}function n0(a,b){return a.request({type:"wallet_watchAsset",params:b})}function n1(a,b){return a.request({type:"wallet_addStarknetChain",params:b})}function n2(a,b){return a.request({type:"wallet_switchStarknetChain",params:{chainId:b}})}function n3(a){return a.request({type:"wallet_requestChainId"})}function n4(a){return a.request({type:"wallet_deploymentData"})}function n5(a,b){return a.request({type:"wallet_addInvokeTransaction",params:b})}function n6(a,b){return a.request({type:"wallet_addDeclareTransaction",params:b})}function n7(a,b){return a.request({type:"wallet_signTypedData",params:b})}function n8(a){return a.request({type:"wallet_supportedSpecs"})}function n9(a,b){a.on("accountsChanged",b)}function oa(a,b){a.on("networkChanged",b)}hr({},{addDeclareTransaction:()=>n6,addInvokeTransaction:()=>n5,addStarknetChain:()=>n1,deploymentData:()=>n4,getPermissions:()=>n_,onAccountChange:()=>n9,onNetworkChanged:()=>oa,requestAccounts:()=>n$,requestChainId:()=>n3,signMessage:()=>n7,supportedSpecs:()=>n8,switchStarknetChain:()=>n2,watchAsset:()=>n0});var ob=class a extends nZ{walletProvider;constructor(a){super({...a,signer:""}),this.walletProvider=a.walletProvider,this.walletProvider.on("accountsChanged",a=>{a&&(this.address=a[0].toLowerCase())}),this.walletProvider.on("networkChanged",a=>{a&&this.channel.setChainId(a)})}onAccountChange(a){n9(this.walletProvider,a)}onNetworkChanged(a){oa(this.walletProvider,a)}requestAccounts(a=!1){return n$(this.walletProvider,a)}getPermissions(){return n_(this.walletProvider)}switchStarknetChain(a){return n2(this.walletProvider,a)}watchAsset(a){return n0(this.walletProvider,a)}addStarknetChain(a){return n1(this.walletProvider,a)}execute(a){let b=[].concat(a).map(a=>{let{contractAddress:b,entrypoint:c,calldata:d}=a;return{contract_address:b,entry_point:c,calldata:d}});return n5(this.walletProvider,{calls:b})}async declare(a){let b=l8(a,await this.channel.getStarknetVersion()),c=a.contract,d={...c,abi:iX(c.abi)};if(!b.compiledClassHash)throw Error("compiledClassHash is required");let e={compiled_class_hash:b.compiledClassHash,contract_class:d};return n6(this.walletProvider,e)}async deploy(a){let{calls:b,addresses:c}=this.deployer.buildDeployerCall(a,this.address);return{...await this.execute(b),contract_address:c}}signMessage(a){return n7(this.walletProvider,a)}static async connect(b,c,d,e,f=!1){let[g]=await n$(c,f);return new a({provider:b,walletProvider:c,address:g,cairoVersion:d,paymaster:e})}static async connectSilent(b,c,d,e){return a.connect(b,c,d,e,!0)}};function oc(a){return"event"===a.type}function od(a){let b,c;return kd(a)?(b=a.filter(a=>oc(a)&&"struct"===a.kind),c=a.filter(a=>oc(a)&&"enum"===a.kind),b.reduce((a,b)=>{let d=[],{name:e}=b,f=!1,g=a=>a.type===e;for(;;){let a=c.find(a=>a.variants.some(g));if(i_(a))break;let b=a.variants.find(g);d.unshift(b.name),"flat"===b.kind&&(f=!0),e=a.name}if(0===d.length)throw Error("inconsistency in ABI events definition.");f&&(d=[d[d.length-1]]);let h=d.pop(),i={[hH(ex.keccak(hB(h)).toString(16))]:b};for(;d.length>0;)i={[hH(ex.keccak(hB(d.pop())).toString(16))]:i};return function a(b,c){let d={...b};return i5(b)&&i5(c)&&Object.keys(c).forEach(e=>{i5(c[e])&&e in b?d[e]=a(b[e],c[e]):Object.assign(d,{[e]:c[e]})}),d}(a,i={...i})},{})):a.filter(a=>"event"===a.type).reduce((a,b)=>{let c=b.name,d={...b};return d.name=c,{...a,[hH(ex.keccak(hB(c)).toString(16))]:d}},{})}function oe(a,b,c,d,e){return a.flat().reduce((a,f)=>{let g=JSON.parse(JSON.stringify(f)),h=b[g.keys.shift()??0];if(!h)return a;for(;!h.name;){let a=g.keys.shift();iZ(!!a,'Not enough data in "keys" property of this event.'),h=h[a]}let i={};i[h.name]={};let j=g.keys[Symbol.iterator](),k=g.data[Symbol.iterator](),l=h.members?.filter(a=>"key"===a.kind)||h.keys,m=h.members?.filter(a=>"data"===a.kind)||h.data;return l.forEach(a=>{i[h.name][a.name]=kU({responseIterator:j,output:a,structs:c,enums:d,parser:e,parsedResult:i[h.name]})}),m.forEach(a=>{i[h.name][a.name]=kU({responseIterator:k,output:a,structs:c,enums:d,parser:e,parsedResult:i[h.name]})}),"block_hash"in g&&(i.block_hash=g.block_hash),"block_number"in g&&(i.block_number=g.block_number),"transaction_hash"in g&&(i.transaction_hash=g.transaction_hash),a.push(i),a},[])}function of(a,b){return async function(...c){let d={...a.withOptionsProps};return a.withOptionsProps=void 0,a.call(b.name,c,{parseRequest:a.parseRequest,parseResponse:a.parseResponse,...d})}}function og(a,b){return"view"===b.stateMutability||"view"===b.state_mutability?of(a,b):async function(...c){let d={...a.withOptionsProps};return a.withOptionsProps=void 0,a.invoke(b.name,c,{parseRequest:a.parseRequest,...d})}}hr({},{getAbiEvents:()=>od,isAbiEvent:()=>oc,parseEvents:()=>oe});var oh=class a{abi;address;providerOrAccount;classHash;parseRequest;parseResponse;structs;events;functions;callStatic;populateTransaction;estimateFee;callData;withOptionsProps;parsingStrategy;constructor(a){this.parsingStrategy=a.parsingStrategy;const b=kL(a.abi,a.parsingStrategy);this.abi=b.getLegacyFormat(),this.address=a.address&&a.address.toLowerCase(),this.providerOrAccount=a.providerOrAccount??nA,this.parseRequest=a.parseRequest??!0,this.parseResponse=a.parseResponse??!0,this.classHash=a.classHash,this.callData=new k1(a.abi,a.parsingStrategy),this.structs=k1.getAbiStruct(a.abi),this.events=od(a.abi);const c={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(a=>{var b,d;if("function"!==a.type)return;let e=a.name;this[e]||Object.defineProperty(this,e,{...c,value:og(this,a)}),this.functions[e]||Object.defineProperty(this.functions,e,{...c,value:og(this,a)}),this.callStatic[e]||Object.defineProperty(this.callStatic,e,{...c,value:of(this,a)}),this.populateTransaction[e]||Object.defineProperty(this.populateTransaction,e,{...c,value:(b=this,function(...c){return b.populate(a.name,c)})}),this.estimateFee[e]||Object.defineProperty(this.estimateFee,e,{...c,value:(d=this,function(...b){let c={...d.withOptionsProps};return d.withOptionsProps=void 0,d.estimate(a.name,b,c)})})})}withOptions(a){return this.withOptionsProps=a,this}attach(a,b){if(this.address=a,b){let a=kL(b,this.parsingStrategy);this.abi=a.getLegacyFormat(),this.callData=new k1(b,this.parsingStrategy),this.structs=k1.getAbiStruct(b),this.events=od(b)}}async isDeployed(){try{await this.providerOrAccount.getClassHashAt(this.address)}catch(b){let a=b instanceof Error?b.message:String(b);throw Error(`Contract not deployed at address ${this.address}: ${a}`)}return this}async call(a,b=[],{parseRequest:c=!0,parseResponse:d=!0,formatResponse:e,blockIdentifier:f}={}){iZ(null!==this.address,"contract is not connected to an address");let g=ml(b,()=>c?(this.callData.validate("CALL",a,b),this.callData.compile(a,b)):(ix.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),b));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:g,entrypoint:a},f).then(b=>d?e?this.callData.format(a,b,e):this.callData.parse(a,b):b)}async invoke(a,b=[],c={}){let{parseRequest:d=!0,signature:e,waitForTransaction:f,...g}=c;iZ(null!==this.address,"contract is not connected to an address");let h=ml(b,()=>d?(this.callData.validate(iN,a,b),this.callData.compile(a,b)):(ix.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),b)),i={contractAddress:this.address,calldata:h,entrypoint:a};if(iR(this.providerOrAccount)){if(g.paymasterDetails){let c={contractAddress:this.address,entrypoint:a,calldata:b};return this.providerOrAccount.executePaymasterTransaction([c],g.paymasterDetails,g.maxFeeInGasToken)}let c=await this.providerOrAccount.execute(i,{...g});if(f){let a=await this.providerOrAccount.waitForTransaction(c.transaction_hash);if(a.isSuccess())return a;throw Error("Transaction failed",{cause:a})}return c}if(!g.nonce)throw Error("Manual nonce is required when invoking a function without an account");return ix.warn(`Invoking ${a} without an account.`),this.providerOrAccount.invokeFunction({...i,signature:e},{...g,nonce:g.nonce})}async estimate(a,b=[],c={}){iZ(null!==this.address,"contract is not connected to an address"),ml(b,()=>!1)||this.callData.validate(iN,a,b);let d=this.populate(a,b);if(iR(this.providerOrAccount)){if(c.paymasterDetails){let d={contractAddress:this.address,entrypoint:a,calldata:b};return this.providerOrAccount.estimatePaymasterTransactionFee([d],c.paymasterDetails)}return this.providerOrAccount.estimateInvokeFee(d,c)}throw Error("Contract must be connected to the account contract to estimate")}populate(a,b=[]){let c=ml(b,()=>this.callData.compile(a,b));return{contractAddress:this.address,entrypoint:a,calldata:c}}parseEvents(a){let b=[];return a.match({SUCCEEDED:a=>{b=oe(a.events?.map(b=>({block_hash:a.block_hash,block_number:a.block_number,transaction_hash:a.transaction_hash,...b})).filter(a=>ja(a.from_address)===ja(this.address),[])||[],this.events,this.structs,k1.getAbiEnum(this.abi),this.callData.parser)},_:()=>{throw Error("This transaction was not successful.")}}),Object.defineProperty(b,"getByPath",{value:a=>{let c=b.find(b=>Object.keys(b).some(b=>b.includes(a))),d=Object.keys(c||{}).find(b=>b.includes(a));return d&&c?c[d]:null},writable:!1,enumerable:!1,configurable:!1}),b}isCairo1(){return jM.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typedv2(a){return this}static async factory(b,c={}){let d,e,f,{account:g,parseRequest:h=!0}=b;if("classHash"in b&&b.classHash&&!("contract"in b))e=b.classHash.toString(),d=b.abi?b.abi:(await g.getClass(e)).abi,f=(await g.deployContract({classHash:e,constructorCalldata:b.constructorCalldata,salt:b.salt,unique:b.unique,abi:h?d:void 0},c)).contract_address;else{let a=me(b.contract);d=b.abi?b.abi:mf(a);let{declare:{class_hash:i},deploy:{contract_address:j}}=await g.declareAndDeploy({...b,abi:h?d:void 0},c);e=i.toString(),f=j}return iZ(!!f,"Deployment of the contract failed"),new a({abi:d,address:f,providerOrAccount:g,classHash:e,parseRequest:b.parseRequest,parseResponse:b.parseResponse,parsingStrategy:b.parsingStrategy})}};hv.TypedDataRevision,a.s(["BlockTag",()=>iL,"CairoCustomEnum",()=>kk,"CallData",()=>k1,"Contract",()=>oh,"PaymasterRpc",()=>nV,"Provider",()=>nz,"RpcProvider",()=>nz,"WalletAccount",()=>ob,"cairo",()=>jM,"constants",()=>hu,"hash",()=>k2,"num",()=>i$,"shortString",()=>jA,"starknetId",()=>m4,"validateAndParseAddress",()=>nF],49112)},93234,a=>{"use strict";let b,c,d,e,f,g,h;var i=a.i(61607),j=a.i(72131),k=a.i(65678),l=a.i(49112),m=a.i(17589),n={setTimeout:(a,b)=>setTimeout(a,b),clearTimeout:a=>clearTimeout(a),setInterval:(a,b)=>setInterval(a,b),clearInterval:a=>clearInterval(a)},o=new class{#a=n;#b=!1;setTimeoutProvider(a){this.#a=a}setTimeout(a,b){return this.#a.setTimeout(a,b)}clearTimeout(a){this.#a.clearTimeout(a)}setInterval(a,b){return this.#a.setInterval(a,b)}clearInterval(a){this.#a.clearInterval(a)}};function p(){}function q(a,b){return"function"==typeof a?a(b):a}function r(a,b){return"function"==typeof a?a(b):a}function s(a,b){let{type:c="all",exact:d,fetchStatus:e,predicate:f,queryKey:g,stale:h}=a;if(g){if(d){if(b.queryHash!==u(g,b.options))return!1}else if(!w(b.queryKey,g))return!1}if("all"!==c){let a=b.isActive();if("active"===c&&!a||"inactive"===c&&a)return!1}return("boolean"!=typeof h||b.isStale()===h)&&(!e||e===b.state.fetchStatus)&&(!f||!!f(b))}function t(a,b){let{exact:c,status:d,predicate:e,mutationKey:f}=a;if(f){if(!b.options.mutationKey)return!1;if(c){if(v(b.options.mutationKey)!==v(f))return!1}else if(!w(b.options.mutationKey,f))return!1}return(!d||b.state.status===d)&&(!e||!!e(b))}function u(a,b){return(b?.queryKeyHashFn||v)(a)}function v(a){return JSON.stringify(a,(a,b)=>A(b)?Object.keys(b).sort().reduce((a,c)=>(a[c]=b[c],a),{}):b)}function w(a,b){return a===b||typeof a==typeof b&&!!a&&!!b&&"object"==typeof a&&"object"==typeof b&&Object.keys(b).every(c=>w(a[c],b[c]))}var x=Object.prototype.hasOwnProperty;function y(a,b){if(!b||Object.keys(a).length!==Object.keys(b).length)return!1;for(let c in a)if(a[c]!==b[c])return!1;return!0}function z(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function A(a){if(!B(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!!B(c)&&!!c.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(a)===Object.prototype}function B(a){return"[object Object]"===Object.prototype.toString.call(a)}function C(a,b,c){return"function"==typeof c.structuralSharing?c.structuralSharing(a,b):!1!==c.structuralSharing?function a(b,c,d=0){if(b===c)return b;if(d>500)return c;let e=z(b)&&z(c);if(!e&&!(A(b)&&A(c)))return c;let f=(e?b:Object.keys(b)).length,g=e?c:Object.keys(c),h=g.length,i=e?Array(h):{},j=0;for(let k=0;k<h;k++){let h=e?k:g[k],l=b[h],m=c[h];if(l===m){i[h]=l,(e?k<f:x.call(b,h))&&j++;continue}if(null===l||null===m||"object"!=typeof l||"object"!=typeof m){i[h]=m;continue}let n=a(l,m,d+1);i[h]=n,n===l&&j++}return f===h&&j===f?b:i}(a,b):b}function D(a,b,c=0){let d=[...a,b];return c&&d.length>c?d.slice(1):d}function E(a,b,c=0){let d=[b,...a];return c&&d.length>c?d.slice(0,-1):d}var F=Symbol();function G(a,b){return!a.queryFn&&b?.initialPromise?()=>b.initialPromise:a.queryFn&&a.queryFn!==F?a.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${a.queryHash}'`))}function H(a,b){return"function"==typeof a?a(...b):!!a}var I=(b=[],c=0,d=a=>{a()},e=a=>{a()},f=function(a){setTimeout(a,0)},{batch:a=>{let g;c++;try{g=a()}finally{let a;--c||(a=b,b=[],a.length&&f(()=>{e(()=>{a.forEach(a=>{d(a)})})}))}return g},batchCalls:a=>(...b)=>{g(()=>{a(...b)})},schedule:g=a=>{c?b.push(a):f(()=>{d(a)})},setNotifyFunction:a=>{d=a},setBatchNotifyFunction:a=>{e=a},setScheduler:a=>{f=a}}),J=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},K=new class extends J{#c;#d;#e;constructor(){super(),this.#e=a=>{}}onSubscribe(){this.#d||this.setEventListener(this.#e)}onUnsubscribe(){this.hasListeners()||(this.#d?.(),this.#d=void 0)}setEventListener(a){this.#e=a,this.#d?.(),this.#d=a(a=>{"boolean"==typeof a?this.setFocused(a):this.onFocus()})}setFocused(a){this.#c!==a&&(this.#c=a,this.onFocus())}onFocus(){let a=this.isFocused();this.listeners.forEach(b=>{b(a)})}isFocused(){return"boolean"==typeof this.#c?this.#c:globalThis.document?.visibilityState!=="hidden"}},L=new class extends J{#f=!0;#d;#e;constructor(){super(),this.#e=a=>{}}onSubscribe(){this.#d||this.setEventListener(this.#e)}onUnsubscribe(){this.hasListeners()||(this.#d?.(),this.#d=void 0)}setEventListener(a){this.#e=a,this.#d?.(),this.#d=a(this.setOnline.bind(this))}setOnline(a){this.#f!==a&&(this.#f=a,this.listeners.forEach(b=>{b(a)}))}isOnline(){return this.#f}};function M(){let a,b,c=new Promise((c,d)=>{a=c,b=d});function d(a){Object.assign(c,a),delete c.resolve,delete c.reject}return c.status="pending",c.catch(()=>{}),c.resolve=b=>{d({status:"fulfilled",value:b}),a(b)},c.reject=a=>{d({status:"rejected",reason:a}),b(a)},c}function N(a){return Math.min(1e3*2**a,3e4)}function O(a){return(a??"online")!=="online"||L.isOnline()}var P=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function Q(a){let b,c=!1,d=0,e=M(),f=()=>K.isFocused()&&("always"===a.networkMode||L.isOnline())&&a.canRun(),g=()=>O(a.networkMode)&&a.canRun(),h=a=>{"pending"===e.status&&(b?.(),e.resolve(a))},i=a=>{"pending"===e.status&&(b?.(),e.reject(a))},j=()=>new Promise(c=>{b=a=>{("pending"!==e.status||f())&&c(a)},a.onPause?.()}).then(()=>{b=void 0,"pending"===e.status&&a.onContinue?.()}),k=()=>{let b;if("pending"!==e.status)return;let g=0===d?a.initialPromise:void 0;try{b=g??a.fn()}catch(a){b=Promise.reject(a)}Promise.resolve(b).then(h).catch(b=>{if("pending"!==e.status)return;let g=a.retry??0,h=a.retryDelay??N,l="function"==typeof h?h(d,b):h,m=!0===g||"number"==typeof g&&d<g||"function"==typeof g&&g(d,b);c||!m?i(b):(d++,a.onFail?.(d,b),new Promise(a=>{o.setTimeout(a,l)}).then(()=>f()?void 0:j()).then(()=>{c?i(b):k()}))})};return{promise:e,status:()=>e.status,cancel:b=>{if("pending"===e.status){let c=new P(b);i(c),a.onCancel?.(c)}},continue:()=>(b?.(),e),cancelRetry:()=>{c=!0},continueRetry:()=>{c=!1},canStart:g,start:()=>(g()?k():j().then(k),e)}}var R=class{#g;destroy(){this.clearGcTimeout()}scheduleGc(){var a;this.clearGcTimeout(),"number"==typeof(a=this.gcTime)&&a>=0&&a!==1/0&&(this.#g=o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??1/0)}clearGcTimeout(){this.#g&&(o.clearTimeout(this.#g),this.#g=void 0)}},S=class extends R{#h;#i;#j;#k;#l;#m;#n;constructor(a){super(),this.#n=!1,this.#m=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#k=a.client,this.#j=this.#k.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#h=V(this.options),this.state=a.state??this.#h,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(a){if(this.options={...this.#m,...a},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let a=V(this.options);void 0!==a.data&&(this.setState(U(a.data,a.dataUpdatedAt)),this.#h=a)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#j.remove(this)}setData(a,b){let c=C(this.state.data,a,this.options);return this.#o({data:c,type:"success",dataUpdatedAt:b?.updatedAt,manual:b?.manual}),c}setState(a,b){this.#o({type:"setState",state:a,setStateOptions:b})}cancel(a){let b=this.#l?.promise;return this.#l?.cancel(a),b?b.then(p).catch(p):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#h)}isActive(){return this.observers.some(a=>!1!==r(a.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===F||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(a=>"static"===q(a.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(a=0){var b;return void 0===this.state.data||"static"!==a&&(!!this.state.isInvalidated||(b=this.state.dataUpdatedAt,!Math.max(b+(a||0)-Date.now(),0)))}onFocus(){let a=this.observers.find(a=>a.shouldFetchOnWindowFocus());a?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){let a=this.observers.find(a=>a.shouldFetchOnReconnect());a?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#j.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(b=>b!==a),this.observers.length||(this.#l&&(this.#n?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#j.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(a,b){let c;if("idle"!==this.state.fetchStatus&&this.#l?.status()!=="rejected"){if(void 0!==this.state.data&&b?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise}if(a&&this.setOptions(a),!this.options.queryFn){let a=this.observers.find(a=>a.options.queryFn);a&&this.setOptions(a.options)}let d=new AbortController,e=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#n=!0,d.signal)})},f=()=>{let a,c=G(this.options,b),d=(e(a={client:this.#k,queryKey:this.queryKey,meta:this.meta}),a);return(this.#n=!1,this.options.persister)?this.options.persister(c,d,this):c(d)},g=(e(c={fetchOptions:b,options:this.options,queryKey:this.queryKey,client:this.#k,state:this.state,fetchFn:f}),c);this.options.behavior?.onFetch(g,this),this.#i=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==g.fetchOptions?.meta)&&this.#o({type:"fetch",meta:g.fetchOptions?.meta}),this.#l=Q({initialPromise:b?.initialPromise,fn:g.fetchFn,onCancel:a=>{a instanceof P&&a.revert&&this.setState({...this.#i,fetchStatus:"idle"}),d.abort()},onFail:(a,b)=>{this.#o({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0});try{let a=await this.#l.start();if(void 0===a)throw Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#j.config.onSuccess?.(a,this),this.#j.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof P){if(a.silent)return this.#l.promise;else if(a.revert){if(void 0===this.state.data)throw a;return this.state.data}}throw this.#o({type:"error",error:a}),this.#j.config.onError?.(a,this),this.#j.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#o(a){let b=b=>{switch(a.type){case"failed":return{...b,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...b,fetchStatus:"paused"};case"continue":return{...b,fetchStatus:"fetching"};case"fetch":return{...b,...T(b.data,this.options),fetchMeta:a.meta??null};case"success":let c={...b,...U(a.data,a.dataUpdatedAt),dataUpdateCount:b.dataUpdateCount+1,...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#i=a.manual?c:void 0,c;case"error":let d=a.error;return{...b,error:d,errorUpdateCount:b.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:b.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...b,isInvalidated:!0};case"setState":return{...b,...a.state}}};this.state=b(this.state),I.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#j.notify({query:this,type:"updated",action:a})})}};function T(a,b){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O(b.networkMode)?"fetching":"paused",...void 0===a&&{error:null,status:"pending"}}}function U(a,b){return{data:a,dataUpdatedAt:b??Date.now(),error:null,isInvalidated:!1,status:"success"}}function V(a){let b="function"==typeof a.initialData?a.initialData():a.initialData,c=void 0!==b,d=c?"function"==typeof a.initialDataUpdatedAt?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:b,dataUpdateCount:0,dataUpdatedAt:c?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}var W=class extends J{constructor(a={}){super(),this.config=a,this.#p=new Map}#p;build(a,b,c){let d=b.queryKey,e=b.queryHash??u(d,b),f=this.get(e);return f||(f=new S({client:a,queryKey:d,queryHash:e,options:a.defaultQueryOptions(b),state:c,defaultOptions:a.getQueryDefaults(d)}),this.add(f)),f}add(a){this.#p.has(a.queryHash)||(this.#p.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){let b=this.#p.get(a.queryHash);b&&(a.destroy(),b===a&&this.#p.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){I.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#p.get(a)}getAll(){return[...this.#p.values()]}find(a){let b={exact:!0,...a};return this.getAll().find(a=>s(b,a))}findAll(a={}){let b=this.getAll();return Object.keys(a).length>0?b.filter(b=>s(a,b)):b}notify(a){I.batch(()=>{this.listeners.forEach(b=>{b(a)})})}onFocus(){I.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){I.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},X=class extends R{#k;#q;#r;#l;constructor(a){super(),this.#k=a.client,this.mutationId=a.mutationId,this.#r=a.mutationCache,this.#q=[],this.state=a.state||Y(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#q.includes(a)||(this.#q.push(a),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#q=this.#q.filter(b=>b!==a),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#q.length||("pending"===this.state.status?this.scheduleGc():this.#r.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(a){let b=()=>{this.#o({type:"continue"})},c={client:this.#k,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#l=Q({fn:()=>this.options.mutationFn?this.options.mutationFn(a,c):Promise.reject(Error("No mutationFn found")),onFail:(a,b)=>{this.#o({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#o({type:"pause"})},onContinue:b,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});let d="pending"===this.state.status,e=!this.#l.canStart();try{if(d)b();else{this.#o({type:"pending",variables:a,isPaused:e}),this.#r.config.onMutate&&await this.#r.config.onMutate(a,this,c);let b=await this.options.onMutate?.(a,c);b!==this.state.context&&this.#o({type:"pending",context:b,variables:a,isPaused:e})}let f=await this.#l.start();return await this.#r.config.onSuccess?.(f,a,this.state.context,this,c),await this.options.onSuccess?.(f,a,this.state.context,c),await this.#r.config.onSettled?.(f,null,this.state.variables,this.state.context,this,c),await this.options.onSettled?.(f,null,a,this.state.context,c),this.#o({type:"success",data:f}),f}catch(b){try{await this.#r.config.onError?.(b,a,this.state.context,this,c)}catch(a){Promise.reject(a)}try{await this.options.onError?.(b,a,this.state.context,c)}catch(a){Promise.reject(a)}try{await this.#r.config.onSettled?.(void 0,b,this.state.variables,this.state.context,this,c)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,b,a,this.state.context,c)}catch(a){Promise.reject(a)}throw this.#o({type:"error",error:b}),b}finally{this.#r.runNext(this)}}#o(a){this.state=(b=>{switch(a.type){case"failed":return{...b,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...b,isPaused:!0};case"continue":return{...b,isPaused:!1};case"pending":return{...b,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...b,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...b,data:void 0,error:a.error,failureCount:b.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}})(this.state),I.batch(()=>{this.#q.forEach(b=>{b.onMutationUpdate(a)}),this.#r.notify({mutation:this,type:"updated",action:a})})}};function Y(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Z=class extends J{constructor(a={}){super(),this.config=a,this.#s=new Set,this.#t=new Map,this.#u=0}#s;#t;#u;build(a,b,c){let d=new X({client:a,mutationCache:this,mutationId:++this.#u,options:a.defaultMutationOptions(b),state:c});return this.add(d),d}add(a){this.#s.add(a);let b=$(a);if("string"==typeof b){let c=this.#t.get(b);c?c.push(a):this.#t.set(b,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#s.delete(a)){let b=$(a);if("string"==typeof b){let c=this.#t.get(b);if(c)if(c.length>1){let b=c.indexOf(a);-1!==b&&c.splice(b,1)}else c[0]===a&&this.#t.delete(b)}}this.notify({type:"removed",mutation:a})}canRun(a){let b=$(a);if("string"!=typeof b)return!0;{let c=this.#t.get(b),d=c?.find(a=>"pending"===a.state.status);return!d||d===a}}runNext(a){let b=$(a);if("string"!=typeof b)return Promise.resolve();{let c=this.#t.get(b)?.find(b=>b!==a&&b.state.isPaused);return c?.continue()??Promise.resolve()}}clear(){I.batch(()=>{this.#s.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#s.clear(),this.#t.clear()})}getAll(){return Array.from(this.#s)}find(a){let b={exact:!0,...a};return this.getAll().find(a=>t(b,a))}findAll(a={}){return this.getAll().filter(b=>t(a,b))}notify(a){I.batch(()=>{this.listeners.forEach(b=>{b(a)})})}resumePausedMutations(){let a=this.getAll().filter(a=>a.state.isPaused);return I.batch(()=>Promise.all(a.map(a=>a.continue().catch(p))))}};function $(a){return a.options.scope?.id}function _(a){return{onFetch:(b,c)=>{let d=b.options,e=b.fetchOptions?.meta?.fetchMore?.direction,f=b.state.data?.pages||[],g=b.state.data?.pageParams||[],h={pages:[],pageParams:[]},i=0,j=async()=>{let c=!1,j=G(b.options,b.fetchOptions),k=async(a,d,e)=>{if(c)return Promise.reject();if(null==d&&a.pages.length)return Promise.resolve(a);let f=(()=>{var a,f;let g,h,i={client:b.client,queryKey:b.queryKey,pageParam:d,direction:e?"backward":"forward",meta:b.options.meta};return a=()=>b.signal,f=()=>c=!0,h=!1,Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(g??=a(),h||(h=!0,g.aborted?f():g.addEventListener("abort",f,{once:!0})),g)}),i})(),g=await j(f),{maxPages:h}=b.options,i=e?E:D;return{pages:i(a.pages,g,h),pageParams:i(a.pageParams,d,h)}};if(e&&f.length){let a="backward"===e,b={pages:f,pageParams:g},c=(a?function(a,{pages:b,pageParams:c}){return b.length>0?a.getPreviousPageParam?.(b[0],b,c[0],c):void 0}:aa)(d,b);h=await k(b,c,a)}else{let b=a??f.length;do{let a=0===i?g[0]??d.initialPageParam:aa(d,h);if(i>0&&null==a)break;h=await k(h,a),i++}while(i<b)}return h};b.options.persister?b.fetchFn=()=>b.options.persister?.(j,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},c):b.fetchFn=j}}}function aa(a,{pages:b,pageParams:c}){let d=b.length-1;return b.length>0?a.getNextPageParam(b[d],b,c[d],c):void 0}var ab=class{#v;#r;#m;#w;#x;#y;#z;#A;constructor(a={}){this.#v=a.queryCache||new W,this.#r=a.mutationCache||new Z,this.#m=a.defaultOptions||{},this.#w=new Map,this.#x=new Map,this.#y=0}mount(){this.#y++,1===this.#y&&(this.#z=K.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#v.onFocus())}),this.#A=L.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#v.onOnline())}))}unmount(){this.#y--,0===this.#y&&(this.#z?.(),this.#z=void 0,this.#A?.(),this.#A=void 0)}isFetching(a){return this.#v.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#r.findAll({...a,status:"pending"}).length}getQueryData(a){let b=this.defaultQueryOptions({queryKey:a});return this.#v.get(b.queryHash)?.state.data}ensureQueryData(a){let b=this.defaultQueryOptions(a),c=this.#v.build(this,b),d=c.state.data;return void 0===d?this.fetchQuery(a):(a.revalidateIfStale&&c.isStaleByTime(q(b.staleTime,c))&&this.prefetchQuery(b),Promise.resolve(d))}getQueriesData(a){return this.#v.findAll(a).map(({queryKey:a,state:b})=>[a,b.data])}setQueryData(a,b,c){let d=this.defaultQueryOptions({queryKey:a}),e=this.#v.get(d.queryHash),f=e?.state.data,g="function"==typeof b?b(f):b;if(void 0!==g)return this.#v.build(this,d).setData(g,{...c,manual:!0})}setQueriesData(a,b,c){return I.batch(()=>this.#v.findAll(a).map(({queryKey:a})=>[a,this.setQueryData(a,b,c)]))}getQueryState(a){let b=this.defaultQueryOptions({queryKey:a});return this.#v.get(b.queryHash)?.state}removeQueries(a){let b=this.#v;I.batch(()=>{b.findAll(a).forEach(a=>{b.remove(a)})})}resetQueries(a,b){let c=this.#v;return I.batch(()=>(c.findAll(a).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...a},b)))}cancelQueries(a,b={}){let c={revert:!0,...b};return Promise.all(I.batch(()=>this.#v.findAll(a).map(a=>a.cancel(c)))).then(p).catch(p)}invalidateQueries(a,b={}){return I.batch(()=>(this.#v.findAll(a).forEach(a=>{a.invalidate()}),a?.refetchType==="none")?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},b))}refetchQueries(a,b={}){let c={...b,cancelRefetch:b.cancelRefetch??!0};return Promise.all(I.batch(()=>this.#v.findAll(a).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let b=a.fetch(void 0,c);return c.throwOnError||(b=b.catch(p)),"paused"===a.state.fetchStatus?Promise.resolve():b}))).then(p)}fetchQuery(a){let b=this.defaultQueryOptions(a);void 0===b.retry&&(b.retry=!1);let c=this.#v.build(this,b);return c.isStaleByTime(q(b.staleTime,c))?c.fetch(b):Promise.resolve(c.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(p).catch(p)}fetchInfiniteQuery(a){return a.behavior=_(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(p).catch(p)}ensureInfiniteQueryData(a){return a.behavior=_(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return L.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#v}getMutationCache(){return this.#r}getDefaultOptions(){return this.#m}setDefaultOptions(a){this.#m=a}setQueryDefaults(a,b){this.#w.set(v(a),{queryKey:a,defaultOptions:b})}getQueryDefaults(a){let b=[...this.#w.values()],c={};return b.forEach(b=>{w(a,b.queryKey)&&Object.assign(c,b.defaultOptions)}),c}setMutationDefaults(a,b){this.#x.set(v(a),{mutationKey:a,defaultOptions:b})}getMutationDefaults(a){let b=[...this.#x.values()],c={};return b.forEach(b=>{w(a,b.mutationKey)&&Object.assign(c,b.defaultOptions)}),c}defaultQueryOptions(a){if(a._defaulted)return a;let b={...this.#m.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return b.queryHash||(b.queryHash=u(b.queryKey,b)),void 0===b.refetchOnReconnect&&(b.refetchOnReconnect="always"!==b.networkMode),void 0===b.throwOnError&&(b.throwOnError=!!b.suspense),!b.networkMode&&b.persister&&(b.networkMode="offlineFirst"),b.queryFn===F&&(b.enabled=!1),b}defaultMutationOptions(a){return a?._defaulted?a:{...this.#m.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#v.clear(),this.#r.clear()}},ac=a.i(87924),ad=j.createContext(void 0),ae=a=>{let b=j.useContext(ad);if(a)return a;if(!b)throw Error("No QueryClient set, use QueryClientProvider to set one");return b},af=({client:a,children:b})=>(j.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),(0,ac.jsx)(ad.Provider,{value:a,children:b})),ag=class extends J{constructor(a,b){super(),this.options=b,this.#k=a,this.#B=null,this.#C=M(),this.bindMethods(),this.setOptions(b)}#k;#D=void 0;#E=void 0;#F=void 0;#G;#H;#C;#B;#I;#J;#K;#L;#M;#N;#O=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#D.addObserver(this),ah(this.#D,this.options)?this.#P():this.updateResult(),this.#Q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ai(this.#D,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ai(this.#D,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#R(),this.#S(),this.#D.removeObserver(this)}setOptions(a){let b=this.options,c=this.#D;if(this.options=this.#k.defaultQueryOptions(a),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof r(this.options.enabled,this.#D))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#T(),this.#D.setOptions(this.options),b._defaulted&&!y(this.options,b)&&this.#k.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#D,observer:this});let d=this.hasListeners();d&&aj(this.#D,c,this.options,b)&&this.#P(),this.updateResult(),d&&(this.#D!==c||r(this.options.enabled,this.#D)!==r(b.enabled,this.#D)||q(this.options.staleTime,this.#D)!==q(b.staleTime,this.#D))&&this.#U();let e=this.#V();d&&(this.#D!==c||r(this.options.enabled,this.#D)!==r(b.enabled,this.#D)||e!==this.#N)&&this.#W(e)}getOptimisticResult(a){var b,c;let d=this.#k.getQueryCache().build(this.#k,a),e=this.createResult(d,a);return b=this,c=e,y(b.getCurrentResult(),c)||(this.#F=e,this.#H=this.options,this.#G=this.#D.state),e}getCurrentResult(){return this.#F}trackResult(a,b){return new Proxy(a,{get:(a,c)=>(this.trackProp(c),b?.(c),"promise"===c&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#C.status||this.#C.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,c))})}trackProp(a){this.#O.add(a)}getCurrentQuery(){return this.#D}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){let b=this.#k.defaultQueryOptions(a),c=this.#k.getQueryCache().build(this.#k,b);return c.fetch().then(()=>this.createResult(c,b))}fetch(a){return this.#P({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#F))}#P(a){this.#T();let b=this.#D.fetch(this.options,a);return a?.throwOnError||(b=b.catch(p)),b}#U(){this.#R(),q(this.options.staleTime,this.#D)}#V(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#D):this.options.refetchInterval)??!1}#W(a){this.#S(),this.#N=a}#Q(){this.#U(),this.#W(this.#V())}#R(){this.#L&&(o.clearTimeout(this.#L),this.#L=void 0)}#S(){this.#M&&(o.clearInterval(this.#M),this.#M=void 0)}createResult(a,b){let c,d=this.#D,e=this.options,f=this.#F,g=this.#G,h=this.#H,i=a!==d?a.state:this.#E,{state:j}=a,k={...j},l=!1;if(b._optimisticResults){let c=this.hasListeners(),f=!c&&ah(a,b),g=c&&aj(a,d,b,e);(f||g)&&(k={...k,...T(j.data,a.options)}),"isRestoring"===b._optimisticResults&&(k.fetchStatus="idle")}let{error:m,errorUpdatedAt:n,status:o}=k;c=k.data;let p=!1;if(void 0!==b.placeholderData&&void 0===c&&"pending"===o){let a;f?.isPlaceholderData&&b.placeholderData===h?.placeholderData?(a=f.data,p=!0):a="function"==typeof b.placeholderData?b.placeholderData(this.#K?.state.data,this.#K):b.placeholderData,void 0!==a&&(o="success",c=C(f?.data,a,b),l=!0)}if(b.select&&void 0!==c&&!p)if(f&&c===g?.data&&b.select===this.#I)c=this.#J;else try{this.#I=b.select,c=b.select(c),c=C(f?.data,c,b),this.#J=c,this.#B=null}catch(a){this.#B=a}this.#B&&(m=this.#B,c=this.#J,n=Date.now(),o="error");let q="fetching"===k.fetchStatus,s="pending"===o,t="error"===o,u=s&&q,v=void 0!==c,w={status:o,fetchStatus:k.fetchStatus,isPending:s,isSuccess:"success"===o,isError:t,isInitialLoading:u,isLoading:u,data:c,dataUpdatedAt:k.dataUpdatedAt,error:m,errorUpdatedAt:n,failureCount:k.fetchFailureCount,failureReason:k.fetchFailureReason,errorUpdateCount:k.errorUpdateCount,isFetched:k.dataUpdateCount>0||k.errorUpdateCount>0,isFetchedAfterMount:k.dataUpdateCount>i.dataUpdateCount||k.errorUpdateCount>i.errorUpdateCount,isFetching:q,isRefetching:q&&!s,isLoadingError:t&&!v,isPaused:"paused"===k.fetchStatus,isPlaceholderData:l,isRefetchError:t&&v,isStale:ak(a,b),refetch:this.refetch,promise:this.#C,isEnabled:!1!==r(b.enabled,a)};if(this.options.experimental_prefetchInRender){let b=void 0!==w.data,c="error"===w.status&&!b,e=a=>{c?a.reject(w.error):b&&a.resolve(w.data)},f=()=>{e(this.#C=w.promise=M())},g=this.#C;switch(g.status){case"pending":a.queryHash===d.queryHash&&e(g);break;case"fulfilled":(c||w.data!==g.value)&&f();break;case"rejected":c&&w.error===g.reason||f()}}return w}updateResult(){let a=this.#F,b=this.createResult(this.#D,this.options);if(this.#G=this.#D.state,this.#H=this.options,void 0!==this.#G.data&&(this.#K=this.#D),y(b,a))return;this.#F=b;let c=()=>{if(!a)return!0;let{notifyOnChangeProps:b}=this.options,c="function"==typeof b?b():b;if("all"===c||!c&&!this.#O.size)return!0;let d=new Set(c??this.#O);return this.options.throwOnError&&d.add("error"),Object.keys(this.#F).some(b=>this.#F[b]!==a[b]&&d.has(b))};this.#X({listeners:c()})}#T(){let a=this.#k.getQueryCache().build(this.#k,this.options);if(a===this.#D)return;let b=this.#D;this.#D=a,this.#E=a.state,this.hasListeners()&&(b?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#Q()}#X(a){I.batch(()=>{a.listeners&&this.listeners.forEach(a=>{a(this.#F)}),this.#k.getQueryCache().notify({query:this.#D,type:"observerResultsUpdated"})})}};function ah(a,b){return!1!==r(b.enabled,a)&&void 0===a.state.data&&("error"!==a.state.status||!1!==b.retryOnMount)||void 0!==a.state.data&&ai(a,b,b.refetchOnMount)}function ai(a,b,c){if(!1!==r(b.enabled,a)&&"static"!==q(b.staleTime,a)){let d="function"==typeof c?c(a):c;return"always"===d||!1!==d&&ak(a,b)}return!1}function aj(a,b,c,d){return(a!==b||!1===r(d.enabled,a))&&(!c.suspense||"error"!==a.state.status)&&ak(a,c)}function ak(a,b){return!1!==r(b.enabled,a)&&a.isStaleByTime(q(b.staleTime,a))}var al=j.createContext((h=!1,{clearReset:()=>{h=!1},reset:()=>{h=!0},isReset:()=>h})),am=j.createContext(!1);am.Provider;var an=class extends J{#k;#F=void 0;#Y;#Z;constructor(a,b){super(),this.#k=a,this.setOptions(b),this.bindMethods(),this.#$()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#k.defaultMutationOptions(a),y(this.options,b)||this.#k.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#Y,observer:this}),b?.mutationKey&&this.options.mutationKey&&v(b.mutationKey)!==v(this.options.mutationKey)?this.reset():this.#Y?.state.status==="pending"&&this.#Y.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#Y?.removeObserver(this)}onMutationUpdate(a){this.#$(),this.#X(a)}getCurrentResult(){return this.#F}reset(){this.#Y?.removeObserver(this),this.#Y=void 0,this.#$(),this.#X()}mutate(a,b){return this.#Z=b,this.#Y?.removeObserver(this),this.#Y=this.#k.getMutationCache().build(this.#k,this.options),this.#Y.addObserver(this),this.#Y.execute(a)}#$(){let a=this.#Y?.state??Y();this.#F={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#X(a){I.batch(()=>{if(this.#Z&&this.hasListeners()){let b=this.#F.variables,c=this.#F.context,d={client:this.#k,meta:this.options.meta,mutationKey:this.options.mutationKey};if(a?.type==="success"){try{this.#Z.onSuccess?.(a.data,b,c,d)}catch(a){Promise.reject(a)}try{this.#Z.onSettled?.(a.data,null,b,c,d)}catch(a){Promise.reject(a)}}else if(a?.type==="error"){try{this.#Z.onError?.(a.error,b,c,d)}catch(a){Promise.reject(a)}try{this.#Z.onSettled?.(void 0,a.error,b,c,d)}catch(a){Promise.reject(a)}}}this.listeners.forEach(a=>{a(this.#F)})})}},ao=Object.defineProperty,ap=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?ao(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c},aq=class extends i.default{},ar=class extends Error{constructor(){super(...arguments),ap(this,"name","ConnectorNotConnectedError"),ap(this,"message","Connector not connected")}},as=class extends Error{constructor(){super(...arguments),ap(this,"name","ConnectorNotFoundError"),ap(this,"message","Connector not found")}},at=class extends Error{constructor(){super(...arguments),ap(this,"name","UserRejectedRequestError"),ap(this,"message","User rejected request")}},au=class extends Error{constructor(){super(...arguments),ap(this,"name","UserNotConnectedError"),ap(this,"message","User not connected")}},av={argentX:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2NS4xOTUwOCA1Ny43MzU2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUuMTk1MDggNTcuNzM1NjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkY4NzVCO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjk4NTkyLDBIMjQuMjA4ODhjLTAuNTYsMC0xLjAxMDAxLDAuNDUxMDItMS4wMjE5NywxLjAxMjAyCgljLTAuMzM4OTksMTUuNzU1LTguNTgyMDMsMzAuNzA4OTgtMjIuNzcwMDIsNDEuMzAwOTljLTAuNDUwMDEsMC4zMzcwMS0wLjU1Mjk4LDAuOTY3OTktMC4yMjQsMS40MjNsOS44MTU5OCwxMy41NzMKCWMwLjMzNDA1LDAuNDYyMDEsMC45ODUwNSwwLjU2NTk4LDEuNDQyOTksMC4yMjY5OWM4Ljg3MTAzLTYuNTc5MDEsMTYuMDA3MDItMTQuNTE3LDIxLjE0NjA2LTIzLjMxNQoJYzUuMTM4LDguNzk4LDEyLjI3Mzk5LDE2LjczNTk5LDIxLjE0NiwyMy4zMTVjMC40NTY5NywwLjMzODk5LDEuMTA3OTcsMC4yMzUwMiwxLjQ0MTk2LTAuMjI2OTlsOS44MTYwNC0xMy41NzMKCWMwLjMyODk4LTAuNDU1MDIsMC4yMjY5OS0xLjA4Ni0wLjIyNC0xLjQyM0M1MC41ODk4NiwzMS43MjEwMSw0Mi4zNDY4OCwxNi43NjcwMyw0Mi4wMDc4OSwxLjAxMjAyCglDNDEuOTk1ODcsMC40NTEwMiw0MS41NDY4OSwwLDQwLjk4NTkyLDAiLz4KPC9zdmc+Cg==",braavos:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMjMuNDQgNDEuMzg4NkMzMjQuMTk4IDQyLjY3MjggMzIzLjE5NSA0NC4yNjAzIDMyMS43MDQgNDQuMjYwM0MyOTEuNTEgNDQuMjYwMyAyNjYuOTY1IDY4LjE2NTYgMjY2LjM4OSA5Ny44NzFDMjU2LjA1IDk1Ljk0MDcgMjQ1LjMzNyA5NS43OTU2IDIzNC43NTQgOTcuNTc4N0MyMzQuMDIzIDY4LjAwOSAyMDkuNTQgNDQuMjYwMyAxNzkuNDQ1IDQ0LjI2MDNDMTc3Ljk1MyA0NC4yNjAzIDE3Ni45NDkgNDIuNjcxNiAxNzcuNzA3IDQxLjM4NjVDMTkyLjMyMyAxNi42MzMgMjE5LjQ4MyAwIDI1MC41NzMgMEMyODEuNjY0IDAgMzA4LjgyNCAxNi42MzM5IDMyMy40NCA0MS4zODg2WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik00MTguNzU2IDIyNi44OTRDNDI2LjM3IDIyOS4yIDQzMy41ODEgMjIyLjUxNyA0MzEuMDM2IDIxNC45NzlDNDA0LjUwNyAxMzYuNDAxIDMxNi41MzUgMTA0LjM1OCAyNTAuMTU5IDEwNC4zNThDMTgzLjY3NCAxMDQuMzU4IDkzLjczOTEgMTM3LjQxOCA2OS4zMDUxIDIxNS4zMzFDNjYuOTU3NCAyMjIuODE4IDc0LjE0NjUgMjI5LjI3NSA4MS42NDc5IDIyNi45NzdMMjQ0LjI1IDE3Ny4xNTFDMjQ3LjU2OSAxNzYuMTM0IDI1MS4xMTYgMTc2LjEyOCAyNTQuNDM5IDE3Ny4xMzVMNDE4Ljc1NiAyMjYuODk0WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik02OS43MTY1IDIzOS40MjZMMjQ0LjM3IDE4Ni40NTZDMjQ3LjY2OSAxODUuNDU2IDI1MS4xOTEgMTg1LjQ1MyAyNTQuNDkyIDE4Ni40NDhMNDMwLjIzMiAyMzkuNDUyQzQ0NC43NiAyNDMuODMzIDQ1NC43MDEgMjU3LjIxNiA0NTQuNzAxIDI3Mi4zOVY0MzAuNDgxQzQ1NC4wMjggNDY5LjA3IDQxOS4zNjIgNTAwIDM4MC43ODYgNTAwSDMxNi43MTJDMzEwLjM3OSA1MDAgMzA1LjI1IDQ5NC44NzcgMzA1LjI1IDQ4OC41NDNWNDMzLjExNUMzMDUuMjUgNDExLjI4OSAzMTguMTY3IDM5MS41MzUgMzM4LjE1NSAzODIuNzkyQzM2NC45NDkgMzcxLjA3MSAzOTYuNjQ2IDM1NS4yMTggNDAyLjYwOCAzMjMuNDA2QzQwNC41MzIgMzEzLjEzOCAzOTcuODM3IDMwMy4yMzQgMzg3LjU5NSAzMDEuMTk4QzM2MS42OTkgMjk2LjA1MSAzMzIuOTg5IDI5OC4wMzkgMzA4LjcxMSAzMDguODk4QzI4MS4xNSAzMjEuMjI1IDI3My45NCAzNDEuNzMxIDI3MS4yNzEgMzY5LjI3TDI2OC4wMzYgMzk4LjkzOEMyNjcuMDQ3IDQwOC4wMDUgMjU4LjU0NiA0MTQuOTUyIDI0OS40MjkgNDE0Ljk1MkMyMzkuOTk4IDQxNC45NTIgMjMyLjkyNiA0MDcuNzY5IDIzMS45MDMgMzk4LjM4OEwyMjguNzI4IDM2OS4yN0MyMjYuNDQyIDM0NS42ODEgMjIyLjI5OCAzMjIuNzY3IDE5Ny45MTIgMzExLjg2QzE3MC4wOTUgMjk5LjQxOSAxNDIuMTQxIDI5NS4yODcgMTEyLjQwNCAzMDEuMTk4QzEwMi4xNjIgMzAzLjIzNCA5NS40NjcgMzEzLjEzOCA5Ny4zOTEzIDMyMy40MDZDMTAzLjQwNSAzNTUuNDk1IDEzNC44NTQgMzcwLjk4NSAxNjEuODQ0IDM4Mi43OTJDMTgxLjgzMyAzOTEuNTM1IDE5NC43NSA0MTEuMjg5IDE5NC43NSA0MzMuMTE1VjQ4OC41MzNDMTk0Ljc1IDQ5NC44NjcgMTg5LjYyMiA1MDAgMTgzLjI4OSA1MDBIMTE5LjIxNEM4MC42Mzc0IDUwMCA0NS45NzE2IDQ2OS4wNyA0NS4yOTc5IDQzMC40ODFWMjcyLjM0OUM0NS4yOTc5IDI1Ny4xOTQgNTUuMjE0MiAyNDMuODI0IDY5LjcxNjUgMjM5LjQyNloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8yMzI0XzYxODY5KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4="},aw=class extends aq{constructor({options:a}){super(),ap(this,"_wallet"),ap(this,"_options"),this._options=a}get id(){return this._options.id}get name(){return this.ensureWallet(),this._options.name??this._wallet?.name??this._options.id}get icon(){this.ensureWallet();let a={dark:av[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0id2hpdGUiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+Cg==",light:av[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iYmxhY2siPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+"};return this._options.icon||this._wallet?.icon||a}available(){return this.ensureWallet(),void 0!==this._wallet}async chainId(){this.ensureWallet();let a=await this.isLocked();if(!this._wallet||a)throw new ar;return await this.requestChainId()}async ready(){if(this.ensureWallet(),!this._wallet)return!1;let a=await this.request({type:"wallet_getPermissions"});return!!a&&a.includes(k.Permission.ACCOUNTS)}async account(a,b){if(this.ensureWallet(),await this.isLocked()||!this._wallet)throw new ar;return await l.WalletAccount.connect(a,this._wallet,void 0,b,!0)}async connect(a={}){if(this.ensureWallet(),!this._wallet)throw new as;this._wallet.on("accountsChanged",async a=>{await this.onAccountsChanged(a)}),this._wallet.on("networkChanged",(a,b)=>{this.onNetworkChanged(a,b)});let b=await this.request({type:"wallet_requestAccounts"});if(!b)throw new at;a.chainIdHint&&await this.requestChainId()!==a.chainIdHint&&await this.switchChain(a.chainIdHint);let[c]=b,d=await this.requestChainId();return this.emit("connect",{account:c,chainId:d}),{account:c,chainId:d}}async disconnect(){if(this.ensureWallet(),!this._wallet)throw new as;this.emit("disconnect")}async request(a){if(this.ensureWallet(),!this._wallet)throw new ar;return await this._wallet.request(a)}async isLocked(){return 0===(await this.request({type:"wallet_requestAccounts",params:{silent_mode:!0}})).length}async requestChainId(){return BigInt(await this.request({type:"wallet_requestChainId"}))}ensureWallet(){let a=globalThis,b=a?.[`starknet_${this._options.id}`];b&&(this._wallet=b)}async onAccountsChanged(a){if(a){let[b]=a;if(b){let a=await this.requestChainId();this.emit("change",{account:b,chainId:a})}else this.emit("disconnect")}else this.emit("disconnect")}onNetworkChanged(a,b){if(a){let c=BigInt(a),[d]=b||[];this.emit("change",{chainId:c,account:d})}else this.emit("change",{})}async switchChain(a){await this.request({type:"wallet_switchStarknetChain",params:{chainId:l.num.toHex(a)}})}},ax={argentX:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2NS4xOTUwOCA1Ny43MzU2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUuMTk1MDggNTcuNzM1NjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkY4NzVCO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjk4NTkyLDBIMjQuMjA4ODhjLTAuNTYsMC0xLjAxMDAxLDAuNDUxMDItMS4wMjE5NywxLjAxMjAyCgljLTAuMzM4OTksMTUuNzU1LTguNTgyMDMsMzAuNzA4OTgtMjIuNzcwMDIsNDEuMzAwOTljLTAuNDUwMDEsMC4zMzcwMS0wLjU1Mjk4LDAuOTY3OTktMC4yMjQsMS40MjNsOS44MTU5OCwxMy41NzMKCWMwLjMzNDA1LDAuNDYyMDEsMC45ODUwNSwwLjU2NTk4LDEuNDQyOTksMC4yMjY5OWM4Ljg3MTAzLTYuNTc5MDEsMTYuMDA3MDItMTQuNTE3LDIxLjE0NjA2LTIzLjMxNQoJYzUuMTM4LDguNzk4LDEyLjI3Mzk5LDE2LjczNTk5LDIxLjE0NiwyMy4zMTVjMC40NTY5NywwLjMzODk5LDEuMTA3OTcsMC4yMzUwMiwxLjQ0MTk2LTAuMjI2OTlsOS44MTYwNC0xMy41NzMKCWMwLjMyODk4LTAuNDU1MDIsMC4yMjY5OS0xLjA4Ni0wLjIyNC0xLjQyM0M1MC41ODk4NiwzMS43MjEwMSw0Mi4zNDY4OCwxNi43NjcwMyw0Mi4wMDc4OSwxLjAxMjAyCglDNDEuOTk1ODcsMC40NTEwMiw0MS41NDY4OSwwLDQwLjk4NTkyLDAiLz4KPC9zdmc+Cg==",braavos:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMjMuNDQgNDEuMzg4NkMzMjQuMTk4IDQyLjY3MjggMzIzLjE5NSA0NC4yNjAzIDMyMS43MDQgNDQuMjYwM0MyOTEuNTEgNDQuMjYwMyAyNjYuOTY1IDY4LjE2NTYgMjY2LjM4OSA5Ny44NzFDMjU2LjA1IDk1Ljk0MDcgMjQ1LjMzNyA5NS43OTU2IDIzNC43NTQgOTcuNTc4N0MyMzQuMDIzIDY4LjAwOSAyMDkuNTQgNDQuMjYwMyAxNzkuNDQ1IDQ0LjI2MDNDMTc3Ljk1MyA0NC4yNjAzIDE3Ni45NDkgNDIuNjcxNiAxNzcuNzA3IDQxLjM4NjVDMTkyLjMyMyAxNi42MzMgMjE5LjQ4MyAwIDI1MC41NzMgMEMyODEuNjY0IDAgMzA4LjgyNCAxNi42MzM5IDMyMy40NCA0MS4zODg2WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik00MTguNzU2IDIyNi44OTRDNDI2LjM3IDIyOS4yIDQzMy41ODEgMjIyLjUxNyA0MzEuMDM2IDIxNC45NzlDNDA0LjUwNyAxMzYuNDAxIDMxNi41MzUgMTA0LjM1OCAyNTAuMTU5IDEwNC4zNThDMTgzLjY3NCAxMDQuMzU4IDkzLjczOTEgMTM3LjQxOCA2OS4zMDUxIDIxNS4zMzFDNjYuOTU3NCAyMjIuODE4IDc0LjE0NjUgMjI5LjI3NSA4MS42NDc5IDIyNi45NzdMMjQ0LjI1IDE3Ny4xNTFDMjQ3LjU2OSAxNzYuMTM0IDI1MS4xMTYgMTc2LjEyOCAyNTQuNDM5IDE3Ny4xMzVMNDE4Ljc1NiAyMjYuODk0WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik02OS43MTY1IDIzOS40MjZMMjQ0LjM3IDE4Ni40NTZDMjQ3LjY2OSAxODUuNDU2IDI1MS4xOTEgMTg1LjQ1MyAyNTQuNDkyIDE4Ni40NDhMNDMwLjIzMiAyMzkuNDUyQzQ0NC43NiAyNDMuODMzIDQ1NC43MDEgMjU3LjIxNiA0NTQuNzAxIDI3Mi4zOVY0MzAuNDgxQzQ1NC4wMjggNDY5LjA3IDQxOS4zNjIgNTAwIDM4MC43ODYgNTAwSDMxNi43MTJDMzEwLjM3OSA1MDAgMzA1LjI1IDQ5NC44NzcgMzA1LjI1IDQ4OC41NDNWNDMzLjExNUMzMDUuMjUgNDExLjI4OSAzMTguMTY3IDM5MS41MzUgMzM4LjE1NSAzODIuNzkyQzM2NC45NDkgMzcxLjA3MSAzOTYuNjQ2IDM1NS4yMTggNDAyLjYwOCAzMjMuNDA2QzQwNC41MzIgMzEzLjEzOCAzOTcuODM3IDMwMy4yMzQgMzg3LjU5NSAzMDEuMTk4QzM2MS42OTkgMjk2LjA1MSAzMzIuOTg5IDI5OC4wMzkgMzA4LjcxMSAzMDguODk4QzI4MS4xNSAzMjEuMjI1IDI3My45NCAzNDEuNzMxIDI3MS4yNzEgMzY5LjI3TDI2OC4wMzYgMzk4LjkzOEMyNjcuMDQ3IDQwOC4wMDUgMjU4LjU0NiA0MTQuOTUyIDI0OS40MjkgNDE0Ljk1MkMyMzkuOTk4IDQxNC45NTIgMjMyLjkyNiA0MDcuNzY5IDIzMS45MDMgMzk4LjM4OEwyMjguNzI4IDM2OS4yN0MyMjYuNDQyIDM0NS42ODEgMjIyLjI5OCAzMjIuNzY3IDE5Ny45MTIgMzExLjg2QzE3MC4wOTUgMjk5LjQxOSAxNDIuMTQxIDI5NS4yODcgMTEyLjQwNCAzMDEuMTk4QzEwMi4xNjIgMzAzLjIzNCA5NS40NjcgMzEzLjEzOCA5Ny4zOTEzIDMyMy40MDZDMTAzLjQwNSAzNTUuNDk1IDEzNC44NTQgMzcwLjk4NSAxNjEuODQ0IDM4Mi43OTJDMTgxLjgzMyAzOTEuNTM1IDE5NC43NSA0MTEuMjg5IDE5NC43NSA0MzMuMTE1VjQ4OC41MzNDMTk0Ljc1IDQ5NC44NjcgMTg5LjYyMiA1MDAgMTgzLjI4OSA1MDBIMTE5LjIxNEM4MC42Mzc0IDUwMCA0NS45NzE2IDQ2OS4wNyA0NS4yOTc5IDQzMC40ODFWMjcyLjM0OUM0NS4yOTc5IDI1Ny4xOTQgNTUuMjE0MiAyNDMuODI0IDY5LjcxNjUgMjM5LjQyNloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8yMzI0XzYxODY5KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4="},ay=class extends aq{constructor({options:a}){super(),ap(this,"_wallet"),ap(this,"_options"),this._options=a}get id(){return this._options.id}get name(){return this._options.name??this._wallet?.name??this._options.id}get icon(){let a={dark:ax[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0id2hpdGUiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+Cg==",light:ax[this.id]||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iYmxhY2siPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+"};return this._options.icon||this._wallet?.icon||a}available(){return this.ensureWallet(),void 0!==this._wallet}async chainId(){if(this.ensureWallet(),!this._wallet||!this._wallet.provider)throw new ar;return BigInt(await this._wallet.provider.getChainId())}async ready(){return this.ensureWallet(),!!this._wallet&&await this._wallet.isPreauthorized()}async connect(a={}){let b;if(this.ensureWallet(),!this._wallet)throw new as;try{b=await this._wallet.enable({starknetVersion:"v5"})}catch{throw new at}if(!this._wallet.isConnected||!this._wallet.account||!b)throw new at;this._wallet.on("accountsChanged",async a=>{a&&await this.onAccountsChanged(a)}),this._wallet.on("networkChanged",a=>{this.onNetworkChanged(a)}),await this.onAccountsChanged(b);let c=this._wallet.account.address,d=await this.chainId();return this.emit("connect",{account:c,chainId:d}),{account:c,chainId:d}}async disconnect(){if(this.ensureWallet(),!this.available())throw new as;if(!this._wallet?.isConnected)throw new au;this.emit("disconnect")}async account(){if(this.ensureWallet(),!this._wallet||!this._wallet.account)throw new ar;return this._wallet.account}async request(a){if(this.ensureWallet(),!this._wallet)throw new ar;try{switch(a.type){case"wallet_getPermissions":if(this._wallet)return[k.Permission.ACCOUNTS];return[];case"wallet_requestAccounts":if(this._wallet.account)return[this._wallet.account.address];return[];case"wallet_requestChainId":if(this._wallet.chainId)return this._wallet.chainId;return null;case"wallet_addInvokeTransaction":{if(!this._wallet)throw Error("Send transaction failed");let b=(a.params.calls??[]).map(({calldata:a,contract_address:b,entry_point:c})=>({calldata:a,contractAddress:b,entrypoint:c}));return await this._wallet.account?.execute(b)}default:throw Error(`Wallet API method ${a.type} is not supported.`)}}catch{throw new at}}ensureWallet(){var a;let b=Object.values(Object.getOwnPropertyNames(a=globalThis).reduce((b,c)=>{if(c.startsWith("starknet")){let d=a[c];(function(a){try{return a&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(b=>b in a)}catch(a){}return!1})(d)&&!b[d.id]&&(b[d.id]=d)}return b},{})).filter(a=>a.id===this._options.id)[0];b&&(this._wallet=b)}async onAccountsChanged(a){let b;if(b="string"==typeof a?a:a[0]){let a=await this.chainId();this.emit("change",{account:b,chainId:a})}else this.emit("disconnect")}onNetworkChanged(a){switch(a){case"SN_MAIN":case"mainnet-alpha":this.emit("change",{chainId:m.mainnet.id});break;case"SN_SEPOLIA":case"sepolia-alpha":this.emit("change",{chainId:m.sepolia.id});break;default:this.emit("change",{})}}};function az(){return new aw({options:{id:"argentX",name:"Ready Wallet (formerly Argent)"}})}function aA(){return new aw({options:{id:"braavos",name:"Braavos"}})}function aB({recommended:a,includeRecommended:b="always",order:c="alphabetical",shimLegacyConnectors:d=[]}){let[e,f]=(0,j.useState)([]),g=(0,j.useCallback)(()=>{var a;f(Object.values(Object.getOwnPropertyNames(a=window).reduce((b,c)=>{if(c.startsWith("starknet")){let d=a[c];(function(a){try{return a&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(b=>b in a)}catch(a){}return!1})(d)&&!b[d.id]&&(b[d.id]=d)}return b},{})).map(a=>d.includes(a.id)?function({id:a}){return new ay({options:{id:a}})}({id:a.id}):function({id:a}){return new aw({options:{id:a}})}({id:a.id})))},[d.includes]);return(0,j.useEffect)(()=>{g()},[g]),{connectors:(0,j.useMemo)(()=>(function(a,b,{includeRecommended:c,order:d}){let e=new Set(b.map(a=>a.id)),f="always"===c||"onlyIfNoConnectors"===c&&0===a.length,g=[];return(f&&g.push(...b),g.push(...a.filter(a=>!e.has(a.id))),"random"===d)?function(a){for(let b=a.length-1;b>0;b--){let c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}return a}(g):g.sort((a,b)=>a.id.localeCompare(b.id))})(e,a??[],{includeRecommended:b,order:c}),[e,a,b,c])}}var aC=j.default.createContext({account:void 0,address:void 0});function aD({address:a,account:b,children:c}){return(0,ac.jsx)(aC.Provider,{value:{account:b,address:a},children:c})}var aE=new ab,aF=(0,j.createContext)(void 0);function aG(){let a=(0,j.useContext)(aF);if(!a)throw Error("useStarknet must be used within a StarknetProvider or StarknetConfig");return a}function aH({chains:a,provider:b,paymasterProvider:c,connectors:d,explorer:e,autoConnect:f,queryClient:g,defaultChainId:h,children:i}){let{account:k,address:m,...n}=function({chains:a,provider:b,paymasterProvider:c,explorer:d,connectors:e=[],autoConnect:f=!1,defaultChainId:g}){let h=g?a.find(a=>a.id===g)??a[0]:a[0];if(void 0===h)throw Error("Must provide at least one chain.");let i=new Set;for(let b of a){if(i.has(b.id))throw Error(`Duplicated chain id found: ${b.id}`);i.add(b.id)}let{chain:k,provider:l}=aI(h,b),{paymasterProvider:m}=aJ(h,c),n=(0,j.useRef)(),[o,p]=(0,j.useState)({currentChain:h,currentProvider:l,currentPaymasterProvider:m,connectors:e}),q=(0,j.useCallback)(({chainId:d})=>{if(d){for(let e of a)if(e.id===d){let{chain:a,provider:d}=aI(e,b),{paymasterProvider:f}=aJ(e,c);p(b=>({...b,currentChain:a,currentProvider:d,currentPaymasterProvider:f}));return}}},[a,b,c]),r=(0,j.useCallback)(async({chainId:a,account:b})=>{a&&q({chainId:a}),b&&n.current&&p(a=>({...a,currentAddress:b}))},[q]);(0,j.useEffect)(()=>{n.current||p(a=>({...a,currentChain:h,currentProvider:aI(h,b).provider,currentPaymasterProvider:aJ(h,c).paymasterProvider}))},[h]);let s=(0,j.useCallback)(async()=>{if(p(a=>({...a,currentAddress:void 0,currentProvider:l,currentPaymasterProvider:m,currentChain:h})),f&&localStorage.removeItem("lastUsedConnector"),n.current){n.current.off("change",r),n.current.off("disconnect",s);try{await n.current.disconnect()}catch{}n.current=void 0}},[f,r,l,m,h]),t=(0,j.useCallback)(async({connector:a})=>{if(!a)throw Error("Must provide a connector.");let b=n.current?.id!==a.id;b&&(n.current?.off("change",r),n.current?.off("disconnect",s));try{let{chainId:c,account:d}=await a.connect({chainIdHint:h.id});d!==o.currentAddress&&(n.current=a,p(a=>({...a,currentAddress:d}))),f&&localStorage.setItem("lastUsedConnector",a.id),b&&(a.on("change",r),a.on("disconnect",s)),q({chainId:c})}catch(a){throw p(a=>({...a,error:new as})),a}},[f,o.currentAddress,h.id,r,q,s]);return(0,j.useEffect)(()=>{async function a(a){let b=localStorage.getItem("lastUsedConnector");if(null===b)return;let c=a.find(a=>a.id===b);if(void 0!==c)try{if(!await c.ready())return;t({connector:c})}catch{}}f&&!n.current&&a(e)},[]),{address:o.currentAddress,provider:o.currentProvider,paymasterProvider:o.currentPaymasterProvider,chain:o.currentChain,connector:n.current,explorer:d,connect:t,disconnect:s,connectors:e,chains:a}}({chains:a,provider:b,paymasterProvider:c??function({apiKey:a}){return function({rpc:a}){return b=>{let c=a(b);return c?new l.PaymasterRpc(c):null}}({rpc:b=>{let c=b.paymasterRpcUrls.avnu.http[0];return c?{nodeUrl:c,headers:{"x-paymaster-api-key":a??""}}:null}})}({}),explorer:e,connectors:d,autoConnect:f,defaultChainId:h});return(0,ac.jsx)(af,{client:g??aE,children:(0,ac.jsx)(aF.Provider,{value:n,children:(0,ac.jsx)(aD,{address:m,account:k,children:i})})})}function aI(a,b){let c=b(a);if(c)return{chain:a,provider:c};throw Error(`No provider found for chain ${a.name}`)}function aJ(a,b){let c=b(a);if(c)return{chain:a,paymasterProvider:c};throw Error(`No paymaster provider found for chain ${a.name}`)}function aK({children:a,...b}){return(0,ac.jsx)(aH,{...b,children:a})}var aL=class{constructor(a){ap(this,"name","Voyager"),ap(this,"link"),this.link=a.explorers?.voyager?.toString()??""}block(a){if(void 0!==a.number&&void 0===a.hash)throw Error("The voyager explorer doesn't support numbers for blocks. Please provide a hash.");return`${this.link}/block/${a.hash}`}transaction(a){return`${this.link}/tx/${a}`}contract(a){return`${this.link}/contract/${a}`}class(a){return`${this.link}/class/${a}`}},aM=a=>new aL(a);function aN(a){return(0,l.validateAndParseAddress)(a)}function aO(){let{provider:a,paymasterProvider:b}=aG();return{provider:a,paymasterProvider:b}}function aP(){let{connector:a,chain:b}=aG(),{provider:c,paymasterProvider:d}=aO(),{address:e}=function(){let{account:a,address:b}=(0,j.useContext)(aC);return{account:a,address:b}}(),[f,g]=(0,j.useState)(void 0===e?{status:"disconnected"}:{status:"connected",connector:a,chainId:b.id,account:void 0,address:aN(e),isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1}),h=(0,j.useCallback)(async()=>{if(!a||!c||!e)return g({status:"disconnected",connector:void 0,chainId:void 0,account:void 0,address:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1});g({status:"connected",connector:a,chainId:b.id,account:void 0,address:aN(e),isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1}),a.account(c,d).then(a=>g(b=>({...b,account:a})))},[c,d,a,b.id,e]);return(0,j.useEffect)(()=>{h()},[h]),f}function aQ(a){let b=function(a,b,c){let d,e=j.useContext(am),f=j.useContext(al),g=ae(c),h=g.defaultQueryOptions(a);g.getDefaultOptions().queries?._experimental_beforeQuery?.(h);let i=g.getQueryCache().get(h.queryHash);if(h._optimisticResults=e?"isRestoring":"optimistic",h.suspense){let a=a=>"static"===a?a:Math.max(a??1e3,1e3),b=h.staleTime;h.staleTime="function"==typeof b?(...c)=>a(b(...c)):a(b),"number"==typeof h.gcTime&&(h.gcTime=Math.max(h.gcTime,1e3))}d=i?.state.error&&"function"==typeof h.throwOnError?H(h.throwOnError,[i.state.error,i]):h.throwOnError,(h.suspense||h.experimental_prefetchInRender||d)&&!f.isReset()&&(h.retryOnMount=!1),j.useEffect(()=>{f.clearReset()},[f]),g.getQueryCache().get(h.queryHash);let[k]=j.useState(()=>new b(g,h)),l=k.getOptimisticResult(h),m=!e&&!1!==a.subscribed;if(j.useSyncExternalStore(j.useCallback(a=>{let b=m?k.subscribe(I.batchCalls(a)):p;return k.updateResult(),b},[k,m]),()=>k.getCurrentResult(),()=>k.getCurrentResult()),j.useEffect(()=>{k.setOptions(h)},[h,k]),h?.suspense&&l.isPending){let a,b,c;throw a=h,b=k,c=f,b.fetchOptimistic(a).catch(()=>{c.clearReset()})}if((({result:a,errorResetBoundary:b,throwOnError:c,query:d,suspense:e})=>a.isError&&!b.isReset()&&!a.isFetching&&d&&(e&&void 0===a.data||H(c,[a.error,d])))({result:l,errorResetBoundary:f,throwOnError:h.throwOnError,query:i,suspense:h.suspense}))throw l.error;return g.getDefaultOptions().queries?._experimental_afterQuery?.(h,l),h.experimental_prefetchInRender,h.notifyOnChangeProps?l:k.trackResult(l)}({...a,structuralSharing:!1},ag,void 0);return{data:b.data,error:b.error,status:b.status,isSuccess:b.isSuccess,isError:b.isError,isPending:b.isPending,fetchStatus:b.fetchStatus,isFetching:b.isFetching,isLoading:b.isLoading,refetch:b.refetch}}function aR(a){let b=function(a,b){let c=ae(void 0),[d]=j.useState(()=>new an(c,a));j.useEffect(()=>{d.setOptions(a)},[d,a]);let e=j.useSyncExternalStore(j.useCallback(a=>d.subscribe(I.batchCalls(a)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),f=j.useCallback((a,b)=>{d.mutate(a,b).catch(p)},[d]);if(e.error&&H(d.options.throwOnError,[e.error]))throw e.error;return{...e,mutate:f,mutateAsync:e.mutate}}(a);return{data:b.data,error:b.error,reset:b.reset,isError:b.isError,isIdle:b.isIdle,isPending:b.isPending,isSuccess:b.isSuccess,isPaused:b.isPaused,mutate:b.mutate,mutateAsync:b.mutateAsync,status:b.status,variables:b.variables}}function aS({abi:a,address:b,provider:c}){let{provider:d}=aG();return{contract:(0,j.useMemo)(()=>{let e=c||d;if(a&&b&&e)return new l.Contract({abi:a,address:b,providerOrAccount:e}).typedv2(a)},[a,b,c,d])}}function aT({enabled:a=!0,queryKey:b}){let c=ae(),[d,e]=(0,j.useState)(),{data:f}=function({blockIdentifier:a=l.BlockTag.LATEST,...b}={}){let{provider:c}=aG();return aQ({queryKey:function({blockIdentifier:a}){return[{entity:"blockNumber",blockIdentifier:a}]}({blockIdentifier:a}),queryFn:function({provider:a,blockIdentifier:b}){return async()=>{let c=await a.getBlock(b);if("PENDING"!==c.status)return c.block_number}}({provider:c,blockIdentifier:a}),...b})}({enabled:a});(0,j.useEffect)(()=>d?f!==d?(c.invalidateQueries({queryKey:b},{cancelRefetch:!1}),e(f)):void 0:e(f),[f,d,b,c])}function aU(){let{chain:a,chains:b}=aG();return{chain:a,chains:b}}function aV({token:a,address:b,refetchInterval:c,watch:d=!1,enabled:e=!0,blockIdentifier:f=l.BlockTag.LATEST,...g}){let{chain:h}=aU(),i=a??h.nativeCurrency.address,{contract:k}=aS({abi:aW,address:i}),m=(0,j.useMemo)(()=>(function({chain:a,token:b,address:c,blockIdentifier:d}){return[{entity:"balance",chainId:a?.name,token:b,address:c,blockIdentifier:d}]})({chain:h,token:i,address:b,blockIdentifier:f}),[h,i,b,f]),n=(0,j.useMemo)(()=>!!(e&&k&&b),[e,k,b]),o=c??(f===l.BlockTag.PRE_CONFIRMED&&d?5e3:void 0);return aT({enabled:!!(n&&d),queryKey:m}),aQ({enabled:n,refetchInterval:o,queryKey:m,queryFn:function({chain:a,token:b,address:c,contract:d,blockIdentifier:e}){return async()=>{if(!c)throw Error("address is required");if(!d)throw Error("contract is required");let f={blockIdentifier:e},g=b===a.nativeCurrency.address,h=a.nativeCurrency.symbol;if(!g){let a=await d.withOptions(f).symbol();h=l.shortString.decodeShortString(l.num.toHex(a))}let i=a.nativeCurrency.decimals;g||(i=Number(await d.withOptions(f).decimals()));let j=await d.withOptions(f).balanceOf(c),k=function(a,b){let c=a.toString(),d=c.startsWith("-");d&&(c=c.slice(1));let[e,f]=[(c=c.padStart(b,"0")).slice(0,c.length-b),c.slice(c.length-b)];return f=f.replace(/(0+)$/,""),`${d?"-":""}${e||"0"}${f?`.${f}`:""}`}(j,i);return{value:j,decimals:i,symbol:h,formatted:k}}}({chain:h,contract:k,token:i,address:b,blockIdentifier:f}),...g})}var aW=[{name:"core::integer::u256",type:"struct",members:[{name:"low",type:"core::integer::u128"},{name:"high",type:"core::integer::u128"}]},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{name:"symbol",type:"function",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{name:"decimals",type:"function",inputs:[],outputs:[{type:"core::integer::u8"}],state_mutability:"view"}];function aX(a={}){let{connector:b,connectors:c,connect:d,chain:e}=aG(),{mutate:f,mutateAsync:g,variables:h,...i}=aR({mutationKey:[{entity:"connect",chainId:e.name}],mutationFn:d,...a}),k=(0,j.useCallback)(a=>f(a??{connector:b}),[f,b]),l=(0,j.useCallback)(a=>g(a??{connector:b}),[g,b]);return{connector:b,connectors:c,pendingConnector:h?.connector,connect:k,connectAsync:l,variables:h,...i}}function aY(a={}){let{disconnect:b,chain:c}=aG(),{mutate:d,mutateAsync:e,...f}=aR({mutationKey:[{entity:"disconnect",chainId:c.name}],mutationFn:b,...a});return{disconnect:d,disconnectAsync:e,...f}}function aZ(a){return function({abi:a,address:b,functionName:c,args:d,blockIdentifier:e=l.BlockTag.LATEST,refetchInterval:f,watch:g=!1,enabled:h=!0,parseArgs:i,parseResult:k,...m}){let{chain:n}=aU(),{contract:o}=aS({abi:a,address:b}),p=(0,j.useMemo)(()=>(function({chain:a,contract:b,functionName:c,args:d,blockIdentifier:e}){return[{entity:"readContract",chainId:a?.name,contract:b?.address,functionName:c,args:JSON.stringify(d,(a,b)=>"bigint"==typeof b?b.toString(10):b),blockIdentifier:e}]})({chain:n,contract:o,functionName:c,args:d,blockIdentifier:e}),[n,o,c,d,e]),q=(0,j.useMemo)(()=>!!(h&&o&&c&&d),[h,o,c,d]),r=f??(e===l.BlockTag.PRE_CONFIRMED&&g?5e3:void 0);return aT({enabled:!!(q&&g),queryKey:p}),aQ({queryKey:p,queryFn:function({contract:a,functionName:b,args:c,blockIdentifier:d,parseArgs:e=!0,parseResult:f=!0}){return async()=>{if(!a)throw Error("contract is required");if(void 0===a.functions[b])throw Error(`function ${b} not found in contract`);return a.call(b,c,{parseRequest:e,parseResponse:f,blockIdentifier:d})}}({contract:o,functionName:c,args:d,blockIdentifier:e,parseArgs:i,parseResult:k}),refetchInterval:r,enabled:q,...m})}(a)}function a$(a){let{calls:b,...c}=a,{request:d,requestAsync:e,...f}=function(a){let{connector:b}=aG(),{type:c,params:d,...e}=a,{mutate:f,mutateAsync:g,...h}=aR({mutationKey:function({type:a,params:b}){return[{entity:"walletRequest",type:a,params:b}]}({type:c,params:d}),mutationFn:function({connector:a}){return async({type:b,params:c})=>{if(!a)throw Error("No connector connected");if(!b)throw Error("Type is required");return await a.request({type:b,params:c})}}({connector:b}),...e});return{request:(0,j.useCallback)(a=>f(a??{type:c,params:d}),[f,c,d]),requestAsync:(0,j.useCallback)(a=>g(a??{type:c,params:d}),[g,c,d]),...h}}({type:"wallet_addInvokeTransaction",params:b?{calls:a_(b)}:void 0,...c});return{send:a=>d(a?{params:{calls:a_(a)},type:"wallet_addInvokeTransaction"}:void 0),sendAsync:a=>e(a?{params:{calls:a_(a)},type:"wallet_addInvokeTransaction"}:void 0),...f}}function a_(a){return a.map(a=>({contract_address:a.contractAddress,entry_point:a.entrypoint,calldata:a.calldata}))}function a0(){return function({rpc:a}){return b=>{let c=a(b);if(!c)return null;let d=function(a){switch(a){case m.mainnet.id:return l.constants.StarknetChainId.SN_MAIN;case m.sepolia.id:return l.constants.StarknetChainId.SN_SEPOLIA;default:return}}(b.id);return new l.RpcProvider({...c,chainId:d})}}({rpc:a=>{let b=a.rpcUrls.public.http,c=b[Math.floor(Math.random()*b.length)];return c?{nodeUrl:c,specVersion:"0.8.1"}:null}})}a.s(["StarknetConfig",()=>aK,"braavos",()=>aA,"publicProvider",()=>a0,"ready",()=>az,"useAccount",()=>aP,"useBalance",()=>aV,"useConnect",()=>aX,"useContract",()=>aS,"useDisconnect",()=>aY,"useInjectedConnectors",()=>aB,"useProvider",()=>aO,"useReadContract",()=>aZ,"useSendTransaction",()=>a$,"voyager",()=>aM],93234)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1963d69c._.js.map